This is ../../info/gnus, produced by makeinfo version 4.13 from
gnus.texi.

Copyright (C) 1995-2012 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being "A GNU Manual", and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     "GNU Free Documentation License".

     (a) The FSF's Back-Cover Text is: "You have the freedom to copy and
     modify this GNU manual.  Buying copies from the FSF supports it in
     developing GNU and promoting software freedom."

INFO-DIR-SECTION Emacs network features
START-INFO-DIR-ENTRY
* Gnus: (gnus).                 The newsreader Gnus.
END-INFO-DIR-ENTRY


File: gnus,  Node: Top,  Next: Starting Up,  Up: (dir)

The Gnus Newsreader
*******************

You can read news (and mail) from within Emacs by using Gnus.  The news
can be gotten by any nefarious means you can think of--NNTP, local
spool or your mbox file.  All at the same time, if you want to push your
luck.

   This manual corresponds to Gnus v5.13

   Copyright (C) 1995-2012 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being "A GNU Manual", and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     "GNU Free Documentation License".

     (a) The FSF's Back-Cover Text is: "You have the freedom to copy and
     modify this GNU manual.  Buying copies from the FSF supports it in
     developing GNU and promoting software freedom."

* Menu:

* Starting Up::              Finding news can be a pain.
* Group Buffer::             Selecting, subscribing and killing groups.
* Summary Buffer::           Reading, saving and posting articles.
* Article Buffer::           Displaying and handling articles.
* Composing Messages::       Information on sending mail and news.
* Select Methods::           Gnus reads all messages from various select methods.
* Scoring::                  Assigning values to articles.
* Searching::                Mail and News search engines.
* Various::                  General purpose settings.
* The End::                  Farewell and goodbye.
* Appendices::               Terminology, Emacs intro, FAQ, History, Internals.
* GNU Free Documentation License:: The license for this documentation.
* Index::                    Variable, function and concept index.
* Key Index::                Key Index.

Other related manuals

* Message:(message).         Composing messages.
* Emacs-MIME:(emacs-mime).   Composing messages; MIME-specific parts.
* Sieve:(sieve).             Managing Sieve scripts in Emacs.
* EasyPG:(epa).              PGP/MIME with Gnus.
* SASL:(sasl).               SASL authentication in Emacs.

 --- The Detailed Node Listing ---

Starting Gnus

* Finding the News::            Choosing a method for getting news.
* The Server is Down::          How can I read my mail then?
* Slave Gnusae::                You can have more than one Gnus active at a time.
* Fetching a Group::            Starting Gnus just to read a group.
* New Groups::                  What is Gnus supposed to do with new groups?
* Changing Servers::            You may want to move from one server to another.
* Startup Files::               Those pesky startup files---`.newsrc'.
* Auto Save::                   Recovering from a crash.
* The Active File::             Reading the active file over a slow line Takes Time.
* Startup Variables::           Other variables you might change.

New Groups

* Checking New Groups::         Determining what groups are new.
* Subscription Methods::        What Gnus should do with new groups.
* Filtering New Groups::        Making Gnus ignore certain new groups.

Group Buffer

* Group Buffer Format::         Information listed and how you can change it.
* Group Maneuvering::           Commands for moving in the group buffer.
* Selecting a Group::           Actually reading news.
* Subscription Commands::       Unsubscribing, killing, subscribing.
* Group Data::                  Changing the info for a group.
* Group Levels::                Levels? What are those, then?
* Group Score::                 A mechanism for finding out what groups you like.
* Marking Groups::              You can mark groups for later processing.
* Foreign Groups::              Creating and editing groups.
* Group Parameters::            Each group may have different parameters set.
* Listing Groups::              Gnus can list various subsets of the groups.
* Sorting Groups::              Re-arrange the group order.
* Group Maintenance::           Maintaining a tidy `.newsrc' file.
* Browse Foreign Server::       You can browse a server.  See what it has to offer.
* Exiting Gnus::                Stop reading news and get some work done.
* Group Topics::                A folding group mode divided into topics.
* Non-ASCII Group Names::       Accessing groups of non-English names.
* Misc Group Stuff::            Other stuff that you can to do.

Group Buffer Format

* Group Line Specification::    Deciding how the group buffer is to look.
* Group Mode Line Specification::  The group buffer mode line.
* Group Highlighting::          Having nice colors in the group buffer.

Group Topics

* Topic Commands::              Interactive E-Z commands.
* Topic Variables::             How to customize the topics the Lisp Way.
* Topic Sorting::               Sorting each topic individually.
* Topic Topology::              A map of the world.
* Topic Parameters::            Parameters that apply to all groups in a topic.

Misc Group Stuff

* Scanning New Messages::       Asking Gnus to see whether new messages have arrived.
* Group Information::           Information and help on groups and Gnus.
* Group Timestamp::             Making Gnus keep track of when you last read a group.
* File Commands::               Reading and writing the Gnus files.
* Sieve Commands::              Managing Sieve scripts.

Summary Buffer

* Summary Buffer Format::       Deciding how the summary buffer is to look.
* Summary Maneuvering::         Moving around the summary buffer.
* Choosing Articles::           Reading articles.
* Paging the Article::          Scrolling the current article.
* Reply Followup and Post::     Posting articles.
* Delayed Articles::            Send articles at a later time.
* Marking Articles::            Marking articles as read, expirable, etc.
* Limiting::                    You can limit the summary buffer.
* Threading::                   How threads are made.
* Sorting the Summary Buffer::  How articles and threads are sorted.
* Asynchronous Fetching::       Gnus might be able to pre-fetch articles.
* Article Caching::             You may store articles in a cache.
* Persistent Articles::         Making articles expiry-resistant.
* Sticky Articles::             Article buffers that are not reused.
* Article Backlog::             Having already read articles hang around.
* Saving Articles::             Ways of customizing article saving.
* Decoding Articles::           Gnus can treat series of (uu)encoded articles.
* Article Treatment::           The article buffer can be mangled at will.
* MIME Commands::               Doing MIMEy things with the articles.
* Charsets::                    Character set issues.
* Article Commands::            Doing various things with the article buffer.
* Summary Sorting::             Sorting the summary buffer in various ways.
* Finding the Parent::          No child support? Get the parent.
* Alternative Approaches::      Reading using non-default summaries.
* Tree Display::                A more visual display of threads.
* Mail Group Commands::         Some commands can only be used in mail groups.
* Various Summary Stuff::       What didn't fit anywhere else.
* Exiting the Summary Buffer::  Returning to the Group buffer,
                                or reselecting the current group.
* Crosspost Handling::          How crossposted articles are dealt with.
* Duplicate Suppression::       An alternative when crosspost handling fails.
* Security::                    Decrypt and Verify.
* Mailing List::                Mailing list minor mode.

Summary Buffer Format

* Summary Buffer Lines::        You can specify how summary lines should look.
* To From Newsgroups::          How to not display your own name.
* Summary Buffer Mode Line::    You can say how the mode line should look.
* Summary Highlighting::        Making the summary buffer all pretty and nice.

Choosing Articles

* Choosing Commands::           Commands for choosing articles.
* Choosing Variables::          Variables that influence these commands.

Reply, Followup and Post

* Summary Mail Commands::       Sending mail.
* Summary Post Commands::       Sending news.
* Summary Message Commands::    Other Message-related commands.
* Canceling and Superseding::

Marking Articles

* Unread Articles::             Marks for unread articles.
* Read Articles::               Marks for read articles.
* Other Marks::                 Marks that do not affect readedness.
* Setting Marks::               How to set and remove marks.
* Generic Marking Commands::    How to customize the marking.
* Setting Process Marks::       How to mark articles for later processing.

Threading

* Customizing Threading::       Variables you can change to affect the threading.
* Thread Commands::             Thread based commands in the summary buffer.

Customizing Threading

* Loose Threads::               How Gnus gathers loose threads into bigger threads.
* Filling In Threads::          Making the threads displayed look fuller.
* More Threading::              Even more variables for fiddling with threads.
* Low-Level Threading::         You thought it was over... but you were wrong!

Decoding Articles

* Uuencoded Articles::          Uudecode articles.
* Shell Archives::              Unshar articles.
* PostScript Files::            Split PostScript.
* Other Files::                 Plain save and binhex.
* Decoding Variables::          Variables for a happy decoding.
* Viewing Files::               You want to look at the result of the decoding?

Decoding Variables

* Rule Variables::              Variables that say how a file is to be viewed.
* Other Decode Variables::      Other decode variables.
* Uuencoding and Posting::      Variables for customizing uuencoding.

Article Treatment

* Article Highlighting::        You want to make the article look like fruit salad.
* Article Fontisizing::         Making emphasized text look nice.
* Article Hiding::              You also want to make certain info go away.
* Article Washing::             Lots of way-neat functions to make life better.
* Article Header::              Doing various header transformations.
* Article Buttons::             Click on URLs, Message-IDs, addresses and the like.
* Article Button Levels::       Controlling appearance of buttons.
* Article Date::                Grumble, UT!
* Article Display::             Display various stuff---X-Face, Picons, Smileys, Gravatars
* Article Signature::           What is a signature?
* Article Miscellanea::         Various other stuff.

Alternative Approaches

* Pick and Read::               First mark articles and then read them.
* Binary Groups::               Auto-decode all articles.

Various Summary Stuff

* Summary Group Information::   Information oriented commands.
* Searching for Articles::      Multiple article commands.
* Summary Generation Commands::
* Really Various Summary Commands::  Those pesky non-conformant commands.

Article Buffer

* Hiding Headers::              Deciding what headers should be displayed.
* Using MIME::                  Pushing articles through MIME before reading them.
* Customizing Articles::        Tailoring the look of the articles.
* Article Keymap::              Keystrokes available in the article buffer.
* Misc Article::                Other stuff.

Composing Messages

* Mail::                        Mailing and replying.
* Posting Server::              What server should you post and mail via?
* POP before SMTP::             You cannot send a mail unless you read a mail.
* Mail and Post::               Mailing and posting at the same time.
* Archived Messages::           Where Gnus stores the messages you've sent.
* Posting Styles::              An easier way to specify who you are.
* Drafts::                      Postponing messages and rejected messages.
* Rejected Articles::           What happens if the server doesn't like your article?
* Signing and encrypting::      How to compose secure messages.

Select Methods

* Server Buffer::               Making and editing virtual servers.
* Getting News::                Reading USENET news with Gnus.
* Using IMAP::                  Reading mail from IMAP.
* Getting Mail::                Reading your personal mail with Gnus.
* Browsing the Web::            Getting messages from a plethora of Web sources.
* Other Sources::               Reading directories, files.
* Combined Groups::             Combining groups into one group.
* Email Based Diary::           Using mails to manage diary events in Gnus.
* Gnus Unplugged::              Reading news and mail offline.

Server Buffer

* Server Buffer Format::        You can customize the look of this buffer.
* Server Commands::             Commands to manipulate servers.
* Example Methods::             Examples server specifications.
* Creating a Virtual Server::   An example session.
* Server Variables::            Which variables to set.
* Servers and Methods::         You can use server names as select methods.
* Unavailable Servers::         Some servers you try to contact may be down.

Getting News

* NNTP::                        Reading news from an NNTP server.
* News Spool::                  Reading news from the local spool.

NNTP

* Direct Functions::            Connecting directly to the server.
* Indirect Functions::          Connecting indirectly to the server.
* Common Variables::            Understood by several connection functions.
* NNTP marks::                  Storing marks for NNTP servers.

Getting Mail

* Mail in a Newsreader::        Important introductory notes.
* Getting Started Reading Mail::  A simple cookbook example.
* Splitting Mail::              How to create mail groups.
* Mail Sources::                How to tell Gnus where to get mail from.
* Mail Back End Variables::     Variables for customizing mail handling.
* Fancy Mail Splitting::        Gnus can do hairy splitting of incoming mail.
* Group Mail Splitting::        Use group customize to drive mail splitting.
* Incorporating Old Mail::      What about the old mail you have?
* Expiring Mail::               Getting rid of unwanted mail.
* Washing Mail::                Removing cruft from the mail you get.
* Duplicates::                  Dealing with duplicated mail.
* Not Reading Mail::            Using mail back ends for reading other files.
* Choosing a Mail Back End::    Gnus can read a variety of mail formats.

Mail Sources

* Mail Source Specifiers::      How to specify what a mail source is.
* Mail Source Customization::   Some variables that influence things.
* Fetching Mail::               Using the mail source specifiers.

Choosing a Mail Back End

* Unix Mail Box::               Using the (quite) standard Un*x mbox.
* Babyl::                       Babyl was used by older versions of Rmail.
* Mail Spool::                  Store your mail in a private spool?
* MH Spool::                    An mhspool-like back end.
* Maildir::                     Another one-file-per-message format.
* Mail Folders::                Having one file for each group.
* Comparing Mail Back Ends::    An in-depth looks at pros and cons.

Browsing the Web

* Archiving Mail::
* Web Searches::                Creating groups from articles that match a string.
* RSS::                         Reading RDF site summary.
* Customizing W3::              Doing stuff to Emacs/W3 from Gnus.

Other Sources

* Directory Groups::            You can read a directory as if it was a newsgroup.
* Anything Groups::             Dired?  Who needs dired?
* Document Groups::             Single files can be the basis of a group.
* Mail-To-News Gateways::       Posting articles via mail-to-news gateways.
* The Empty Backend::           The backend that never has any news.

Document Groups

* Document Server Internals::   How to add your own document types.

Combined Groups

* Virtual Groups::              Combining articles from many groups.

Email Based Diary

* The NNDiary Back End::        Basic setup and usage.
* The Gnus Diary Library::      Utility toolkit on top of nndiary.
* Sending or Not Sending::      A final note on sending diary messages.

The NNDiary Back End

* Diary Messages::              What makes a message valid for nndiary.
* Running NNDiary::             NNDiary has two modes of operation.
* Customizing NNDiary::         Bells and whistles.

The Gnus Diary Library

* Diary Summary Line Format::           A nicer summary buffer line format.
* Diary Articles Sorting::              A nicer way to sort messages.
* Diary Headers Generation::            Not doing it manually.
* Diary Group Parameters::              Not handling them manually.

Gnus Unplugged

* Agent Basics::                How it all is supposed to work.
* Agent Categories::            How to tell the Gnus Agent what to download.
* Agent Commands::              New commands for all the buffers.
* Agent Visuals::               Ways that the agent may effect your summary buffer.
* Agent as Cache::              The Agent is a big cache too.
* Agent Expiry::                How to make old articles go away.
* Agent Regeneration::          How to recover from lost connections and other accidents.
* Agent and flags::             How the Agent maintains flags.
* Agent and IMAP::              How to use the Agent with IMAP.
* Outgoing Messages::           What happens when you post/mail something?
* Agent Variables::             Customizing is fun.
* Example Setup::               An example `~/.gnus.el' file for offline people.
* Batching Agents::             How to fetch news from a `cron' job.
* Agent Caveats::               What you think it'll do and what it does.

Agent Categories

* Category Syntax::             What a category looks like.
* Category Buffer::             A buffer for maintaining categories.
* Category Variables::          Customize'r'Us.

Agent Commands

* Group Agent Commands::        Configure groups and fetch their contents.
* Summary Agent Commands::      Manually select then fetch specific articles.
* Server Agent Commands::       Select the servers that are supported by the agent.

Scoring

* Summary Score Commands::      Adding score entries for the current group.
* Group Score Commands::        General score commands.
* Score Variables::             Customize your scoring.  (My, what terminology).
* Score File Format::           What a score file may contain.
* Score File Editing::          You can edit score files by hand as well.
* Adaptive Scoring::            Big Sister Gnus knows what you read.
* Home Score File::             How to say where new score entries are to go.
* Followups To Yourself::       Having Gnus notice when people answer you.
* Scoring On Other Headers::    Scoring on non-standard headers.
* Scoring Tips::                How to score effectively.
* Reverse Scoring::             That problem child of old is not problem.
* Global Score Files::          Earth-spanning, ear-splitting score files.
* Kill Files::                  They are still here, but they can be ignored.
* Converting Kill Files::       Translating kill files to score files.
* Advanced Scoring::            Using logical expressions to build score rules.
* Score Decays::                It can be useful to let scores wither away.

Advanced Scoring

* Advanced Scoring Syntax::     A definition.
* Advanced Scoring Examples::   What they look like.
* Advanced Scoring Tips::       Getting the most out of it.

Searching

* nnir::                        Searching with various engines.
* nnmairix::                    Searching with Mairix.

nnir

* What is nnir?::               What does nnir do.
* Basic Usage::                 How to perform simple searches.
* Setting up nnir::             How to set up nnir.

Setting up nnir

* Associating Engines::         How to associate engines.

Various

* Process/Prefix::              A convention used by many treatment commands.
* Interactive::                 Making Gnus ask you many questions.
* Symbolic Prefixes::           How to supply some Gnus functions with options.
* Formatting Variables::        You can specify what buffers should look like.
* Window Layout::               Configuring the Gnus buffer windows.
* Faces and Fonts::             How to change how faces look.
* Compilation::                 How to speed Gnus up.
* Mode Lines::                  Displaying information in the mode lines.
* Highlighting and Menus::      Making buffers look all nice and cozy.
* Daemons::                     Gnus can do things behind your back.
* Undo::                        Some actions can be undone.
* Predicate Specifiers::        Specifying predicates.
* Moderation::                  What to do if you're a moderator.
* Image Enhancements::          Modern versions of Emacs/XEmacs can display images.
* Fuzzy Matching::              What's the big fuzz?
* Thwarting Email Spam::        Simple ways to avoid unsolicited commercial email.
* Spam Package::                A package for filtering and processing spam.
* The Gnus Registry::           A package for tracking messages by Message-ID.
* Other modes::                 Interaction with other modes.
* Various Various::             Things that are really various.

Formatting Variables

* Formatting Basics::           A formatting variable is basically a format string.
* Mode Line Formatting::        Some rules about mode line formatting variables.
* Advanced Formatting::         Modifying output in various ways.
* User-Defined Specs::          Having Gnus call your own functions.
* Formatting Fonts::            Making the formatting look colorful and nice.
* Positioning Point::           Moving point to a position after an operation.
* Tabulation::                  Tabulating your output.
* Wide Characters::             Dealing with wide characters.

Image Enhancements

* X-Face::                      Display a funky, teensy black-and-white image.
* Face::                        Display a funkier, teensier colored image.
* Smileys::                     Show all those happy faces the way they were
                                  meant to be shown.
* Picons::                      How to display pictures of what you're reading.
* Gravatars::                   Display the avatar of people you read.
* XVarious::                    Other XEmacsy Gnusey variables.

Thwarting Email Spam

* The problem of spam::         Some background, and some solutions
* Anti-Spam Basics::            Simple steps to reduce the amount of spam.
* SpamAssassin::                How to use external anti-spam tools.
* Hashcash::                    Reduce spam by burning CPU time.

Spam Package

* Spam Package Introduction::
* Filtering Incoming Mail::
* Detecting Spam in Groups::
* Spam and Ham Processors::
* Spam Package Configuration Examples::
* Spam Back Ends::
* Extending the Spam package::
* Spam Statistics Package::

Spam Statistics Package

* Creating a spam-stat dictionary::
* Splitting mail using spam-stat::
* Low-level interface to the spam-stat dictionary::

Appendices

* XEmacs::                      Requirements for installing under XEmacs.
* History::                     How Gnus got where it is today.
* On Writing Manuals::          Why this is not a beginner's guide.
* Terminology::                 We use really difficult, like, words here.
* Customization::               Tailoring Gnus to your needs.
* Troubleshooting::             What you might try if things do not work.
* Gnus Reference Guide::        Rilly, rilly technical stuff.
* Emacs for Heathens::          A short introduction to Emacsian terms.
* Frequently Asked Questions::  The Gnus FAQ

History

* Gnus Versions::               What Gnus versions have been released.
* Why?::                        What's the point of Gnus?
* Compatibility::               Just how compatible is Gnus with GNUS?
* Conformity::                  Gnus tries to conform to all standards.
* Emacsen::                     Gnus can be run on a few modern Emacsen.
* Gnus Development::            How Gnus is developed.
* Contributors::                Oodles of people.
* New Features::                Pointers to some of the new stuff in Gnus.

New Features

* ding Gnus::                   New things in Gnus 5.0/5.1, the first new Gnus.
* September Gnus::              The Thing Formally Known As Gnus 5.2/5.3.
* Red Gnus::                    Third time best---Gnus 5.4/5.5.
* Quassia Gnus::                Two times two is four, or Gnus 5.6/5.7.
* Pterodactyl Gnus::            Pentad also starts with P, AKA Gnus 5.8/5.9.
* Oort Gnus::                   It's big.  It's far out.  Gnus 5.10/5.11.
* No Gnus::                     Very punny.

Customization

* Slow/Expensive Connection::   You run a local Emacs and get the news elsewhere.
* Slow Terminal Connection::    You run a remote Emacs.
* Little Disk Space::           You feel that having large setup files is icky.
* Slow Machine::                You feel like buying a faster machine.

Gnus Reference Guide

* Gnus Utility Functions::      Common functions and variable to use.
* Back End Interface::          How Gnus communicates with the servers.
* Score File Syntax::           A BNF definition of the score file standard.
* Headers::                     How Gnus stores headers internally.
* Ranges::                      A handy format for storing mucho numbers.
* Group Info::                  The group info format.
* Extended Interactive::        Symbolic prefixes and stuff.
* Emacs/XEmacs Code::           Gnus can be run under all modern Emacsen.
* Various File Formats::        Formats of files that Gnus use.

Back End Interface

* Required Back End Functions::  Functions that must be implemented.
* Optional Back End Functions::  Functions that need not be implemented.
* Error Messaging::             How to get messages and report errors.
* Writing New Back Ends::       Extending old back ends.
* Hooking New Back Ends Into Gnus::  What has to be done on the Gnus end.
* Mail-like Back Ends::         Some tips on mail back ends.

Various File Formats

* Active File Format::          Information on articles and groups available.
* Newsgroups File Format::      Group descriptions.

Emacs for Heathens

* Keystrokes::                  Entering text and executing commands.
* Emacs Lisp::                  The built-in Emacs programming language.


File: gnus,  Node: Starting Up,  Next: Group Buffer,  Prev: Top,  Up: Top

1 Starting Gnus
***************

If you haven't used Emacs much before using Gnus, read *note Emacs for
Heathens:: first.

   If your system administrator has set things up properly, starting
Gnus and reading news is extremely easy--you just type `M-x gnus' in
your Emacs.  If not, you should customize the variable
`gnus-select-method' as described in *note Finding the News::.  For a
minimal setup for posting should also customize the variables
`user-full-name' and `user-mail-address'.

   If you want to start Gnus in a different frame, you can use the
command `M-x gnus-other-frame' instead.

   If things do not go smoothly at startup, you have to twiddle some
variables in your `~/.gnus.el' file.  This file is similar to
`~/.emacs', but is read when Gnus starts.

   If you puzzle at any terms used in this manual, please refer to the
terminology section (*note Terminology::).

* Menu:

* Finding the News::      Choosing a method for getting news.
* The Server is Down::    How can I read my mail then?
* Slave Gnusae::          You can have more than one Gnus active at a time.
* New Groups::            What is Gnus supposed to do with new groups?
* Changing Servers::      You may want to move from one server to another.
* Startup Files::         Those pesky startup files---`.newsrc'.
* Auto Save::             Recovering from a crash.
* The Active File::       Reading the active file over a slow line Takes Time.
* Startup Variables::     Other variables you might change.


File: gnus,  Node: Finding the News,  Next: The Server is Down,  Up: Starting Up

1.1 Finding the News
====================

First of all, you should know that there is a special buffer called
`*Server*' that lists all the servers Gnus knows about.  You can press
`^' from the Group buffer to see it.  In the Server buffer, you can
press `RET' on a defined server to see all the groups it serves
(subscribed or not!).  You can also add or delete servers, edit a
foreign server's definition, agentize or de-agentize a server, and do
many other neat things.  *Note Server Buffer::.  *Note Foreign
Groups::.  *Note Agent Basics::.

   The `gnus-select-method' variable says where Gnus should look for
news.  This variable should be a list where the first element says
"how" and the second element says "where".  This method is your native
method.  All groups not fetched with this method are secondary or
foreign groups.

   For instance, if the `news.somewhere.edu' NNTP server is where you
want to get your daily dosage of news from, you'd say:

     (setq gnus-select-method '(nntp "news.somewhere.edu"))

   If you want to read directly from the local spool, say:

     (setq gnus-select-method '(nnspool ""))

   If you can use a local spool, you probably should, as it will almost
certainly be much faster.  But do not use the local spool if your
server is running Leafnode (which is a simple, standalone private news
server); in this case, use `(nntp "localhost")'.

   If this variable is not set, Gnus will take a look at the
`NNTPSERVER' environment variable.  If that variable isn't set, Gnus
will see whether `gnus-nntpserver-file' (`/etc/nntpserver' by default)
has any opinions on the matter.  If that fails as well, Gnus will try
to use the machine running Emacs as an NNTP server.  That's a long
shot, though.

   However, if you use one NNTP server regularly and are just
interested in a couple of groups from a different server, you would be
better served by using the `B' command in the group buffer.  It will
let you have a look at what groups are available, and you can subscribe
to any of the groups you want to.  This also makes `.newsrc'
maintenance much tidier.  *Note Foreign Groups::.

   A slightly different approach to foreign groups is to set the
`gnus-secondary-select-methods' variable.  The select methods listed in
this variable are in many ways just as native as the
`gnus-select-method' server.  They will also be queried for active
files during startup (if that's required), and new newsgroups that
appear on these servers will be subscribed (or not) just as native
groups are.

   For instance, if you use the `nnmbox' back end to read your mail,
you would typically set this variable to

     (setq gnus-secondary-select-methods '((nnmbox "")))

   Note: the NNTP back end stores marks in marks files (*note NNTP
marks::).  This feature makes it easy to share marks between several
Gnus installations, but may slow down things a bit when fetching new
articles.  *Note NNTP marks::, for more information.


File: gnus,  Node: The Server is Down,  Next: Slave Gnusae,  Prev: Finding the News,  Up: Starting Up

1.2 The Server is Down
======================

If the default server is down, Gnus will understandably have some
problems starting.  However, if you have some mail groups in addition to
the news groups, you may want to start Gnus anyway.

   Gnus, being the trusting sort of program, will ask whether to proceed
without a native select method if that server can't be contacted.  This
will happen whether the server doesn't actually exist (i.e., you have
given the wrong address) or the server has just momentarily taken ill
for some reason or other.  If you decide to continue and have no foreign
groups, you'll find it difficult to actually do anything in the group
buffer.  But, hey, that's your problem.  Blllrph!

   If you know that the server is definitely down, or you just want to
read your mail without bothering with the server at all, you can use the
`gnus-no-server' command to start Gnus.  That might come in handy if
you're in a hurry as well.  This command will not attempt to contact
your primary server--instead, it will just activate all groups on level
1 and 2.  (You should preferably keep no native groups on those two
levels.) Also *note Group Levels::.


File: gnus,  Node: Slave Gnusae,  Next: New Groups,  Prev: The Server is Down,  Up: Starting Up

1.3 Slave Gnusae
================

You might want to run more than one Emacs with more than one Gnus at the
same time.  If you are using different `.newsrc' files (e.g., if you
are using the two different Gnusae to read from two different servers),
that is no problem whatsoever.  You just do it.

   The problem appears when you want to run two Gnusae that use the same
`.newsrc' file.

   To work around that problem some, we here at the Think-Tank at the
Gnus Towers have come up with a new concept: "Masters" and "slaves".
(We have applied for a patent on this concept, and have taken out a
copyright on those words.  If you wish to use those words in
conjunction with each other, you have to send $1 per usage instance to
me.  Usage of the patent ("Master/Slave Relationships In Computer
Applications") will be much more expensive, of course.)

   Anyway, you start one Gnus up the normal way with `M-x gnus' (or
however you do it).  Each subsequent slave Gnusae should be started with
`M-x gnus-slave'.  These slaves won't save normal `.newsrc' files, but
instead save "slave files" that contain information only on what groups
have been read in the slave session.  When a master Gnus starts, it
will read (and delete) these slave files, incorporating all information
from them.  (The slave files will be read in the sequence they were
created, so the latest changes will have precedence.)

   Information from the slave files has, of course, precedence over the
information in the normal (i.e., master) `.newsrc' file.

   If the `.newsrc*' files have not been saved in the master when the
slave starts, you may be prompted as to whether to read an auto-save
file.  If you answer "yes", the unsaved changes to the master will be
incorporated into the slave.  If you answer "no", the slave may see some
messages as unread that have been read in the master.


File: gnus,  Node: New Groups,  Next: Changing Servers,  Prev: Slave Gnusae,  Up: Starting Up

1.4 New Groups
==============

If you are satisfied that you really never want to see any new groups,
you can set `gnus-check-new-newsgroups' to `nil'.  This will also save
you some time at startup.  Even if this variable is `nil', you can
always subscribe to the new groups just by pressing `U' in the group
buffer (*note Group Maintenance::).  This variable is `ask-server' by
default.  If you set this variable to `always', then Gnus will query
the back ends for new groups even when you do the `g' command (*note
Scanning New Messages::).

* Menu:

* Checking New Groups::         Determining what groups are new.
* Subscription Methods::        What Gnus should do with new groups.
* Filtering New Groups::        Making Gnus ignore certain new groups.


File: gnus,  Node: Checking New Groups,  Next: Subscription Methods,  Up: New Groups

1.4.1 Checking New Groups
-------------------------

Gnus normally determines whether a group is new or not by comparing the
list of groups from the active file(s) with the lists of subscribed and
dead groups.  This isn't a particularly fast method.  If
`gnus-check-new-newsgroups' is `ask-server', Gnus will ask the server
for new groups since the last time.  This is both faster and cheaper.
This also means that you can get rid of the list of killed groups
(*note Group Levels::) altogether, so you may set
`gnus-save-killed-list' to `nil', which will save time both at startup,
at exit, and all over.  Saves disk space, too.  Why isn't this the
default, then?  Unfortunately, not all servers support this command.

   I bet I know what you're thinking now: How do I find out whether my
server supports `ask-server'?  No?  Good, because I don't have a
fail-safe answer.  I would suggest just setting this variable to
`ask-server' and see whether any new groups appear within the next few
days.  If any do, then it works.  If none do, then it doesn't work.  I
could write a function to make Gnus guess whether the server supports
`ask-server', but it would just be a guess.  So I won't.  You could
`telnet' to the server and say `HELP' and see whether it lists
`NEWGROUPS' among the commands it understands.  If it does, then it
might work.  (But there are servers that lists `NEWGROUPS' without
supporting the function properly.)

   This variable can also be a list of select methods.  If so, Gnus will
issue an `ask-server' command to each of the select methods, and
subscribe them (or not) using the normal methods.  This might be handy
if you are monitoring a few servers for new groups.  A side effect is
that startup will take much longer, so you can meditate while waiting.
Use the mantra "dingnusdingnusdingnus" to achieve permanent bliss.


File: gnus,  Node: Subscription Methods,  Next: Filtering New Groups,  Prev: Checking New Groups,  Up: New Groups

1.4.2 Subscription Methods
--------------------------

What Gnus does when it encounters a new group is determined by the
`gnus-subscribe-newsgroup-method' variable.

   This variable should contain a function.  This function will be
called with the name of the new group as the only parameter.

   Some handy pre-fab functions are:

`gnus-subscribe-zombies'
     Make all new groups zombies (*note Group Levels::).  This is the
     default.  You can browse the zombies later (with `A z') and either
     kill them all off properly (with `S z'), or subscribe to them
     (with `u').

`gnus-subscribe-randomly'
     Subscribe all new groups in arbitrary order.  This really means
     that all new groups will be added at "the top" of the group buffer.

`gnus-subscribe-alphabetically'
     Subscribe all new groups in alphabetical order.

`gnus-subscribe-hierarchically'
     Subscribe all new groups hierarchically.  The difference between
     this function and `gnus-subscribe-alphabetically' is slight.
     `gnus-subscribe-alphabetically' will subscribe new groups in a
     strictly alphabetical fashion, while this function will enter
     groups into its hierarchy.  So if you want to have the `rec'
     hierarchy before the `comp' hierarchy, this function will not mess
     that configuration up.  Or something like that.

`gnus-subscribe-interactively'
     Subscribe new groups interactively.  This means that Gnus will ask
     you about *all* new groups.  The groups you choose to subscribe to
     will be subscribed hierarchically.

`gnus-subscribe-killed'
     Kill all new groups.

`gnus-subscribe-topics'
     Put the groups into the topic that has a matching `subscribe' topic
     parameter (*note Topic Parameters::).  For instance, a `subscribe'
     topic parameter that looks like

          "nnml"

     will mean that all groups that match that regex will be subscribed
     under that topic.

     If no topics match the groups, the groups will be subscribed in the
     top-level topic.


   A closely related variable is
`gnus-subscribe-hierarchical-interactive'.  (That's quite a mouthful.)
If this variable is non-`nil', Gnus will ask you in a hierarchical
fashion whether to subscribe to new groups or not.  Gnus will ask you
for each sub-hierarchy whether you want to descend the hierarchy or not.

   One common mistake is to set the variable a few paragraphs above
(`gnus-subscribe-newsgroup-method') to
`gnus-subscribe-hierarchical-interactive'.  This is an error.  This
will not work.  This is ga-ga.  So don't do it.


File: gnus,  Node: Filtering New Groups,  Prev: Subscription Methods,  Up: New Groups

1.4.3 Filtering New Groups
--------------------------

A nice and portable way to control which new newsgroups should be
subscribed (or ignored) is to put an "options" line at the start of the
`.newsrc' file.  Here's an example:

     options -n !alt.all !rec.all sci.all

   This line obviously belongs to a serious-minded intellectual
scientific person (or she may just be plain old boring), because it
says that all groups that have names beginning with `alt' and `rec'
should be ignored, and all groups with names beginning with `sci' should
be subscribed.  Gnus will not use the normal subscription method for
subscribing these groups.  `gnus-subscribe-options-newsgroup-method' is
used instead.  This variable defaults to
`gnus-subscribe-alphabetically'.

   The "options -n" format is very simplistic.  The syntax above is all
that is supports - you can force-subscribe hierarchies, or you can deny
hierarchies, and that's it.

   If you don't want to mess with your `.newsrc' file, you can just set
the two variables `gnus-options-subscribe' and
`gnus-options-not-subscribe'.  These two variables do exactly the same
as the `.newsrc' `options -n' trick.  Both are regexps, and if the new
group matches the former, it will be unconditionally subscribed, and if
it matches the latter, it will be ignored.

   Yet another variable that meddles here is
`gnus-auto-subscribed-groups'.  It works exactly like
`gnus-options-subscribe', and is therefore really superfluous, but I
thought it would be nice to have two of these.  This variable is more
meant for setting some ground rules, while the other variable is used
more for user fiddling.  By default this variable makes all new groups
that come from mail back ends (`nnml', `nnbabyl', `nnfolder', `nnmbox',
`nnmh', `nnimap', and `nnmaildir') subscribed.  If you don't like that,
just set this variable to `nil'.

   As if that wasn't enough, `gnus-auto-subscribed-categories' also
allows you to specify that new groups should be subscribed based on the
category their select methods belong to.  The default is `(mail
post-mail)', meaning that all new groups from mail-like backends should
be subscribed automatically.

   New groups that match these variables are subscribed using
`gnus-subscribe-options-newsgroup-method'.


File: gnus,  Node: Changing Servers,  Next: Startup Files,  Prev: New Groups,  Up: Starting Up

1.5 Changing Servers
====================

Sometimes it is necessary to move from one NNTP server to another.
This happens very rarely, but perhaps you change jobs, or one server is
very flaky and you want to use another.

   Changing the server is pretty easy, right?  You just change
`gnus-select-method' to point to the new server?

   _Wrong!_

   Article numbers are not (in any way) kept synchronized between
different NNTP servers, and the only way Gnus keeps track of what
articles you have read is by keeping track of article numbers.  So when
you change `gnus-select-method', your `.newsrc' file becomes worthless.

   You can use the `M-x gnus-group-clear-data-on-native-groups' command
to clear out all data that you have on your native groups.  Use with
caution.

   Clear the data from the current group only--nix out marks and the
list of read articles (`gnus-group-clear-data').

   After changing servers, you *must* move the cache hierarchy away,
since the cached articles will have wrong article numbers, which will
affect which articles Gnus thinks are read.
`gnus-group-clear-data-on-native-groups' will ask you if you want to
have it done automatically; for `gnus-group-clear-data', you can use
`M-x gnus-cache-move-cache' (but beware, it will move the cache for all
groups).


File: gnus,  Node: Startup Files,  Next: Auto Save,  Prev: Changing Servers,  Up: Starting Up

1.6 Startup Files
=================

Most common Unix news readers use a shared startup file called
`.newsrc'.  This file contains all the information about what groups
are subscribed, and which articles in these groups have been read.

   Things got a bit more complicated with GNUS.  In addition to keeping
the `.newsrc' file updated, it also used a file called `.newsrc.el' for
storing all the information that didn't fit into the `.newsrc' file.
(Actually, it also duplicated everything in the `.newsrc' file.)  GNUS
would read whichever one of these files was the most recently saved,
which enabled people to swap between GNUS and other newsreaders.

   That was kinda silly, so Gnus went one better: In addition to the
`.newsrc' and `.newsrc.el' files, Gnus also has a file called
`.newsrc.eld'.  It will read whichever of these files that are most
recent, but it will never write a `.newsrc.el' file.  You should never
delete the `.newsrc.eld' file--it contains much information not stored
in the `.newsrc' file.

   You can turn off writing the `.newsrc' file by setting
`gnus-save-newsrc-file' to `nil', which means you can delete the file
and save some space, as well as exiting from Gnus faster.  However,
this will make it impossible to use other newsreaders than Gnus.  But
hey, who would want to, right?  Similarly, setting
`gnus-read-newsrc-file' to `nil' makes Gnus ignore the `.newsrc' file
and any `.newsrc-SERVER' files, which can be convenient if you use a
different news reader occasionally, and you want to read a different
subset of the available groups with that news reader.

   If `gnus-save-killed-list' (default `t') is `nil', Gnus will not
save the list of killed groups to the startup file.  This will save
both time (when starting and quitting) and space (on disk).  It will
also mean that Gnus has no record of what groups are new or old, so the
automatic new groups subscription methods become meaningless.  You
should always set `gnus-check-new-newsgroups' to `nil' or `ask-server'
if you set this variable to `nil' (*note New Groups::).  This variable
can also be a regular expression.  If that's the case, remove all
groups that do not match this regexp before saving.  This can be useful
in certain obscure situations that involve several servers where not
all servers support `ask-server'.

   The `gnus-startup-file' variable says where the startup files are.
The default value is `~/.newsrc', with the Gnus (El Dingo) startup file
being whatever that one is, with a `.eld' appended.  If you want to
keep multiple numbered backups of this file, set
`gnus-backup-startup-file'.  It respects the same values as the
`version-control' variable.

   `gnus-save-newsrc-hook' is called before saving any of the newsrc
files, while `gnus-save-quick-newsrc-hook' is called just before saving
the `.newsrc.eld' file, and `gnus-save-standard-newsrc-hook' is called
just before saving the `.newsrc' file.  The latter two are commonly
used to turn version control on or off.  Version control is on by
default when saving the startup files.  If you want to turn backup
creation off, say something like:

     (defun turn-off-backup ()
       (set (make-local-variable 'backup-inhibited) t))

     (add-hook 'gnus-save-quick-newsrc-hook 'turn-off-backup)
     (add-hook 'gnus-save-standard-newsrc-hook 'turn-off-backup)

   When Gnus starts, it will read the `gnus-site-init-file'
(`.../site-lisp/gnus-init' by default) and `gnus-init-file' (`~/.gnus'
by default) files.  These are normal Emacs Lisp files and can be used
to avoid cluttering your `~/.emacs' and `site-init' files with Gnus
stuff.  Gnus will also check for files with the same names as these,
but with `.elc' and `.el' suffixes.  In other words, if you have set
`gnus-init-file' to `~/.gnus', it will look for `~/.gnus.elc',
`~/.gnus.el', and finally `~/.gnus' (in this order).  If Emacs was
invoked with the `-q' or `--no-init-file' options (*note Initial
Options: (emacs)Initial Options.), Gnus doesn't read `gnus-init-file'.


File: gnus,  Node: Auto Save,  Next: The Active File,  Prev: Startup Files,  Up: Starting Up

1.7 Auto Save
=============

Whenever you do something that changes the Gnus data (reading articles,
catching up, killing/subscribing groups), the change is added to a
special "dribble buffer".  This buffer is auto-saved the normal Emacs
way.  If your Emacs should crash before you have saved the `.newsrc'
files, all changes you have made can be recovered from this file.

   If Gnus detects this file at startup, it will ask the user whether to
read it.  The auto save file is deleted whenever the real startup file
is saved.

   If `gnus-use-dribble-file' is `nil', Gnus won't create and maintain
a dribble buffer.  The default is `t'.

   Gnus will put the dribble file(s) in `gnus-dribble-directory'.  If
this variable is `nil', which it is by default, Gnus will dribble into
the directory where the `.newsrc' file is located.  (This is normally
the user's home directory.)  The dribble file will get the same file
permissions as the `.newsrc' file.

   If `gnus-always-read-dribble-file' is non-`nil', Gnus will read the
dribble file on startup without querying the user.


File: gnus,  Node: The Active File,  Next: Startup Variables,  Prev: Auto Save,  Up: Starting Up

1.8 The Active File
===================

When Gnus starts, or indeed whenever it tries to determine whether new
articles have arrived, it reads the active file.  This is a very large
file that lists all the active groups and articles on the server.

   Before examining the active file, Gnus deletes all lines that match
the regexp `gnus-ignored-newsgroups'.  This is done primarily to reject
any groups with bogus names, but you can use this variable to make Gnus
ignore hierarchies you aren't ever interested in.  However, this is not
recommended.  In fact, it's highly discouraged.  Instead, *note New
Groups:: for an overview of other variables that can be used instead.

   The active file can be rather Huge, so if you have a slow network,
you can set `gnus-read-active-file' to `nil' to prevent Gnus from
reading the active file.  This variable is `some' by default.

   Gnus will try to make do by getting information just on the groups
that you actually subscribe to.

   Note that if you subscribe to lots and lots of groups, setting this
variable to `nil' will probably make Gnus slower, not faster.  At
present, having this variable `nil' will slow Gnus down considerably,
unless you read news over a 2400 baud modem.

   This variable can also have the value `some'.  Gnus will then
attempt to read active info only on the subscribed groups.  On some
servers this is quite fast (on sparkling, brand new INN servers that
support the `LIST ACTIVE group' command), on others this isn't fast at
all.  In any case, `some' should be faster than `nil', and is certainly
faster than `t' over slow lines.

   Some news servers (old versions of Leafnode and old versions of INN,
for instance) do not support the `LIST ACTIVE group'.  For these
servers, `nil' is probably the most efficient value for this variable.

   If this variable is `nil', Gnus will ask for group info in total
lock-step, which isn't very fast.  If it is `some' and you use an NNTP
server, Gnus will pump out commands as fast as it can, and read all the
replies in one swoop.  This will normally result in better performance,
but if the server does not support the aforementioned `LIST ACTIVE
group' command, this isn't very nice to the server.

   If you think that starting up Gnus takes too long, try all the three
different values for this variable and see what works best for you.

   In any case, if you use `some' or `nil', you should definitely kill
all groups that you aren't interested in to speed things up.

   Note that this variable also affects active file retrieval from
secondary select methods.


File: gnus,  Node: Startup Variables,  Prev: The Active File,  Up: Starting Up

1.9 Startup Variables
=====================

`gnus-load-hook'
     A hook run while Gnus is being loaded.  Note that this hook will
     normally be run just once in each Emacs session, no matter how many
     times you start Gnus.

`gnus-before-startup-hook'
     A hook called as the first thing when Gnus is started.

`gnus-startup-hook'
     A hook run as the very last thing after starting up Gnus

`gnus-started-hook'
     A hook that is run as the very last thing after starting up Gnus
     successfully.

`gnus-setup-news-hook'
     A hook that is run after reading the `.newsrc' file(s), but before
     generating the group buffer.

`gnus-check-bogus-newsgroups'
     If non-`nil', Gnus will check for and delete all bogus groups at
     startup.  A "bogus group" is a group that you have in your
     `.newsrc' file, but doesn't exist on the news server.  Checking for
     bogus groups can take quite a while, so to save time and resources
     it's best to leave this option off, and do the checking for bogus
     groups once in a while from the group buffer instead (*note Group
     Maintenance::).

`gnus-inhibit-startup-message'
     If non-`nil', the startup message won't be displayed.  That way,
     your boss might not notice as easily that you are reading news
     instead of doing your job.  Note that this variable is used before
     `~/.gnus.el' is loaded, so it should be set in `.emacs' instead.

`gnus-no-groups-message'
     Message displayed by Gnus when no groups are available.

`gnus-use-backend-marks'
     If non-`nil', Gnus will store article marks both in the
     `.newsrc.eld' file and in the backends.  This will slow down group
     operation some.



File: gnus,  Node: Group Buffer,  Next: Summary Buffer,  Prev: Starting Up,  Up: Top

2 Group Buffer
**************

The "group buffer" lists all (or parts) of the available groups.  It is
the first buffer shown when Gnus starts, and will never be killed as
long as Gnus is active.

* Menu:

* Group Buffer Format::         Information listed and how you can change it.
* Group Maneuvering::           Commands for moving in the group buffer.
* Selecting a Group::           Actually reading news.
* Subscription Commands::       Unsubscribing, killing, subscribing.
* Group Data::                  Changing the info for a group.
* Group Levels::                Levels? What are those, then?
* Group Score::                 A mechanism for finding out what groups you like.
* Marking Groups::              You can mark groups for later processing.
* Foreign Groups::              Creating and editing groups.
* Group Parameters::            Each group may have different parameters set.
* Listing Groups::              Gnus can list various subsets of the groups.
* Sorting Groups::              Re-arrange the group order.
* Group Maintenance::           Maintaining a tidy `.newsrc' file.
* Browse Foreign Server::       You can browse a server.  See what it has to offer.
* Exiting Gnus::                Stop reading news and get some work done.
* Group Topics::                A folding group mode divided into topics.
* Non-ASCII Group Names::       Accessing groups of non-English names.
* Misc Group Stuff::            Other stuff that you can to do.


File: gnus,  Node: Group Buffer Format,  Next: Group Maneuvering,  Up: Group Buffer

2.1 Group Buffer Format
=======================

* Menu:

* Group Line Specification::    Deciding how the group buffer is to look.
* Group Mode Line Specification::  The group buffer mode line.
* Group Highlighting::          Having nice colors in the group buffer.

   You can customize the Group Mode tool bar, see `M-x
customize-apropos RET gnus-group-tool-bar'.  This feature is only
available in Emacs.

   The tool bar icons are now (de)activated correctly depending on the
cursor position.  Therefore, moving around in the Group Buffer is
slower.  You can disable this via the variable
`gnus-group-update-tool-bar'.  Its default value depends on your Emacs
version.


File: gnus,  Node: Group Line Specification,  Next: Group Mode Line Specification,  Up: Group Buffer Format

2.1.1 Group Line Specification
------------------------------

The default format of the group buffer is nice and dull, but you can
make it as exciting and ugly as you feel like.

   Here's a couple of example group lines:

          25: news.announce.newusers
      *    0: alt.fan.andrea-dworkin

   Quite simple, huh?

   You can see that there are 25 unread articles in
`news.announce.newusers'.  There are no unread articles, but some
ticked articles, in `alt.fan.andrea-dworkin' (see that little asterisk
at the beginning of the line?).

   You can change that format to whatever you want by fiddling with the
`gnus-group-line-format' variable.  This variable works along the lines
of a `format' specification, which is pretty much the same as a
`printf' specifications, for those of you who use (feh!) C.  *Note
Formatting Variables::.

   `%M%S%5y:%B%(%g%)\n' is the value that produced those lines above.

   There should always be a colon on the line; the cursor always moves
to the colon after performing an operation.  *Note Positioning Point::.
Nothing else is required--not even the group name.  All displayed text
is just window dressing, and is never examined by Gnus.  Gnus stores
all real information it needs using text properties.

   (Note that if you make a really strange, wonderful, spreadsheet-like
layout, everybody will believe you are hard at work with the accounting
instead of wasting time reading news.)

   Here's a list of all available format characters:

`M'
     An asterisk if the group only has marked articles.

`S'
     Whether the group is subscribed.

`L'
     Level of subscribedness.

`N'
     Number of unread articles.

`I'
     Number of dormant articles.

`T'
     Number of ticked articles.

`R'
     Number of read articles.

`U'
     Number of unseen articles.

`t'
     Estimated total number of articles.  (This is really MAX-NUMBER
     minus MIN-NUMBER plus 1.)

     Gnus uses this estimation because the NNTP protocol provides
     efficient access to MAX-NUMBER and MIN-NUMBER but getting the true
     unread message count is not possible efficiently.  For hysterical
     raisins, even the mail back ends, where the true number of unread
     messages might be available efficiently, use the same limited
     interface.  To remove this restriction from Gnus means that the
     back end interface has to be changed, which is not an easy job.

     The nnml backend (*note Mail Spool::) has a feature called "group
     compaction" which circumvents this deficiency: the idea is to
     renumber all articles from 1, removing all gaps between numbers,
     hence getting a correct total count.  Other backends may support
     this in the future.  In order to keep your total article count
     relatively up to date, you might want to compact your groups (or
     even directly your server) from time to time. *Note Misc Group
     Stuff::, *Note Server Commands::.

`y'
     Number of unread, unticked, non-dormant articles.

`i'
     Number of ticked and dormant articles.

`g'
     Full group name.

`G'
     Group name.

`C'
     Group comment (*note Group Parameters::) or group name if there is
     no comment element in the group parameters.

`D'
     Newsgroup description.  You need to read the group descriptions
     before these will appear, and to do that, you either have to set
     `gnus-read-active-file' or use the group buffer `M-d' command.

`o'
     `m' if moderated.

`O'
     `(m)' if moderated.

`s'
     Select method.

`B'
     If the summary buffer for the group is open or not.

`n'
     Select from where.

`z'
     A string that looks like `<%s:%n>' if a foreign select method is
     used.

`P'
     Indentation based on the level of the topic (*note Group Topics::).

`c'
     Short (collapsed) group name.  The `gnus-group-uncollapsed-levels'
     variable says how many levels to leave at the end of the group
     name.  The default is 1--this will mean that group names like
     `gnu.emacs.gnus' will be shortened to `g.e.gnus'.

`m'
     `%' (`gnus-new-mail-mark') if there has arrived new mail to the
     group lately.

`p'
     `#' (`gnus-process-mark') if the group is process marked.

`d'
     A string that says when you last read the group (*note Group
     Timestamp::).

`F'
     The disk space used by the articles fetched by both the cache and
     agent.  The value is automatically scaled to bytes(B),
     kilobytes(K), megabytes(M), or gigabytes(G) to minimize the column
     width.  A format of %7F is sufficient for a fixed-width column.

`u'
     User defined specifier.  The next character in the format string
     should be a letter.  Gnus will call the function
     `gnus-user-format-function-'`X', where `X' is the letter following
     `%u'.  The function will be passed a single dummy parameter as
     argument.  The function should return a string, which will be
     inserted into the buffer just like information from any other
     specifier.

   All the "number-of" specs will be filled with an asterisk (`*') if
no info is available--for instance, if it is a non-activated foreign
group, or a bogus native group.


File: gnus,  Node: Group Mode Line Specification,  Next: Group Highlighting,  Prev: Group Line Specification,  Up: Group Buffer Format

2.1.2 Group Mode Line Specification
-----------------------------------

The mode line can be changed by setting `gnus-group-mode-line-format'
(*note Mode Line Formatting::).  It doesn't understand that many format
specifiers:

`S'
     The native news server.

`M'
     The native select method.


File: gnus,  Node: Group Highlighting,  Prev: Group Mode Line Specification,  Up: Group Buffer Format

2.1.3 Group Highlighting
------------------------

Highlighting in the group buffer is controlled by the
`gnus-group-highlight' variable.  This is an alist with elements that
look like `(FORM . FACE)'.  If FORM evaluates to something non-`nil',
the FACE will be used on the line.

   Here's an example value for this variable that might look nice if the
background is dark:

     (cond (window-system
            (setq custom-background-mode 'light)
            (defface my-group-face-1
              '((t (:foreground "Red" :bold t))) "First group face")
            (defface my-group-face-2
              '((t (:foreground "DarkSeaGreen4" :bold t)))
              "Second group face")
            (defface my-group-face-3
              '((t (:foreground "Green4" :bold t))) "Third group face")
            (defface my-group-face-4
              '((t (:foreground "SteelBlue" :bold t))) "Fourth group face")
            (defface my-group-face-5
              '((t (:foreground "Blue" :bold t))) "Fifth group face")))

     (setq gnus-group-highlight
           '(((> unread 200) . my-group-face-1)
             ((and (< level 3) (zerop unread)) . my-group-face-2)
             ((< level 3) . my-group-face-3)
             ((zerop unread) . my-group-face-4)
             (t . my-group-face-5)))

   Also *note Faces and Fonts::.

   Variables that are dynamically bound when the forms are evaluated
include:

`group'
     The group name.

`unread'
     The number of unread articles in the group.

`method'
     The select method.

`mailp'
     Whether the group is a mail group.

`level'
     The level of the group.

`score'
     The score of the group.

`ticked'
     The number of ticked articles in the group.

`total'
     The total number of articles in the group.  Or rather, MAX-NUMBER
     minus MIN-NUMBER plus one.

`topic'
     When using the topic minor mode, this variable is bound to the
     current topic being inserted.

   When the forms are `eval'ed, point is at the beginning of the line
of the group in question, so you can use many of the normal Gnus
functions for snarfing info on the group.

   `gnus-group-update-hook' is called when a group line is changed.  It
will not be called when `gnus-visual' is `nil'.


File: gnus,  Node: Group Maneuvering,  Next: Selecting a Group,  Prev: Group Buffer Format,  Up: Group Buffer

2.2 Group Maneuvering
=====================

All movement commands understand the numeric prefix and will behave as
expected, hopefully.

`n'
     Go to the next group that has unread articles
     (`gnus-group-next-unread-group').

`p'
`DEL'
     Go to the previous group that has unread articles
     (`gnus-group-prev-unread-group').

`N'
     Go to the next group (`gnus-group-next-group').

`P'
     Go to the previous group (`gnus-group-prev-group').

`M-n'
     Go to the next unread group on the same (or lower) level
     (`gnus-group-next-unread-group-same-level').

`M-p'
     Go to the previous unread group on the same (or lower) level
     (`gnus-group-prev-unread-group-same-level').

   Three commands for jumping to groups:

`j'
     Jump to a group (and make it visible if it isn't already)
     (`gnus-group-jump-to-group').  Killed groups can be jumped to, just
     like living groups.

`,'
     Jump to the unread group with the lowest level
     (`gnus-group-best-unread-group').

`.'
     Jump to the first group with unread articles
     (`gnus-group-first-unread-group').

   If `gnus-group-goto-unread' is `nil', all the movement commands will
move to the next group, not the next unread group.  Even the commands
that say they move to the next unread group.  The default is `t'.

   If `gnus-summary-next-group-on-exit' is `t', when a summary is
exited, the point in the group buffer is moved to the next unread group.
Otherwise, the point is set to the group just exited.  The default is
`t'.


File: gnus,  Node: Selecting a Group,  Next: Subscription Commands,  Prev: Group Maneuvering,  Up: Group Buffer

2.3 Selecting a Group
=====================

`SPACE'
     Select the current group, switch to the summary buffer and display
     the first unread article (`gnus-group-read-group').  If there are
     no unread articles in the group, or if you give a non-numerical
     prefix to this command, Gnus will offer to fetch all the old
     articles in this group from the server.  If you give a numerical
     prefix N, N determines the number of articles Gnus will fetch.  If
     N is positive, Gnus fetches the N newest articles, if N is
     negative, Gnus fetches the `abs(N)' oldest articles.

     Thus, `SPC' enters the group normally, `C-u SPC' offers old
     articles, `C-u 4 2 SPC' fetches the 42 newest articles, and `C-u -
     4 2 SPC' fetches the 42 oldest ones.

     When you are in the group (in the Summary buffer), you can type
     `M-g' to fetch new articles, or `C-u M-g' to also show the old
     ones.

`RET'
     Select the current group and switch to the summary buffer
     (`gnus-group-select-group').  Takes the same arguments as
     `gnus-group-read-group'--the only difference is that this command
     does not display the first unread article automatically upon group
     entry.

`M-RET'
     This does the same as the command above, but tries to do it with
     the minimum amount of fuzz (`gnus-group-quick-select-group').  No
     scoring/killing will be performed, there will be no highlights and
     no expunging.  This might be useful if you're in a real hurry and
     have to enter some humongous group.  If you give a 0 prefix to
     this command (i.e., `0 M-RET'), Gnus won't even generate the
     summary buffer, which is useful if you want to toggle threading
     before generating the summary buffer (*note Summary Generation
     Commands::).

`M-SPACE'
     This is yet one more command that does the same as the `RET'
     command, but this one does it without expunging and hiding dormants
     (`gnus-group-visible-select-group').

`C-M-RET'
     Finally, this command selects the current group ephemerally without
     doing any processing of its contents
     (`gnus-group-select-group-ephemerally').  Even threading has been
     turned off.  Everything you do in the group after selecting it in
     this manner will have no permanent effects.


   The `gnus-large-newsgroup' variable says what Gnus should consider
to be a big group.  If it is `nil', no groups are considered big.  The
default value is 200.  If the group has more (unread and/or ticked)
articles than this, Gnus will query the user before entering the group.
The user can then specify how many articles should be fetched from the
server.  If the user specifies a negative number (-N), the N oldest
articles will be fetched.  If it is positive, the N articles that have
arrived most recently will be fetched.

   `gnus-large-ephemeral-newsgroup' is the same as
`gnus-large-newsgroup', but is only used for ephemeral newsgroups.

   In groups in some news servers, there might be a big gap between a
few very old articles that will never be expired and the recent ones.
In such a case, the server will return the data like `(1 . 30000000)'
for the `LIST ACTIVE group' command, for example.  Even if there are
actually only the articles 1-10 and 29999900-30000000, Gnus doesn't
know it at first and prepares for getting 30000000 articles.  However,
it will consume hundreds megabytes of memories and might make Emacs get
stuck as the case may be.  If you use such news servers, set the
variable `gnus-newsgroup-maximum-articles' to a positive number.  The
value means that Gnus ignores articles other than this number of the
latest ones in every group.  For instance, the value 10000 makes Gnus
get only the articles 29990001-30000000 (if the latest article number is
30000000 in a group).  Note that setting this variable to a number might
prevent you from reading very old articles.  The default value of the
variable `gnus-newsgroup-maximum-articles' is `nil', which means Gnus
never ignores old articles.

   If `gnus-auto-select-first' is non-`nil', select an article
automatically when entering a group with the `SPACE' command.  Which
article this is controlled by the `gnus-auto-select-subject' variable.
Valid values for this variable are:

`unread'
     Place point on the subject line of the first unread article.

`first'
     Place point on the subject line of the first article.

`unseen'
     Place point on the subject line of the first unseen article.

`unseen-or-unread'
     Place point on the subject line of the first unseen article, and if
     there is no such article, place point on the subject line of the
     first unread article.

`best'
     Place point on the subject line of the highest-scored unread
     article.


   This variable can also be a function.  In that case, that function
will be called to place point on a subject line.

   If you want to prevent automatic selection in some group (say, in a
binary group with Huge articles) you can set the
`gnus-auto-select-first' variable to `nil' in `gnus-select-group-hook',
which is called when a group is selected.


File: gnus,  Node: Subscription Commands,  Next: Group Data,  Prev: Selecting a Group,  Up: Group Buffer

2.4 Subscription Commands
=========================

The following commands allow for managing your subscriptions in the
Group buffer.  If you want to subscribe to many groups, it's probably
more convenient to go to the *note Server Buffer::, and choose the
server there using `RET' or `SPC'.  Then you'll have the commands
listed in *note Browse Foreign Server:: at hand.

`S t'
`u'
     Toggle subscription to the current group
     (`gnus-group-unsubscribe-current-group').

`S s'
`U'
     Prompt for a group to subscribe, and then subscribe it.  If it was
     subscribed already, unsubscribe it instead
     (`gnus-group-unsubscribe-group').

`S k'
`C-k'
     Kill the current group (`gnus-group-kill-group').

`S y'
`C-y'
     Yank the last killed group (`gnus-group-yank-group').

`C-x C-t'
     Transpose two groups (`gnus-group-transpose-groups').  This isn't
     really a subscription command, but you can use it instead of a
     kill-and-yank sequence sometimes.

`S w'
`C-w'
     Kill all groups in the region (`gnus-group-kill-region').

`S z'
     Kill all zombie groups (`gnus-group-kill-all-zombies').

`S C-k'
     Kill all groups on a certain level (`gnus-group-kill-level').
     These groups can't be yanked back after killing, so this command
     should be used with some caution.  The only time where this
     command comes in really handy is when you have a `.newsrc' with
     lots of unsubscribed groups that you want to get rid off.  `S C-k'
     on level 7 will kill off all unsubscribed groups that do not have
     message numbers in the `.newsrc' file.


   Also *note Group Levels::.


File: gnus,  Node: Group Data,  Next: Group Levels,  Prev: Subscription Commands,  Up: Group Buffer

2.5 Group Data
==============

`c'
     Mark all unticked articles in this group as read
     (`gnus-group-catchup-current').  `gnus-group-catchup-group-hook'
     is called when catching up a group from the group buffer.

`C'
     Mark all articles in this group, even the ticked ones, as read
     (`gnus-group-catchup-current-all').

`M-c'
     Clear the data from the current group--nix out marks and the list
     of read articles (`gnus-group-clear-data').

`M-x gnus-group-clear-data-on-native-groups'
     If you have switched from one NNTP server to another, all your
     marks and read ranges have become worthless.  You can use this
     command to clear out all data that you have on your native groups.
     Use with caution.



File: gnus,  Node: Group Levels,  Next: Group Score,  Prev: Group Data,  Up: Group Buffer

2.6 Group Levels
================

All groups have a level of "subscribedness".  For instance, if a group
is on level 2, it is more subscribed than a group on level 5.  You can
ask Gnus to just list groups on a given level or lower (*note Listing
Groups::), or to just check for new articles in groups on a given level
or lower (*note Scanning New Messages::).

   Remember:  The higher the level of the group, the less important it
is.

`S l'
     Set the level of the current group.  If a numeric prefix is given,
     the next N groups will have their levels set.  The user will be
     prompted for a level.

   Gnus considers groups from levels 1 to `gnus-level-subscribed'
(inclusive) (default 5) to be subscribed, `gnus-level-subscribed'
(exclusive) and `gnus-level-unsubscribed' (inclusive) (default 7) to be
unsubscribed, `gnus-level-zombie' to be zombies (walking dead) (default
8) and `gnus-level-killed' to be killed (completely dead) (default 9).
Gnus treats subscribed and unsubscribed groups exactly the same, but
zombie and killed groups have no information on what articles you have
read, etc, stored.  This distinction between dead and living groups
isn't done because it is nice or clever, it is done purely for reasons
of efficiency.

   It is recommended that you keep all your mail groups (if any) on
quite low levels (e.g. 1 or 2).

   Maybe the following description of the default behavior of Gnus
helps to understand what these levels are all about.  By default, Gnus
shows you subscribed nonempty groups, but by hitting `L' you can have
it show empty subscribed groups and unsubscribed groups, too.  Type `l'
to go back to showing nonempty subscribed groups again.  Thus,
unsubscribed groups are hidden, in a way.

   Zombie and killed groups are similar to unsubscribed groups in that
they are hidden by default.  But they are different from subscribed and
unsubscribed groups in that Gnus doesn't ask the news server for
information (number of messages, number of unread messages) on zombie
and killed groups.  Normally, you use `C-k' to kill the groups you
aren't interested in.  If most groups are killed, Gnus is faster.

   Why does Gnus distinguish between zombie and killed groups?  Well,
when a new group arrives on the server, Gnus by default makes it a
zombie group.  This means that you are normally not bothered with new
groups, but you can type `A z' to get a list of all new groups.
Subscribe the ones you like and kill the ones you don't want.  (`A k'
shows a list of killed groups.)

   If you want to play with the level variables, you should show some
care.  Set them once, and don't touch them ever again.  Better yet,
don't touch them at all unless you know exactly what you're doing.

   Two closely related variables are `gnus-level-default-subscribed'
(default 3) and `gnus-level-default-unsubscribed' (default 6), which
are the levels that new groups will be put on if they are
(un)subscribed.  These two variables should, of course, be inside the
relevant valid ranges.

   If `gnus-keep-same-level' is non-`nil', some movement commands will
only move to groups of the same level (or lower).  In particular, going
from the last article in one group to the next group will go to the
next group of the same level (or lower).  This might be handy if you
want to read the most important groups before you read the rest.

   If this variable is `best', Gnus will make the next newsgroup the
one with the best level.

   All groups with a level less than or equal to
`gnus-group-default-list-level' will be listed in the group buffer by
default.  This variable can also be a function.  In that case, that
function will be called and the result will be used as value.

   If `gnus-group-list-inactive-groups' is non-`nil', non-active groups
will be listed along with the unread groups.  This variable is `t' by
default.  If it is `nil', inactive groups won't be listed.

   If `gnus-group-use-permanent-levels' is non-`nil', once you give a
level prefix to `g' or `l', all subsequent commands will use this level
as the "work" level.

   Gnus will normally just activate (i. e., query the server about)
groups on level `gnus-activate-level' or less.  If you don't want to
activate unsubscribed groups, for instance, you might set this variable
to 5.  The default is 6.


File: gnus,  Node: Group Score,  Next: Marking Groups,  Prev: Group Levels,  Up: Group Buffer

2.7 Group Score
===============

You would normally keep important groups on high levels, but that scheme
is somewhat restrictive.  Don't you wish you could have Gnus sort the
group buffer according to how often you read groups, perhaps?  Within
reason?

   This is what "group score" is for.  You can have Gnus assign a score
to each group through the mechanism described below.  You can then sort
the group buffer based on this score.  Alternatively, you can sort on
score and then level.  (Taken together, the level and the score is
called the "rank" of the group.  A group that is on level 4 and has a
score of 1 has a higher rank than a group on level 5 that has a score
of 300.  (The level is the most significant part and the score is the
least significant part.))

   If you want groups you read often to get higher scores than groups
you read seldom you can add the `gnus-summary-bubble-group' function to
the `gnus-summary-exit-hook' hook.  This will result (after sorting) in
a bubbling sort of action.  If you want to see that in action after
each summary exit, you can add `gnus-group-sort-groups-by-rank' or
`gnus-group-sort-groups-by-score' to the same hook, but that will slow
things down somewhat.


File: gnus,  Node: Marking Groups,  Next: Foreign Groups,  Prev: Group Score,  Up: Group Buffer

2.8 Marking Groups
==================

If you want to perform some command on several groups, and they appear
subsequently in the group buffer, you would normally just give a
numerical prefix to the command.  Most group commands will then do your
bidding on those groups.

   However, if the groups are not in sequential order, you can still
perform a command on several groups.  You simply mark the groups first
with the process mark and then execute the command.

`#'
`M m'
     Set the mark on the current group (`gnus-group-mark-group').

`M-#'
`M u'
     Remove the mark from the current group (`gnus-group-unmark-group').

`M U'
     Remove the mark from all groups (`gnus-group-unmark-all-groups').

`M w'
     Mark all groups between point and mark (`gnus-group-mark-region').

`M b'
     Mark all groups in the buffer (`gnus-group-mark-buffer').

`M r'
     Mark all groups that match some regular expression
     (`gnus-group-mark-regexp').

   Also *note Process/Prefix::.

   If you want to execute some command on all groups that have been
marked with the process mark, you can use the `M-&'
(`gnus-group-universal-argument') command.  It will prompt you for the
command to be executed.


File: gnus,  Node: Foreign Groups,  Next: Group Parameters,  Prev: Marking Groups,  Up: Group Buffer

2.9 Foreign Groups
==================

If you recall how to subscribe to servers (*note Finding the News::)
you will remember that `gnus-secondary-select-methods' and
`gnus-select-method' let you write a definition in Emacs Lisp of what
servers you want to see when you start up.  The alternate approach is
to use foreign servers and groups.  "Foreign" here means they are not
coming from the select methods.  All foreign server configuration and
subscriptions are stored only in the `~/.newsrc.eld' file.

   Below are some group mode commands for making and editing general
foreign groups, as well as commands to ease the creation of a few
special-purpose groups.  All these commands insert the newly created
groups under point--`gnus-subscribe-newsgroup-method' is not consulted.

   Changes from the group editing commands are stored in
`~/.newsrc.eld' (`gnus-startup-file').  An alternative is the variable
`gnus-parameters', *Note Group Parameters::.

`G m'
     Make a new group (`gnus-group-make-group').  Gnus will prompt you
     for a name, a method and possibly an "address".  For an easier way
     to subscribe to NNTP groups (*note Browse Foreign Server::).

`G M'
     Make an ephemeral group (`gnus-group-read-ephemeral-group').  Gnus
     will prompt you for a name, a method and an "address".

`G r'
     Rename the current group to something else
     (`gnus-group-rename-group').  This is valid only on some
     groups--mail groups mostly.  This command might very well be quite
     slow on some back ends.

`G c'
     Customize the group parameters (`gnus-group-customize').

`G e'
     Enter a buffer where you can edit the select method of the current
     group (`gnus-group-edit-group-method').

`G p'
     Enter a buffer where you can edit the group parameters
     (`gnus-group-edit-group-parameters').

`G E'
     Enter a buffer where you can edit the group info
     (`gnus-group-edit-group').

`G d'
     Make a directory group (*note Directory Groups::).  You will be
     prompted for a directory name (`gnus-group-make-directory-group').

`G h'
     Make the Gnus help group (`gnus-group-make-help-group').

`G D'
     Read an arbitrary directory as if it were a newsgroup with the
     `nneething' back end (`gnus-group-enter-directory').  *Note
     Anything Groups::.

`G f'
     Make a group based on some file or other
     (`gnus-group-make-doc-group').  If you give a prefix to this
     command, you will be prompted for a file name and a file type.
     Currently supported types are `mbox', `babyl', `digest', `news',
     `rnews', `mmdf', `forward', `rfc934', `rfc822-forward',
     `mime-parts', `standard-digest', `slack-digest', `clari-briefs',
     `nsmail', `outlook', `oe-dbx', and `mailman'.  If you run this
     command without a prefix, Gnus will guess at the file type.  *Note
     Document Groups::.

`G u'
     Create one of the groups mentioned in `gnus-useful-groups'
     (`gnus-group-make-useful-group').

`G w'
     Make an ephemeral group based on a web search
     (`gnus-group-make-web-group').  If you give a prefix to this
     command, make a solid group instead.  You will be prompted for the
     search engine type and the search string.  Valid search engine
     types include `google', `dejanews', and `gmane'.  *Note Web
     Searches::.

     If you use the `google' search engine, you can limit the search to
     a particular group by using a match string like `shaving
     group:alt.sysadmin.recovery'.

`G R'
     Make a group based on an RSS feed (`gnus-group-make-rss-group').
     You will be prompted for an URL.  *Note RSS::.

`G DEL'
     This function will delete the current group
     (`gnus-group-delete-group').  If given a prefix, this function will
     actually delete all the articles in the group, and forcibly remove
     the group itself from the face of the Earth.  Use a prefix only if
     you are absolutely sure of what you are doing.  This command can't
     be used on read-only groups (like `nntp' groups), though.

`G V'
     Make a new, fresh, empty `nnvirtual' group
     (`gnus-group-make-empty-virtual').  *Note Virtual Groups::.

`G v'
     Add the current group to an `nnvirtual' group
     (`gnus-group-add-to-virtual').  Uses the process/prefix convention.

   *Note Select Methods::, for more information on the various select
methods.

   If `gnus-activate-foreign-newsgroups' is a positive number, Gnus
will check all foreign groups with this level or lower at startup.
This might take quite a while, especially if you subscribe to lots of
groups from different NNTP servers.  Also *note Group Levels::;
`gnus-activate-level' also affects activation of foreign newsgroups.

   The following commands create ephemeral groups.  They can be called
not only from the Group buffer, but in any Gnus buffer.

`gnus-read-ephemeral-gmane-group'
     Read an ephemeral group on Gmane.org.  The articles are downloaded
     via HTTP using the URL specified by
     `gnus-gmane-group-download-format'.  Gnus will prompt you for a
     group name, the start article number and an the article range.

`gnus-read-ephemeral-gmane-group-url'
     This command is similar to `gnus-read-ephemeral-gmane-group', but
     the group name and the article number and range are constructed
     from a given URL.  Supported URL formats include e.g.
     `http://thread.gmane.org/gmane.foo.bar/12300/focus=12399',
     `http://thread.gmane.org/gmane.foo.bar/12345/',
     `http://article.gmane.org/gmane.foo.bar/12345/',
     `http://permalink.gmane.org/gmane.foo.bar/12345/', and
     `http://news.gmane.org/group/gmane.foo.bar/thread=12345'.

`gnus-read-ephemeral-emacs-bug-group'
     Read an Emacs bug report in an ephemeral group.  Gnus will prompt
     for a bug number.  The default is the number at point.  The URL is
     specified in `gnus-bug-group-download-format-alist'.

`gnus-read-ephemeral-debian-bug-group'
     Read a Debian bug report in an ephemeral group.  Analog to
     `gnus-read-ephemeral-emacs-bug-group'.

   Some of these command are also useful for article buttons, *Note
Article Buttons::.

   Here is an example:
     (require 'gnus-art)
     (add-to-list
      'gnus-button-alist
      '("#\\([0-9]+\\)\\>" 1
        (string-match "\\<emacs\\>" (or gnus-newsgroup-name ""))
        gnus-read-ephemeral-emacs-bug-group 1))


File: gnus,  Node: Group Parameters,  Next: Listing Groups,  Prev: Foreign Groups,  Up: Group Buffer

2.10 Group Parameters
=====================

The group parameters store information local to a particular group.

   Use the `G p' or the `G c' command to edit group parameters of a
group.  (`G p' presents you with a Lisp-based interface, `G c' presents
you with a Customize-like interface.  The latter helps avoid silly Lisp
errors.)  You might also be interested in reading about topic
parameters (*note Topic Parameters::).  Additionally, you can set group
parameters via the `gnus-parameters' variable, see below.

   Here's an example group parameter list:

     ((to-address . "ding@gnus.org")
      (auto-expire . t))

   We see that each element consists of a "dotted pair"--the thing
before the dot is the key, while the thing after the dot is the value.
All the parameters have this form _except_ local variable specs, which
are not dotted pairs, but proper lists.

   Some parameters have correspondent customizable variables, each of
which is an alist of regexps and values.

   The following group parameters can be used:

`to-address'
     Address used by when doing followups and new posts.

          (to-address . "some@where.com")

     This is primarily useful in mail groups that represent closed
     mailing lists--mailing lists where it's expected that everybody
     that writes to the mailing list is subscribed to it.  Since using
     this parameter ensures that the mail only goes to the mailing list
     itself, it means that members won't receive two copies of your
     followups.

     Using `to-address' will actually work whether the group is foreign
     or not.  Let's say there's a group on the server that is called
     `fa.4ad-l'.  This is a real newsgroup, but the server has gotten
     the articles from a mail-to-news gateway.  Posting directly to this
     group is therefore impossible--you have to send mail to the mailing
     list address instead.

     See also `gnus-parameter-to-address-alist'.

`to-list'
     Address used when doing `a' in that group.

          (to-list . "some@where.com")

     It is totally ignored when doing a followup--except that if it is
     present in a news group, you'll get mail group semantics when
     doing `f'.

     If you do an `a' command in a mail group and you have neither a
     `to-list' group parameter nor a `to-address' group parameter, then
     a `to-list' group parameter will be added automatically upon
     sending the message if `gnus-add-to-list' is set to `t'.  

     If this variable is set, `gnus-mailing-list-mode' is turned on when
     entering summary buffer.

     See also `gnus-parameter-to-list-alist'.

`subscribed'
     If this parameter is set to `t', Gnus will consider the to-address
     and to-list parameters for this group as addresses of mailing
     lists you are subscribed to.  Giving Gnus this information is
     (only) a first step in getting it to generate correct
     Mail-Followup-To headers for your posts to these lists.  The
     second step is to put the following in your `.gnus.el'

          (setq message-subscribed-address-functions
                '(gnus-find-subscribed-addresses))

     *Note Mailing Lists: (message)Mailing Lists, for a complete
     treatment of available MFT support.

`visible'
     If the group parameter list has the element `(visible . t)', that
     group will always be visible in the Group buffer, regardless of
     whether it has any unread articles.

     This parameter cannot be set via `gnus-parameters'. See
     `gnus-permanently-visible-groups' as an alternative.

`broken-reply-to'
     Elements like `(broken-reply-to . t)' signals that `Reply-To'
     headers in this group are to be ignored, and for the header to be
     hidden if `reply-to' is part of `gnus-boring-article-headers'.
     This can be useful if you're reading a mailing list group where
     the listserv has inserted `Reply-To' headers that point back to
     the listserv itself.  That is broken behavior.  So there!

`to-group'
     Elements like `(to-group . "some.group.name")' means that all
     posts in that group will be sent to `some.group.name'.

`newsgroup'
     If you have `(newsgroup . t)' in the group parameter list, Gnus
     will treat all responses as if they were responses to news
     articles.  This can be useful if you have a mail group that's
     really a mirror of a news group.

`gcc-self'
     If `(gcc-self . t)' is present in the group parameter list, newly
     composed messages will be `Gcc''d to the current group.  If
     `(gcc-self . none)' is present, no `Gcc:' header will be
     generated, if `(gcc-self . "string")' is present, this string will
     be inserted literally as a `gcc' header.  This parameter takes
     precedence over any default `Gcc' rules as described later (*note
     Archived Messages::).

     *Caveat*: Adding `(gcc-self . t)' to the parameter list of `nntp'
     groups (or the like) isn't valid.  An `nntp' server doesn't accept
     articles.

`auto-expire'
     If the group parameter has an element that looks like `(auto-expire
     . t)', all articles read will be marked as expirable.  For an
     alternative approach, *note Expiring Mail::.

     See also `gnus-auto-expirable-newsgroups'.

`total-expire'
     If the group parameter has an element that looks like
     `(total-expire . t)', all read articles will be put through the
     expiry process, even if they are not marked as expirable.  Use with
     caution.  Unread, ticked and dormant articles are not eligible for
     expiry.

     See also `gnus-total-expirable-newsgroups'.

`expiry-wait'
     If the group parameter has an element that looks like
     `(expiry-wait . 10)', this value will override any
     `nnmail-expiry-wait' and `nnmail-expiry-wait-function' (*note
     Expiring Mail::) when expiring expirable messages.  The value can
     either be a number of days (not necessarily an integer) or the
     symbols `never' or `immediate'.

`expiry-target'
     Where expired messages end up.  This parameter overrides
     `nnmail-expiry-target'.

`score-file'
     Elements that look like `(score-file . "file")' will make `file'
     into the current score file for the group in question.  All
     interactive score entries will be put into this file.

`adapt-file'
     Elements that look like `(adapt-file . "file")' will make `file'
     into the current adaptive file for the group in question.  All
     adaptive score entries will be put into this file.

`admin-address'
     When unsubscribing from a mailing list you should never send the
     unsubscription notice to the mailing list itself.  Instead, you'd
     send messages to the administrative address.  This parameter
     allows you to put the admin address somewhere convenient.

`display'
     Elements that look like `(display . MODE)' say which articles to
     display on entering the group.  Valid values are:

    `all'
          Display all articles, both read and unread.

    `an integer'
          Display the last INTEGER articles in the group.  This is the
          same as entering the group with `C-u INTEGER'.

    `default'
          Display the default visible articles, which normally includes
          unread and ticked articles.

    `an array'
          Display articles that satisfy a predicate.

          Here are some examples:

         `[unread]'
               Display only unread articles.

         `[not expire]'
               Display everything except expirable articles.

         `[and (not reply) (not expire)]'
               Display everything except expirable and articles you've
               already responded to.

          The available operators are `not', `and' and `or'.
          Predicates include `tick', `unsend', `undownload', `unread',
          `dormant', `expire', `reply', `killed', `bookmark', `score',
          `save', `cache', `forward', and `unseen'.


     The `display' parameter works by limiting the summary buffer to
     the subset specified.  You can pop the limit by using the `/ w'
     command (*note Limiting::).

`comment'
     Elements that look like `(comment . "This is a comment")' are
     arbitrary comments on the group.  You can display comments in the
     group line (*note Group Line Specification::).

`charset'
     Elements that look like `(charset . iso-8859-1)' will make
     `iso-8859-1' the default charset; that is, the charset that will be
     used for all articles that do not specify a charset.

     See also `gnus-group-charset-alist'.

`ignored-charsets'
     Elements that look like `(ignored-charsets x-unknown iso-8859-1)'
     will make `iso-8859-1' and `x-unknown' ignored; that is, the
     default charset will be used for decoding articles.

     See also `gnus-group-ignored-charsets-alist'.

`posting-style'
     You can store additional posting style information for this group
     here (*note Posting Styles::).  The format is that of an entry in
     the `gnus-posting-styles' alist, except that there's no regexp
     matching the group name (of course).  Style elements in this group
     parameter will take precedence over the ones found in
     `gnus-posting-styles'.

     For instance, if you want a funky name and signature in this group
     only, instead of hacking `gnus-posting-styles', you could put
     something like this in the group parameters:

          (posting-style
            (name "Funky Name")
            ("X-My-Header" "Funky Value")
            (signature "Funky Signature"))

     If you're using topics to organize your group buffer (*note Group
     Topics::), note that posting styles can also be set in the topics
     parameters. Posting styles in topic parameters apply to all groups
     in this topic. More precisely, the posting-style settings for a
     group result from the hierarchical merging of all posting-style
     entries in the parameters of this group and all the topics it
     belongs to.

`post-method'
     If it is set, the value is used as the method for posting message
     instead of `gnus-post-method'.

`mail-source'
     If it is set, and the setting of `mail-sources' includes a `group'
     mail source (*note Mail Sources::), the value is a mail source for
     this group.

`banner'
     An item like `(banner . REGEXP)' causes any part of an article
     that matches the regular expression REGEXP to be stripped.
     Instead of REGEXP, you can also use the symbol `signature' which
     strips the last signature or any of the elements of the alist
     `gnus-article-banner-alist'.

`sieve'
     This parameter contains a Sieve test that should match incoming
     mail that should be placed in this group.  From this group
     parameter, a Sieve `IF' control structure is generated, having the
     test as the condition and `fileinto "group.name";' as the body.

     For example, if the `INBOX.list.sieve' group has the `(sieve
     address "sender" "sieve-admin@extundo.com")' group parameter, when
     translating the group parameter into a Sieve script (*note Sieve
     Commands::) the following Sieve code is generated:

          if address "sender" "sieve-admin@extundo.com" {
                  fileinto "INBOX.list.sieve";
          }

     To generate tests for multiple email-addresses use a group
     parameter like `(sieve address "sender" ("name@one.org"
     else@two.org"))'.  When generating a sieve script (*note Sieve
     Commands::) Sieve code like the following is generated:

          if address "sender" ["name@one.org", "else@two.org"] {
                  fileinto "INBOX.list.sieve";
          }

     See *note Sieve Commands:: for commands and variables that might
     be of interest in relation to the sieve parameter.

     The Sieve language is described in RFC 3028.  *Note Emacs Sieve:
     (sieve)Top.

`(agent parameters)'
     If the agent has been enabled, you can set any of its parameters to
     control the behavior of the agent in individual groups.  See Agent
     Parameters in *note Category Syntax::.  Most users will choose to
     set agent parameters in either an agent category or group topic to
     minimize the configuration effort.

`(VARIABLE FORM)'
     You can use the group parameters to set variables local to the
     group you are entering.  If you want to turn threading off in
     `news.answers', you could put `(gnus-show-threads nil)' in the
     group parameters of that group.  `gnus-show-threads' will be made
     into a local variable in the summary buffer you enter, and the
     form `nil' will be `eval'ed there.

     Note that this feature sets the variable locally to the summary
     buffer if and only if VARIABLE has been bound as a variable.
     Otherwise, only evaluating the form will take place.  So, you may
     want to bind the variable in advance using `defvar' or other if
     the result of the form needs to be set to it.

     But some variables are evaluated in the article buffer, or in the
     message buffer (of a reply or followup or otherwise newly created
     message).  As a workaround, it might help to add the variable in
     question to `gnus-newsgroup-variables'.  *Note Various Summary
     Stuff::.  So if you want to set `message-from-style' via the group
     parameters, then you may need the following statement elsewhere in
     your `~/.gnus.el' file:

          (add-to-list 'gnus-newsgroup-variables 'message-from-style)

     A use for this feature is to remove a mailing list identifier tag
     in the subject fields of articles.  E.g. if the news group

          nntp+news.gnus.org:gmane.text.docbook.apps

     has the tag `DOC-BOOK-APPS:' in the subject of all articles, this
     tag can be removed from the article subjects in the summary buffer
     for the group by putting `(gnus-list-identifiers "DOCBOOK-APPS:")'
     into the group parameters for the group.

     This can also be used as a group-specific hook function.  If you
     want to hear a beep when you enter a group, you could put
     something like `(dummy-variable (ding))' in the parameters of that
     group.  If `dummy-variable' has been bound (see above), it will be
     set to the (meaningless) result of the `(ding)' form.

     Alternatively, since the VARIABLE becomes local to the group, this
     pattern can be used to temporarily change a hook.  For example, if
     the following is added to a group parameter

          (gnus-summary-prepared-hook
            '(lambda nil (local-set-key "d" (local-key-binding "n"))))

     when the group is entered, the 'd' key will not mark the article as
     expired.


   Group parameters can be set via the `gnus-parameters' variable too.
But some variables, such as `visible', have no effect (For this case
see `gnus-permanently-visible-groups' as an alternative.).  For example:

     (setq gnus-parameters
           '(("mail\\..*"
              (gnus-show-threads nil)
              (gnus-use-scoring nil)
              (gnus-summary-line-format
               "%U%R%z%I%(%[%d:%ub%-23,23f%]%) %s\n")
              (gcc-self . t)
              (display . all))

             ("^nnimap:\\(foo.bar\\)$"
              (to-group . "\\1"))

             ("mail\\.me"
              (gnus-use-scoring t))

             ("list\\..*"
              (total-expire . t)
              (broken-reply-to . t))))

   All clauses that matches the group name will be used, but the last
setting "wins".  So if you have two clauses that both match the group
name, and both set, say `display', the last setting will override the
first.

   Parameters that are strings will be subjected to regexp substitution,
as the `to-group' example shows.

   By default, whether comparing the group name and one of those regexps
specified in `gnus-parameters' is done in a case-sensitive manner or a
case-insensitive manner depends on the value of `case-fold-search' at
the time when the comparison is done.  The value of `case-fold-search'
is typically `t'; it means, for example, the element `("INBOX\\.FOO"
(total-expire . t))' might be applied to both the `INBOX.FOO' group and
the `INBOX.foo' group.  If you want to make those regexps always
case-sensitive, set the value of the `gnus-parameters-case-fold-search'
variable to `nil'.  Otherwise, set it to `t' if you want to compare them
always in a case-insensitive manner.

   You can define different sorting to different groups via
`gnus-parameters'.  Here is an example to sort an NNTP group by reverse
date to see the latest news at the top and an RSS group by subject.  In
this example, the first group is the Debian daily news group
`gmane.linux.debian.user.news' from news.gmane.org.  The RSS group
corresponds to the Debian weekly news RSS feed
`http://packages.debian.org/unstable/newpkg_main.en.rdf', *Note RSS::.

     (setq
      gnus-parameters
      '(("nntp.*gmane\\.debian\\.user\\.news"
         (gnus-show-threads nil)
         (gnus-article-sort-functions '((not gnus-article-sort-by-date)))
         (gnus-use-adaptive-scoring nil)
         (gnus-use-scoring nil))
        ("nnrss.*debian"
         (gnus-show-threads nil)
         (gnus-article-sort-functions 'gnus-article-sort-by-subject)
         (gnus-use-adaptive-scoring nil)
         (gnus-use-scoring t)
         (gnus-score-find-score-files-function 'gnus-score-find-single)
         (gnus-summary-line-format "%U%R%z%d %I%(%[ %s %]%)\n"))))


File: gnus,  Node: Listing Groups,  Next: Sorting Groups,  Prev: Group Parameters,  Up: Group Buffer

2.11 Listing Groups
===================

These commands all list various slices of the groups available.

`l'
`A s'
     List all groups that have unread articles
     (`gnus-group-list-groups').  If the numeric prefix is used, this
     command will list only groups of level ARG and lower.  By default,
     it only lists groups of level five (i.e.,
     `gnus-group-default-list-level') or lower (i.e., just subscribed
     groups).

`L'
`A u'
     List all groups, whether they have unread articles or not
     (`gnus-group-list-all-groups').  If the numeric prefix is used,
     this command will list only groups of level ARG and lower.  By
     default, it lists groups of level seven or lower (i.e., just
     subscribed and unsubscribed groups).

`A l'
     List all unread groups on a specific level
     (`gnus-group-list-level').  If given a prefix, also list the groups
     with no unread articles.

`A k'
     List all killed groups (`gnus-group-list-killed').  If given a
     prefix argument, really list all groups that are available, but
     aren't currently (un)subscribed.  This could entail reading the
     active file from the server.

`A z'
     List all zombie groups (`gnus-group-list-zombies').

`A m'
     List all unread, subscribed groups with names that match a regexp
     (`gnus-group-list-matching').

`A M'
     List groups that match a regexp (`gnus-group-list-all-matching').

`A A'
     List absolutely all groups in the active file(s) of the server(s)
     you are connected to (`gnus-group-list-active').  This might very
     well take quite a while.  It might actually be a better idea to do
     a `A M' to list all matching, and just give `.' as the thing to
     match on.  Also note that this command may list groups that don't
     exist (yet)--these will be listed as if they were killed groups.
     Take the output with some grains of salt.

`A a'
     List all groups that have names that match a regexp
     (`gnus-group-apropos').

`A d'
     List all groups that have names or descriptions that match a regexp
     (`gnus-group-description-apropos').

`A c'
     List all groups with cached articles (`gnus-group-list-cached').

`A ?'
     List all groups with dormant articles (`gnus-group-list-dormant').

`A !'
     List all groups with ticked articles (`gnus-group-list-ticked').

`A /'
     Further limit groups within the current selection
     (`gnus-group-list-limit').  If you've first limited to groups with
     dormant articles with `A ?', you can then further limit with `A /
     c', which will then limit to groups with cached articles, giving
     you the groups that have both dormant articles and cached articles.

`A f'
     Flush groups from the current selection (`gnus-group-list-flush').

`A p'
     List groups plus the current selection (`gnus-group-list-plus').


   Groups that match the `gnus-permanently-visible-groups' regexp will
always be shown, whether they have unread articles or not.  You can also
add the `visible' element to the group parameters in question to get
the same effect.

   Groups that have just ticked articles in it are normally listed in
the group buffer.  If `gnus-list-groups-with-ticked-articles' is `nil',
these groups will be treated just like totally empty groups.  It is `t'
by default.


File: gnus,  Node: Sorting Groups,  Next: Group Maintenance,  Prev: Listing Groups,  Up: Group Buffer

2.12 Sorting Groups
===================

The `C-c C-s' (`gnus-group-sort-groups') command sorts the group buffer
according to the function(s) given by the `gnus-group-sort-function'
variable.  Available sorting functions include:

`gnus-group-sort-by-alphabet'
     Sort the group names alphabetically.  This is the default.

`gnus-group-sort-by-real-name'
     Sort the group alphabetically on the real (unprefixed) group names.

`gnus-group-sort-by-level'
     Sort by group level.

`gnus-group-sort-by-score'
     Sort by group score.  *Note Group Score::.

`gnus-group-sort-by-rank'
     Sort by group score and then the group level.  The level and the
     score are, when taken together, the group's "rank".  *Note Group
     Score::.

`gnus-group-sort-by-unread'
     Sort by number of unread articles.

`gnus-group-sort-by-method'
     Sort alphabetically on the select method.

`gnus-group-sort-by-server'
     Sort alphabetically on the Gnus server name.


   `gnus-group-sort-function' can also be a list of sorting functions.
In that case, the most significant sort key function must be the last
one.

   There are also a number of commands for sorting directly according to
some sorting criteria:

`G S a'
     Sort the group buffer alphabetically by group name
     (`gnus-group-sort-groups-by-alphabet').

`G S u'
     Sort the group buffer by the number of unread articles
     (`gnus-group-sort-groups-by-unread').

`G S l'
     Sort the group buffer by group level
     (`gnus-group-sort-groups-by-level').

`G S v'
     Sort the group buffer by group score
     (`gnus-group-sort-groups-by-score').  *Note Group Score::.

`G S r'
     Sort the group buffer by group rank
     (`gnus-group-sort-groups-by-rank').  *Note Group Score::.

`G S m'
     Sort the group buffer alphabetically by back end name
     (`gnus-group-sort-groups-by-method').

`G S n'
     Sort the group buffer alphabetically by real (unprefixed) group
     name (`gnus-group-sort-groups-by-real-name').


   All the commands below obey the process/prefix convention (*note
Process/Prefix::).

   When given a symbolic prefix (*note Symbolic Prefixes::), all these
commands will sort in reverse order.

   You can also sort a subset of the groups:

`G P a'
     Sort the groups alphabetically by group name
     (`gnus-group-sort-selected-groups-by-alphabet').

`G P u'
     Sort the groups by the number of unread articles
     (`gnus-group-sort-selected-groups-by-unread').

`G P l'
     Sort the groups by group level
     (`gnus-group-sort-selected-groups-by-level').

`G P v'
     Sort the groups by group score
     (`gnus-group-sort-selected-groups-by-score').  *Note Group Score::.

`G P r'
     Sort the groups by group rank
     (`gnus-group-sort-selected-groups-by-rank').  *Note Group Score::.

`G P m'
     Sort the groups alphabetically by back end name
     (`gnus-group-sort-selected-groups-by-method').

`G P n'
     Sort the groups alphabetically by real (unprefixed) group name
     (`gnus-group-sort-selected-groups-by-real-name').

`G P s'
     Sort the groups according to `gnus-group-sort-function'.


   And finally, note that you can use `C-k' and `C-y' to manually move
groups around.


File: gnus,  Node: Group Maintenance,  Next: Browse Foreign Server,  Prev: Sorting Groups,  Up: Group Buffer

2.13 Group Maintenance
======================

`b'
     Find bogus groups and delete them
     (`gnus-group-check-bogus-groups').

`F'
     Find new groups and process them (`gnus-group-find-new-groups').
     With 1 `C-u', use the `ask-server' method to query the server for
     new groups.  With 2 `C-u''s, use most complete method possible to
     query the server for new groups, and subscribe the new groups as
     zombies.

`C-c C-x'
     Run all expirable articles in the current group through the expiry
     process (if any) (`gnus-group-expire-articles').  That is, delete
     all expirable articles in the group that have been around for a
     while.  (*note Expiring Mail::).

`C-c C-M-x'
     Run all expirable articles in all groups through the expiry process
     (`gnus-group-expire-all-groups').



File: gnus,  Node: Browse Foreign Server,  Next: Exiting Gnus,  Prev: Group Maintenance,  Up: Group Buffer

2.14 Browse Foreign Server
==========================

`B'
     You will be queried for a select method and a server name.  Gnus
     will then attempt to contact this server and let you browse the
     groups there (`gnus-group-browse-foreign-server').

   A new buffer with a list of available groups will appear.  This
buffer will use the `gnus-browse-mode'.  This buffer looks a bit (well,
a lot) like a normal group buffer.

   Here's a list of keystrokes available in the browse mode:

`n'
     Go to the next group (`gnus-group-next-group').

`p'
     Go to the previous group (`gnus-group-prev-group').

`SPACE'
     Enter the current group and display the first article
     (`gnus-browse-read-group').

`RET'
     Enter the current group (`gnus-browse-select-group').

`u'
     Unsubscribe to the current group, or, as will be the case here,
     subscribe to it (`gnus-browse-unsubscribe-current-group').  You
     can affect the way the new group is entered into the Group buffer
     using the variable `gnus-browse-subscribe-newsgroup-method'.  See
     *note Subscription Methods:: for available options.

`l'
`q'
     Exit browse mode (`gnus-browse-exit').

`d'
     Describe the current group (`gnus-browse-describe-group').

`?'
     Describe browse mode briefly (well, there's not much to describe,
     is there) (`gnus-browse-describe-briefly').


File: gnus,  Node: Exiting Gnus,  Next: Group Topics,  Prev: Browse Foreign Server,  Up: Group Buffer

2.15 Exiting Gnus
=================

Yes, Gnus is ex(c)iting.

`z'
     Suspend Gnus (`gnus-group-suspend').  This doesn't really exit
     Gnus, but it kills all buffers except the Group buffer.  I'm not
     sure why this is a gain, but then who am I to judge?

`q'
     Quit Gnus (`gnus-group-exit').

`Q'
     Quit Gnus without saving the `.newsrc' files (`gnus-group-quit').
     The dribble file will be saved, though (*note Auto Save::).

   `gnus-suspend-gnus-hook' is called when you suspend Gnus and
`gnus-exit-gnus-hook' is called when you quit Gnus, while
`gnus-after-exiting-gnus-hook' is called as the final item when exiting
Gnus.

   Note:

     Miss Lisa Cannifax, while sitting in English class, felt her feet
     go numbly heavy and herself fall into a hazy trance as the boy
     sitting behind her drew repeated lines with his pencil across the
     back of her plastic chair.


File: gnus,  Node: Group Topics,  Next: Non-ASCII Group Names,  Prev: Exiting Gnus,  Up: Group Buffer

2.16 Group Topics
=================

If you read lots and lots of groups, it might be convenient to group
them hierarchically according to topics.  You put your Emacs groups over
here, your sex groups over there, and the rest (what, two groups or so?)
you put in some misc section that you never bother with anyway.  You can
even group the Emacs sex groups as a sub-topic to either the Emacs
groups or the sex groups--or both!  Go wild!

   Here's an example:

     Gnus
       Emacs -- I wuw it!
          3: comp.emacs
          2: alt.religion.emacs
         Naughty Emacs
          452: alt.sex.emacs
            0: comp.talk.emacs.recovery
       Misc
          8: comp.binaries.fractals
         13: comp.sources.unix

   To get this _fab_ functionality you simply turn on (ooh!) the
`gnus-topic' minor mode--type `t' in the group buffer.  (This is a
toggling command.)

   Go ahead, just try it.  I'll still be here when you get back.  La de
dum... Nice tune, that... la la la... What, you're back?  Yes, and now
press `l'.  There.  All your groups are now listed under `misc'.
Doesn't that make you feel all warm and fuzzy?  Hot and bothered?

   If you want this permanently enabled, you should add that minor mode
to the hook for the group mode.  Put the following line in your
`~/.gnus.el' file:

     (add-hook 'gnus-group-mode-hook 'gnus-topic-mode)

* Menu:

* Topic Commands::              Interactive E-Z commands.
* Topic Variables::             How to customize the topics the Lisp Way.
* Topic Sorting::               Sorting each topic individually.
* Topic Topology::              A map of the world.
* Topic Parameters::            Parameters that apply to all groups in a topic.


File: gnus,  Node: Topic Commands,  Next: Topic Variables,  Up: Group Topics

2.16.1 Topic Commands
---------------------

When the topic minor mode is turned on, a new `T' submap will be
available.  In addition, a few of the standard keys change their
definitions slightly.

   In general, the following kinds of operations are possible on topics.
First of all, you want to create topics.  Secondly, you want to put
groups in topics and to move them around until you have an order you
like.  The third kind of operation is to show/hide parts of the whole
shebang.  You might want to hide a topic including its subtopics and
groups, to get a better overview of the other groups.

   Here is a list of the basic keys that you might need to set up topics
the way you like.

`T n'
     Prompt for a new topic name and create it
     (`gnus-topic-create-topic').

`T TAB'
`TAB'
     "Indent" the current topic so that it becomes a sub-topic of the
     previous topic (`gnus-topic-indent').  If given a prefix,
     "un-indent" the topic instead.

`M-TAB'
     "Un-indent" the current topic so that it becomes a sub-topic of the
     parent of its current parent (`gnus-topic-unindent').


   The following two keys can be used to move groups and topics around.
They work like the well-known cut and paste.  `C-k' is like cut and
`C-y' is like paste.  Of course, this being Emacs, we use the terms
kill and yank rather than cut and paste.

`C-k'
     Kill a group or topic (`gnus-topic-kill-group').  All groups in the
     topic will be removed along with the topic.

`C-y'
     Yank the previously killed group or topic
     (`gnus-topic-yank-group').  Note that all topics will be yanked
     before all groups.

     So, to move a topic to the beginning of the list of topics, just
     hit `C-k' on it.  This is like the "cut" part of cut and paste.
     Then, move the cursor to the beginning of the buffer (just below
     the "Gnus" topic) and hit `C-y'.  This is like the "paste" part of
     cut and paste.  Like I said - E-Z.

     You can use `C-k' and `C-y' on groups as well as on topics.  So
     you can move topics around as well as groups.


   After setting up the topics the way you like them, you might wish to
hide a topic, or to show it again.  That's why we have the following
key.

`RET'
`SPACE'
     Either select a group or fold a topic (`gnus-topic-select-group').
     When you perform this command on a group, you'll enter the group,
     as usual.  When done on a topic line, the topic will be folded (if
     it was visible) or unfolded (if it was folded already).  So it's
     basically a toggling command on topics.  In addition, if you give
     a numerical prefix, group on that level (and lower) will be
     displayed.


   Now for a list of other commands, in no particular order.

`T m'
     Move the current group to some other topic
     (`gnus-topic-move-group').  This command uses the process/prefix
     convention (*note Process/Prefix::).

`T j'
     Go to a topic (`gnus-topic-jump-to-topic').

`T c'
     Copy the current group to some other topic
     (`gnus-topic-copy-group').  This command uses the process/prefix
     convention (*note Process/Prefix::).

`T h'
     Hide the current topic (`gnus-topic-hide-topic').  If given a
     prefix, hide the topic permanently.

`T s'
     Show the current topic (`gnus-topic-show-topic').  If given a
     prefix, show the topic permanently.

`T D'
     Remove a group from the current topic (`gnus-topic-remove-group').
     This command is mainly useful if you have the same group in several
     topics and wish to remove it from one of the topics.  You may also
     remove a group from all topics, but in that case, Gnus will add it
     to the root topic the next time you start Gnus.  In fact, all new
     groups (which, naturally, don't belong to any topic) will show up
     in the root topic.

     This command uses the process/prefix convention (*note
     Process/Prefix::).

`T M'
     Move all groups that match some regular expression to a topic
     (`gnus-topic-move-matching').

`T C'
     Copy all groups that match some regular expression to a topic
     (`gnus-topic-copy-matching').

`T H'
     Toggle hiding empty topics
     (`gnus-topic-toggle-display-empty-topics').

`T #'
     Mark all groups in the current topic with the process mark
     (`gnus-topic-mark-topic').  This command works recursively on
     sub-topics unless given a prefix.

`T M-#'
     Remove the process mark from all groups in the current topic
     (`gnus-topic-unmark-topic').  This command works recursively on
     sub-topics unless given a prefix.

`C-c C-x'
     Run all expirable articles in the current group or topic through
     the expiry process (if any) (`gnus-topic-expire-articles').
     (*note Expiring Mail::).

`T r'
     Rename a topic (`gnus-topic-rename').

`T DEL'
     Delete an empty topic (`gnus-topic-delete').

`A T'
     List all groups that Gnus knows about in a topics-ified way
     (`gnus-topic-list-active').

`T M-n'
     Go to the next topic (`gnus-topic-goto-next-topic').

`T M-p'
     Go to the previous topic (`gnus-topic-goto-previous-topic').

`G p'
     Edit the topic parameters (`gnus-topic-edit-parameters').  *Note
     Topic Parameters::.



File: gnus,  Node: Topic Variables,  Next: Topic Sorting,  Prev: Topic Commands,  Up: Group Topics

2.16.2 Topic Variables
----------------------

The previous section told you how to tell Gnus which topics to display.
This section explains how to tell Gnus what to display about each topic.

   The topic lines themselves are created according to the
`gnus-topic-line-format' variable (*note Formatting Variables::).
Valid elements are:

`i'
     Indentation.

`n'
     Topic name.

`v'
     Visibility.

`l'
     Level.

`g'
     Number of groups in the topic.

`a'
     Number of unread articles in the topic.

`A'
     Number of unread articles in the topic and all its subtopics.

   Each sub-topic (and the groups in the sub-topics) will be indented
with `gnus-topic-indent-level' times the topic level number of spaces.
The default is 2.

   `gnus-topic-mode-hook' is called in topic minor mode buffers.

   The `gnus-topic-display-empty-topics' says whether to display even
topics that have no unread articles in them.  The default is `t'.


File: gnus,  Node: Topic Sorting,  Next: Topic Topology,  Prev: Topic Variables,  Up: Group Topics

2.16.3 Topic Sorting
--------------------

You can sort the groups in each topic individually with the following
commands:

`T S a'
     Sort the current topic alphabetically by group name
     (`gnus-topic-sort-groups-by-alphabet').

`T S u'
     Sort the current topic by the number of unread articles
     (`gnus-topic-sort-groups-by-unread').

`T S l'
     Sort the current topic by group level
     (`gnus-topic-sort-groups-by-level').

`T S v'
     Sort the current topic by group score
     (`gnus-topic-sort-groups-by-score').  *Note Group Score::.

`T S r'
     Sort the current topic by group rank
     (`gnus-topic-sort-groups-by-rank').  *Note Group Score::.

`T S m'
     Sort the current topic alphabetically by back end name
     (`gnus-topic-sort-groups-by-method').

`T S e'
     Sort the current topic alphabetically by server name
     (`gnus-topic-sort-groups-by-server').

`T S s'
     Sort the current topic according to the function(s) given by the
     `gnus-group-sort-function' variable (`gnus-topic-sort-groups').


   When given a prefix argument, all these commands will sort in reverse
order.  *Note Sorting Groups::, for more information about group
sorting.


File: gnus,  Node: Topic Topology,  Next: Topic Parameters,  Prev: Topic Sorting,  Up: Group Topics

2.16.4 Topic Topology
---------------------

So, let's have a look at an example group buffer:

     Gnus
       Emacs -- I wuw it!
          3: comp.emacs
          2: alt.religion.emacs
         Naughty Emacs
          452: alt.sex.emacs
            0: comp.talk.emacs.recovery
       Misc
          8: comp.binaries.fractals
         13: comp.sources.unix

   So, here we have one top-level topic (`Gnus'), two topics under
that, and one sub-topic under one of the sub-topics.  (There is always
just one (1) top-level topic).  This topology can be expressed as
follows:

     (("Gnus" visible)
      (("Emacs -- I wuw it!" visible)
       (("Naughty Emacs" visible)))
      (("Misc" visible)))

   This is in fact how the variable `gnus-topic-topology' would look
for the display above.  That variable is saved in the `.newsrc.eld'
file, and shouldn't be messed with manually--unless you really want to.
Since this variable is read from the `.newsrc.eld' file, setting it in
any other startup files will have no effect.

   This topology shows what topics are sub-topics of what topics
(right), and which topics are visible.  Two settings are currently
allowed--`visible' and `invisible'.


File: gnus,  Node: Topic Parameters,  Prev: Topic Topology,  Up: Group Topics

2.16.5 Topic Parameters
-----------------------

All groups in a topic will inherit group parameters from the parent
(and ancestor) topic parameters.  All valid group parameters are valid
topic parameters (*note Group Parameters::).  When the agent is
enabled, all agent parameters (See Agent Parameters in *note Category
Syntax::) are also valid topic parameters.

   In addition, the following parameters are only valid as topic
parameters:

`subscribe'
     When subscribing new groups by topic (*note Subscription
     Methods::), the `subscribe' topic parameter says what groups go in
     what topic.  Its value should be a regexp to match the groups that
     should go in that topic.

`subscribe-level'
     When subscribing new groups by topic (see the `subscribe'
     parameter), the group will be subscribed with the level specified
     in the `subscribe-level' instead of
     `gnus-level-default-subscribed'.


   Group parameters (of course) override topic parameters, and topic
parameters in sub-topics override topic parameters in super-topics.  You
know.  Normal inheritance rules.  ("Rules" is here a noun, not a verb,
although you may feel free to disagree with me here.)

     Gnus
       Emacs
          3: comp.emacs
          2: alt.religion.emacs
        452: alt.sex.emacs
         Relief
          452: alt.sex.emacs
            0: comp.talk.emacs.recovery
       Misc
          8: comp.binaries.fractals
         13: comp.sources.unix
        452: alt.sex.emacs

   The `Emacs' topic has the topic parameter `(score-file .
"emacs.SCORE")'; the `Relief' topic has the topic parameter
`(score-file . "relief.SCORE")'; and the `Misc' topic has the topic
parameter `(score-file . "emacs.SCORE")'.  In addition,
`alt.religion.emacs' has the group parameter `(score-file .
"religion.SCORE")'.

   Now, when you enter `alt.sex.emacs' in the `Relief' topic, you will
get the `relief.SCORE' home score file.  If you enter the same group in
the `Emacs' topic, you'll get the `emacs.SCORE' home score file.  If
you enter the group `alt.religion.emacs', you'll get the
`religion.SCORE' home score file.

   This seems rather simple and self-evident, doesn't it?  Well, yes.
But there are some problems, especially with the `total-expiry'
parameter.  Say you have a mail group in two topics; one with
`total-expiry' and one without.  What happens when you do `M-x
gnus-expire-all-expirable-groups'?  Gnus has no way of telling which one
of these topics you mean to expire articles from, so anything may
happen.  In fact, I hereby declare that it is "undefined" what happens.
You just have to be careful if you do stuff like that.


File: gnus,  Node: Non-ASCII Group Names,  Next: Misc Group Stuff,  Prev: Group Topics,  Up: Group Buffer

2.17 Accessing groups of non-English names
==========================================

There are some news servers that provide groups of which the names are
expressed with their native languages in the world.  For instance, in a
certain news server there are some newsgroups of which the names are
spelled in Chinese, where people are talking in Chinese.  You can, of
course, subscribe to such news groups using Gnus.  Currently Gnus
supports non-ASCII group names not only with the `nntp' back end but
also with the `nnml' back end and the `nnrss' back end.

   Every such group name is encoded by a certain charset in the server
side (in an NNTP server its administrator determines the charset, but
for groups in the other back ends it is determined by you).  Gnus has
to display the decoded ones for you in the group buffer and the article
buffer, and needs to use the encoded ones when communicating with
servers.  However, Gnus doesn't know what charset is used for each
non-ASCII group name.  The following two variables are just the ones
for telling Gnus what charset should be used for each group:

`gnus-group-name-charset-method-alist'
     An alist of select methods and charsets.  The default value is
     `nil'.  The names of groups in the server specified by that select
     method are all supposed to use the corresponding charset.  For
     example:

          (setq gnus-group-name-charset-method-alist
                '(((nntp "news.com.cn") . cn-gb-2312)))

     Charsets specified for groups with this variable are preferred to
     the ones specified for the same groups with the
     `gnus-group-name-charset-group-alist' variable (see below).

     A select method can be very long, like:

          (nntp "gmane"
                (nntp-address "news.gmane.org")
                (nntp-end-of-line "\n")
                (nntp-open-connection-function
                 nntp-open-via-rlogin-and-telnet)
                (nntp-via-rlogin-command "ssh")
                (nntp-via-rlogin-command-switches
                 ("-C" "-t" "-e" "none"))
                (nntp-via-address ...))

     In that case, you can truncate it into `(nntp "gmane")' in this
     variable.  That is, it is enough to contain only the back end name
     and the server name.

`gnus-group-name-charset-group-alist'
     An alist of regexp of group name and the charset for group names.
     `((".*" . utf-8))' is the default value if UTF-8 is supported,
     otherwise the default is `nil'.  For example:

          (setq gnus-group-name-charset-group-alist
                '(("\\.com\\.cn:" . cn-gb-2312)
                  (".*" . utf-8)))

     Note that this variable is ignored if the match is made with
     `gnus-group-name-charset-method-alist'.

   Those two variables are used also to determine the charset for
encoding and decoding non-ASCII group names that are in the back ends
other than `nntp'.  It means that it is you who determine it.  If you
do nothing, the charset used for group names in those back ends will
all be `utf-8' because of the last element of
`gnus-group-name-charset-group-alist'.

   There is one more important variable for non-ASCII group names:

`nnmail-pathname-coding-system'
     The value of this variable should be a coding system or `nil'.  The
     default is `nil' in Emacs, or is the aliasee of the coding system
     named `file-name' (a certain coding system of which an alias is
     `file-name') in XEmacs.

     The `nnml' back end, the `nnrss' back end, the NNTP marks feature
     (*note NNTP marks::), the agent, and the cache use non-ASCII group
     names in those files and directories.  This variable overrides the
     value of `file-name-coding-system' which specifies the coding
     system used when encoding and decoding those file names and
     directory names.

     In XEmacs (with the `mule' feature), `file-name-coding-system' is
     the only means to specify the coding system used to encode and
     decode file names.  On the other hand, Emacs uses the value of
     `default-file-name-coding-system' if `file-name-coding-system' is
     `nil' or it is bound to the value of
     `nnmail-pathname-coding-system' which is `nil'.

     Normally the value of `default-file-name-coding-system' in Emacs or
     `nnmail-pathname-coding-system' in XEmacs is initialized according
     to the locale, so you will need to do nothing if the value is
     suitable to encode and decode non-ASCII group names.

     The value of this variable (or `default-file-name-coding-system')
     does not necessarily need to be the same value that is determined
     by `gnus-group-name-charset-method-alist' and
     `gnus-group-name-charset-group-alist'.

     If `default-file-name-coding-system' or this variable is
     initialized by default to `iso-latin-1' for example, although you
     want to subscribe to the groups spelled in Chinese, that is the
     most typical case where you have to customize
     `nnmail-pathname-coding-system'.  The `utf-8' coding system is a
     good candidate for it.  Otherwise, you may change the locale in
     your system so that `default-file-name-coding-system' or this
     variable may be initialized to an appropriate value.

   Note that when you copy or move articles from a non-ASCII group to
another group, the charset used to encode and decode group names should
be the same in both groups.  Otherwise the Newsgroups header will be
displayed incorrectly in the article buffer.


File: gnus,  Node: Misc Group Stuff,  Prev: Non-ASCII Group Names,  Up: Group Buffer

2.18 Misc Group Stuff
=====================

* Menu:

* Scanning New Messages::       Asking Gnus to see whether new messages have arrived.
* Group Information::           Information and help on groups and Gnus.
* Group Timestamp::             Making Gnus keep track of when you last read a group.
* File Commands::               Reading and writing the Gnus files.
* Sieve Commands::              Managing Sieve scripts.

`v'
     The key `v' is reserved for users.  You can bind it to some
     command or better use it as a prefix key.  For example:

          (define-key gnus-group-mode-map (kbd "v j d")
            (lambda ()
              (interactive)
              (gnus-group-jump-to-group "nndraft:drafts")))

     On keys reserved for users in Emacs and on keybindings in general
     *Note Keymaps: (emacs)Keymaps.

`^'
     Enter the server buffer (`gnus-group-enter-server-mode').  *Note
     Server Buffer::.

`a'
     Start composing a message (a news by default)
     (`gnus-group-post-news').  If given a prefix, post to the group
     under the point.  If the prefix is 1, prompt for a group to post
     to.  Contrary to what the name of this function suggests, the
     prepared article might be a mail instead of a news, if a mail
     group is specified with the prefix argument.  *Note Composing
     Messages::.

`m'
     Mail a message somewhere (`gnus-group-mail').  If given a prefix,
     use the posting style of the group under the point.  If the prefix
     is 1, prompt for a group name to find the posting style.  *Note
     Composing Messages::.

`i'
     Start composing a news (`gnus-group-news').  If given a prefix,
     post to the group under the point.  If the prefix is 1, prompt for
     group to post to.  *Note Composing Messages::.

     This function actually prepares a news even when using mail groups.
     This is useful for "posting" messages to mail groups without
     actually sending them over the network: they're just saved
     directly to the group in question.  The corresponding back end
     must have a request-post method for this to work though.

`G z'
     Compact the group under point (`gnus-group-compact-group').
     Currently implemented only in nnml (*note Mail Spool::).  This
     removes gaps between article numbers, hence getting a correct
     total article count.


   Variables for the group buffer:

`gnus-group-mode-hook'
     is called after the group buffer has been created.

`gnus-group-prepare-hook'
     is called after the group buffer is generated.  It may be used to
     modify the buffer in some strange, unnatural way.

`gnus-group-prepared-hook'
     is called as the very last thing after the group buffer has been
     generated.  It may be used to move point around, for instance.

`gnus-permanently-visible-groups'
     Groups matching this regexp will always be listed in the group
     buffer, whether they are empty or not.



File: gnus,  Node: Scanning New Messages,  Next: Group Information,  Up: Misc Group Stuff

2.18.1 Scanning New Messages
----------------------------

`g'
     Check the server(s) for new articles.  If the numerical prefix is
     used, this command will check only groups of level ARG and lower
     (`gnus-group-get-new-news').  If given a non-numerical prefix, this
     command will force a total re-reading of the active file(s) from
     the back end(s).

`M-g'
     Check whether new articles have arrived in the current group
     (`gnus-group-get-new-news-this-group').
     `gnus-goto-next-group-when-activating' says whether this command is
     to move point to the next group or not.  It is `t' by default.

`C-c M-g'
     Activate absolutely all groups (`gnus-activate-all-groups').

`R'
     Restart Gnus (`gnus-group-restart').  This saves the `.newsrc'
     file(s), closes the connection to all servers, clears up all
     run-time Gnus variables, and then starts Gnus all over again.


   `gnus-get-new-news-hook' is run just before checking for new news.

   `gnus-after-getting-new-news-hook' is run after checking for new
news.


File: gnus,  Node: Group Information,  Next: Group Timestamp,  Prev: Scanning New Messages,  Up: Misc Group Stuff

2.18.2 Group Information
------------------------

`H d'
`C-c C-d'
     Describe the current group (`gnus-group-describe-group').  If given
     a prefix, force Gnus to re-read the description from the server.

`M-d'
     Describe all groups (`gnus-group-describe-all-groups').  If given a
     prefix, force Gnus to re-read the description file from the server.

`H v'
`V'
     Display current Gnus version numbers (`gnus-version').

`?'
     Give a very short help message (`gnus-group-describe-briefly').

`C-c C-i'
     Go to the Gnus info node (`gnus-info-find-node').


File: gnus,  Node: Group Timestamp,  Next: File Commands,  Prev: Group Information,  Up: Misc Group Stuff

2.18.3 Group Timestamp
----------------------

It can be convenient to let Gnus keep track of when you last read a
group.  To set the ball rolling, you should add
`gnus-group-set-timestamp' to `gnus-select-group-hook':

     (add-hook 'gnus-select-group-hook 'gnus-group-set-timestamp)

   After doing this, each time you enter a group, it'll be recorded.

   This information can be displayed in various ways--the easiest is to
use the `%d' spec in the group line format:

     (setq gnus-group-line-format
           "%M\%S\%p\%P\%5y: %(%-40,40g%) %d\n")

   This will result in lines looking like:

     *        0: mail.ding                                19961002T012943
              0: custom                                   19961002T012713

   As you can see, the date is displayed in compact ISO 8601 format.
This may be a bit too much, so to just display the date, you could say
something like:

     (setq gnus-group-line-format
           "%M\%S\%p\%P\%5y: %(%-40,40g%) %6,6~(cut 2)d\n")

   If you would like greater control of the time format, you can use a
user-defined format spec.  Something like the following should do the
trick:

     (setq gnus-group-line-format
           "%M\%S\%p\%P\%5y: %(%-40,40g%) %ud\n")
     (defun gnus-user-format-function-d (headers)
       (let ((time (gnus-group-timestamp gnus-tmp-group)))
         (if time
             (format-time-string "%b %d  %H:%M" time)
           "")))


File: gnus,  Node: File Commands,  Next: Sieve Commands,  Prev: Group Timestamp,  Up: Misc Group Stuff

2.18.4 File Commands
--------------------

`r'
     Re-read the init file (`gnus-init-file', which defaults to
     `~/.gnus.el') (`gnus-group-read-init-file').

`s'
     Save the `.newsrc.eld' file (and `.newsrc' if wanted)
     (`gnus-group-save-newsrc').  If given a prefix, force saving the
     file(s) whether Gnus thinks it is necessary or not.



File: gnus,  Node: Sieve Commands,  Prev: File Commands,  Up: Misc Group Stuff

2.18.5 Sieve Commands
---------------------

Sieve is a server-side mail filtering language.  In Gnus you can use
the `sieve' group parameter (*note Group Parameters::) to specify sieve
rules that should apply to each group.  Gnus provides two commands to
translate all these group parameters into a proper Sieve script that
can be transferred to the server somehow.

   The generated Sieve script is placed in `gnus-sieve-file' (by
default `~/.sieve').  The Sieve code that Gnus generate is placed
between two delimiters, `gnus-sieve-region-start' and
`gnus-sieve-region-end', so you may write additional Sieve code outside
these delimiters that will not be removed the next time you regenerate
the Sieve script.

   The variable `gnus-sieve-crosspost' controls how the Sieve script is
generated.  If it is non-`nil' (the default) articles is placed in all
groups that have matching rules, otherwise the article is only placed
in the group with the first matching rule.  For example, the group
parameter `(sieve address "sender" "owner-ding@hpc.uh.edu")' will
generate the following piece of Sieve code if `gnus-sieve-crosspost' is
`nil'.  (When `gnus-sieve-crosspost' is non-`nil', it looks the same
except that the line containing the call to `stop' is removed.)

     if address "sender" "owner-ding@hpc.uh.edu" {
             fileinto "INBOX.ding";
             stop;
     }

   *Note Emacs Sieve: (sieve)Top.

`D g'
     Regenerate a Sieve script from the `sieve' group parameters and
     put you into the `gnus-sieve-file' without saving it.

`D u'
     Regenerates the Gnus managed part of `gnus-sieve-file' using the
     `sieve' group parameters, save the file and upload it to the
     server using the `sieveshell' program.



File: gnus,  Node: Summary Buffer,  Next: Article Buffer,  Prev: Group Buffer,  Up: Top

3 Summary Buffer
****************

A line for each article is displayed in the summary buffer.  You can
move around, read articles, post articles and reply to articles.

   The most common way to a summary buffer is to select a group from the
group buffer (*note Selecting a Group::).

   You can have as many summary buffers open as you wish.

   You can customize the Summary Mode tool bar, see `M-x
customize-apropos RET gnus-summary-tool-bar'.  This feature is only
available in Emacs.

   The key `v' is reserved for users.  You can bind it to some command
or better use it as a prefix key.  For example:
     (define-key gnus-summary-mode-map (kbd "v -") "LrS") ;; lower subthread

* Menu:

* Summary Buffer Format::       Deciding how the summary buffer is to look.
* Summary Maneuvering::         Moving around the summary buffer.
* Choosing Articles::           Reading articles.
* Paging the Article::          Scrolling the current article.
* Reply Followup and Post::     Posting articles.
* Delayed Articles::            Send articles at a later time.
* Marking Articles::            Marking articles as read, expirable, etc.
* Limiting::                    You can limit the summary buffer.
* Threading::                   How threads are made.
* Sorting the Summary Buffer::  How articles and threads are sorted.
* Asynchronous Fetching::       Gnus might be able to pre-fetch articles.
* Article Caching::             You may store articles in a cache.
* Persistent Articles::         Making articles expiry-resistant.
* Sticky Articles::             Article buffers that are not reused.
* Article Backlog::             Having already read articles hang around.
* Saving Articles::             Ways of customizing article saving.
* Decoding Articles::           Gnus can treat series of (uu)encoded articles.
* Article Treatment::           The article buffer can be mangled at will.
* MIME Commands::               Doing MIMEy things with the articles.
* Charsets::                    Character set issues.
* Article Commands::            Doing various things with the article buffer.
* Summary Sorting::             Sorting the summary buffer in various ways.
* Finding the Parent::          No child support? Get the parent.
* Alternative Approaches::      Reading using non-default summaries.
* Tree Display::                A more visual display of threads.
* Mail Group Commands::         Some commands can only be used in mail groups.
* Various Summary Stuff::       What didn't fit anywhere else.
* Exiting the Summary Buffer::  Returning to the Group buffer,
                                or reselecting the current group.
* Crosspost Handling::          How crossposted articles are dealt with.
* Duplicate Suppression::       An alternative when crosspost handling fails.
* Security::                    Decrypt and Verify.
* Mailing List::                Mailing list minor mode.


File: gnus,  Node: Summary Buffer Format,  Next: Summary Maneuvering,  Up: Summary Buffer

3.1 Summary Buffer Format
=========================

* Menu:

* Summary Buffer Lines::        You can specify how summary lines should look.
* To From Newsgroups::          How to not display your own name.
* Summary Buffer Mode Line::    You can say how the mode line should look.
* Summary Highlighting::        Making the summary buffer all pretty and nice.

   Gnus will use the value of the `gnus-extract-address-components'
variable as a function for getting the name and address parts of a
`From' header.  Two pre-defined functions exist:
`gnus-extract-address-components', which is the default, quite fast,
and too simplistic solution; and `mail-extract-address-components',
which works very nicely, but is slower.  The default function will
return the wrong answer in 5% of the cases.  If this is unacceptable to
you, use the other function instead:

     (setq gnus-extract-address-components
           'mail-extract-address-components)

   `gnus-summary-same-subject' is a string indicating that the current
article has the same subject as the previous.  This string will be used
with those specs that require it.  The default is `""'.


File: gnus,  Node: Summary Buffer Lines,  Next: To From Newsgroups,  Up: Summary Buffer Format

3.1.1 Summary Buffer Lines
--------------------------

You can change the format of the lines in the summary buffer by changing
the `gnus-summary-line-format' variable.  It works along the same lines
as a normal `format' string, with some extensions (*note Formatting
Variables::).

   There should always be a colon or a point position marker on the
line; the cursor always moves to the point position marker or the colon
after performing an operation.  (Of course, Gnus wouldn't be Gnus if it
wasn't possible to change this.  Just write a new function
`gnus-goto-colon' which does whatever you like with the cursor.)  *Note
Positioning Point::.

   The default string is `%U%R%z%I%(%[%4L: %-23,23f%]%) %s\n'.

   The following format specification characters and extended format
specification(s) are understood:

`N'
     Article number.

`S'
     Subject string.  List identifiers stripped,
     `gnus-list-identifiers'.  *Note Article Hiding::.

`s'
     Subject if the article is the root of the thread or the previous
     article had a different subject, `gnus-summary-same-subject'
     otherwise.  (`gnus-summary-same-subject' defaults to `""'.)

`F'
     Full `From' header.

`n'
     The name (from the `From' header).

`f'
     The name, `To' header or the `Newsgroups' header (*note To From
     Newsgroups::).

`a'
     The name (from the `From' header).  This differs from the `n' spec
     in that it uses the function designated by the
     `gnus-extract-address-components' variable, which is slower, but
     may be more thorough.

`A'
     The address (from the `From' header).  This works the same way as
     the `a' spec.

`L'
     Number of lines in the article.

`c'
     Number of characters in the article.  This specifier is not
     supported in some methods (like nnfolder).

`k'
     Pretty-printed version of the number of characters in the article;
     for example, `1.2k' or `0.4M'.

`I'
     Indentation based on thread level (*note Customizing Threading::).

`B'
     A complex trn-style thread tree, showing response-connecting trace
     lines.  A thread could be drawn like this:

          >
          +->
          | +->
          | | \->
          | |   \->
          | \->
          +->
          \->

     You can customize the appearance with the following options.  Note
     that it is possible to make the thread display look really neat by
     replacing the default ASCII characters with graphic line-drawing
     glyphs.
    `gnus-sum-thread-tree-root'
          Used for the root of a thread.  If `nil', use subject
          instead.  The default is `> '.

    `gnus-sum-thread-tree-false-root'
          Used for the false root of a thread (*note Loose Threads::).
          If `nil', use subject instead.  The default is `> '.

    `gnus-sum-thread-tree-single-indent'
          Used for a thread with just one message.  If `nil', use
          subject instead.  The default is `'.

    `gnus-sum-thread-tree-vertical'
          Used for drawing a vertical line.  The default is `| '.

    `gnus-sum-thread-tree-indent'
          Used for indenting.  The default is `  '.

    `gnus-sum-thread-tree-leaf-with-other'
          Used for a leaf with brothers.  The default is `+-> '.

    `gnus-sum-thread-tree-single-leaf'
          Used for a leaf without brothers.  The default is `\-> '


`T'
     Nothing if the article is a root and lots of spaces if it isn't (it
     pushes everything after it off the screen).

`['
     Opening bracket, which is normally `[', but can also be `<' for
     adopted articles (*note Customizing Threading::).

`]'
     Closing bracket, which is normally `]', but can also be `>' for
     adopted articles.

`>'
     One space for each thread level.

`<'
     Twenty minus thread level spaces.

`U'
     Unread.  *Note Read Articles::.

`R'
     This misleadingly named specifier is the "secondary mark".  This
     mark will say whether the article has been replied to, has been
     cached, or has been saved.  *Note Other Marks::.

`i'
     Score as a number (*note Scoring::).

`z'
     Zcore, `+' if above the default level and `-' if below the default
     level.  If the difference between `gnus-summary-default-score' and
     the score is less than `gnus-summary-zcore-fuzz', this spec will
     not be used.

`V'
     Total thread score.

`x'
     `Xref'.

`D'
     `Date'.

`d'
     The `Date' in `DD-MMM' format.

`o'
     The `Date' in YYYYMMDD`T'HHMMSS format.

`M'
     `Message-ID'.

`r'
     `References'.

`t'
     Number of articles in the current sub-thread.  Using this spec
     will slow down summary buffer generation somewhat.

`e'
     An `=' (`gnus-not-empty-thread-mark') will be displayed if the
     article has any children.

`P'
     The line number.

`O'
     Download mark.

`*'
     Desired cursor position (instead of after first colon).

`&user-date;'
     Age sensitive date format.  Various date format is defined in
     `gnus-user-date-format-alist'.

`u'
     User defined specifier.  The next character in the format string
     should be a letter.  Gnus will call the function
     `gnus-user-format-function-X', where X is the letter following
     `%u'.  The function will be passed the current header as argument.
     The function should return a string, which will be inserted into
     the summary just like information from any other summary specifier.

   Text between `%(' and `%)' will be highlighted with
`gnus-mouse-face' when the mouse point is placed inside the area.
There can only be one such area.

   The `%U' (status), `%R' (replied) and `%z' (zcore) specs have to be
handled with care.  For reasons of efficiency, Gnus will compute what
column these characters will end up in, and "hard-code" that.  This
means that it is invalid to have these specs after a variable-length
spec.  Well, you might not be arrested, but your summary buffer will
look strange, which is bad enough.

   The smart choice is to have these specs as far to the left as
possible.  (Isn't that the case with everything, though?  But I
digress.)

   This restriction may disappear in later versions of Gnus.


File: gnus,  Node: To From Newsgroups,  Next: Summary Buffer Mode Line,  Prev: Summary Buffer Lines,  Up: Summary Buffer Format

3.1.2 To From Newsgroups
------------------------

In some groups (particularly in archive groups), the `From' header
isn't very interesting, since all the articles there are written by
you.  To display the information in the `To' or `Newsgroups' headers
instead, you need to decide three things: What information to gather;
where to display it; and when to display it.

  1. The reading of extra header information is controlled by the
     `gnus-extra-headers'.  This is a list of header symbols.  For
     instance:

          (setq gnus-extra-headers
                '(To Newsgroups X-Newsreader))

     This will result in Gnus trying to obtain these three headers, and
     storing it in header structures for later easy retrieval.

  2. The value of these extra headers can be accessed via the
     `gnus-extra-header' function.  Here's a format line spec that will
     access the `X-Newsreader' header:

          "%~(form (gnus-extra-header 'X-Newsreader))@"

  3. The `gnus-ignored-from-addresses' variable says when the `%f'
     summary line spec returns the `To', `Newsreader' or `From' header.
     If this regexp matches the contents of the `From' header, the
     value of the `To' or `Newsreader' headers are used instead.

     To distinguish regular articles from those where the `From' field
     has been swapped, a string is prefixed to the `To' or `Newsgroups'
     header in the summary line.  By default the string is `-> ' for
     `To' and `=> ' for `Newsgroups', you can customize these strings
     with `gnus-summary-to-prefix' and `gnus-summary-newsgroup-prefix'.


   A related variable is `nnmail-extra-headers', which controls when to
include extra headers when generating overview (NOV) files.  If you
have old overview files, you should regenerate them after changing this
variable, by entering the server buffer using `^', and then `g' on the
appropriate mail server (e.g. nnml) to cause regeneration.

   You also have to instruct Gnus to display the data by changing the
`%n' spec to the `%f' spec in the `gnus-summary-line-format' variable.

   In summary, you'd typically put something like the following in
`~/.gnus.el':

     (setq gnus-extra-headers
           '(To Newsgroups))
     (setq nnmail-extra-headers gnus-extra-headers)
     (setq gnus-summary-line-format
           "%U%R%z%I%(%[%4L: %-23,23f%]%) %s\n")
     (setq gnus-ignored-from-addresses
           "Your Name Here")

   (The values listed above are the default values in Gnus.  Alter them
to fit your needs.)

   A note for news server administrators, or for users who wish to try
to convince their news server administrator to provide some additional
support:

   The above is mostly useful for mail groups, where you have control
over the NOV files that are created.  However, if you can persuade your
nntp admin to add (in the usual implementation, notably INN):

     Newsgroups:full

   to the end of her `overview.fmt' file, then you can use that just as
you would the extra headers from the mail groups.


File: gnus,  Node: Summary Buffer Mode Line,  Next: Summary Highlighting,  Prev: To From Newsgroups,  Up: Summary Buffer Format

3.1.3 Summary Buffer Mode Line
------------------------------

You can also change the format of the summary mode bar (*note Mode Line
Formatting::).  Set `gnus-summary-mode-line-format' to whatever you
like.  The default is `Gnus: %%b [%A] %Z'.

   Here are the elements you can play with:

`G'
     Group name.

`p'
     Unprefixed group name.

`A'
     Current article number.

`z'
     Current article score.

`V'
     Gnus version.

`U'
     Number of unread articles in this group.

`e'
     Number of unread articles in this group that aren't displayed in
     the summary buffer.

`Z'
     A string with the number of unread and unselected articles
     represented either as `<%U(+%e) more>' if there are both unread
     and unselected articles, and just as `<%U more>' if there are just
     unread articles and no unselected ones.

`g'
     Shortish group name.  For instance, `rec.arts.anime' will be
     shortened to `r.a.anime'.

`S'
     Subject of the current article.

`u'
     User-defined spec (*note User-Defined Specs::).

`s'
     Name of the current score file (*note Scoring::).

`d'
     Number of dormant articles (*note Unread Articles::).

`t'
     Number of ticked articles (*note Unread Articles::).

`r'
     Number of articles that have been marked as read in this session.

`E'
     Number of articles expunged by the score files.


File: gnus,  Node: Summary Highlighting,  Prev: Summary Buffer Mode Line,  Up: Summary Buffer Format

3.1.4 Summary Highlighting
--------------------------

`gnus-visual-mark-article-hook'
     This hook is run after selecting an article.  It is meant to be
     used for highlighting the article in some way.  It is not run if
     `gnus-visual' is `nil'.

`gnus-summary-update-hook'
     This hook is called when a summary line is changed.  It is not run
     if `gnus-visual' is `nil'.

`gnus-summary-selected-face'
     This is the face (or "font" as some people call it) used to
     highlight the current article in the summary buffer.

`gnus-summary-highlight'
     Summary lines are highlighted according to this variable, which is
     a list where the elements are of the format `(FORM . FACE)'.  If
     you would, for instance, like ticked articles to be italic and
     high-scored articles to be bold, you could set this variable to
     something like
          (((eq mark gnus-ticked-mark) . italic)
           ((> score default) . bold))
     As you may have guessed, if FORM returns a non-`nil' value, FACE
     will be applied to the line.


File: gnus,  Node: Summary Maneuvering,  Next: Choosing Articles,  Prev: Summary Buffer Format,  Up: Summary Buffer

3.2 Summary Maneuvering
=======================

All the straight movement commands understand the numeric prefix and
behave pretty much as you'd expect.

   None of these commands select articles.

`G M-n'
`M-n'
     Go to the next summary line of an unread article
     (`gnus-summary-next-unread-subject').

`G M-p'
`M-p'
     Go to the previous summary line of an unread article
     (`gnus-summary-prev-unread-subject').

`G g'
     Ask for an article number and then go to the summary line of that
     article without displaying the article
     (`gnus-summary-goto-subject').

   If Gnus asks you to press a key to confirm going to the next group,
you can use the `C-n' and `C-p' keys to move around the group buffer,
searching for the next group to read without actually returning to the
group buffer.

   Variables related to summary movement:

`gnus-auto-select-next'
     If you issue one of the movement commands (like `n') and there are
     no more unread articles after the current one, Gnus will offer to
     go to the next group.  If this variable is `t' and the next group
     is empty, Gnus will exit summary mode and return to the group
     buffer.  If this variable is neither `t' nor `nil', Gnus will
     select the next group with unread articles.  As a special case, if
     this variable is `quietly', Gnus will select the next group
     without asking for confirmation.  If this variable is
     `almost-quietly', the same will happen only if you are located on
     the last article in the group.  Finally, if this variable is
     `slightly-quietly', the `Z n' command will go to the next group
     without confirmation.  Also *note Group Levels::.

`gnus-auto-select-same'
     If non-`nil', all the movement commands will try to go to the next
     article with the same subject as the current.  ("Same" here might
     mean "roughly equal".  See `gnus-summary-gather-subject-limit' for
     details (*note Customizing Threading::).)  If there are no more
     articles with the same subject, go to the first unread article.

     This variable is not particularly useful if you use a threaded
     display.

`gnus-summary-check-current'
     If non-`nil', all the "unread" movement commands will not proceed
     to the next (or previous) article if the current article is unread.
     Instead, they will choose the current article.

`gnus-auto-center-summary'
     If non-`nil', Gnus will keep the point in the summary buffer
     centered at all times.  This makes things quite tidy, but if you
     have a slow network connection, or simply do not like this
     un-Emacsism, you can set this variable to `nil' to get the normal
     Emacs scrolling action.  This will also inhibit horizontal
     re-centering of the summary buffer, which might make it more
     inconvenient to read extremely long threads.

     This variable can also be a number.  In that case, center the
     window at the given number of lines from the top.

`gnus-summary-stop-at-end-of-message'
     If non-`nil', don't go to the next article when hitting `SPC', and
     you're at the end of the article.



File: gnus,  Node: Choosing Articles,  Next: Paging the Article,  Prev: Summary Maneuvering,  Up: Summary Buffer

3.3 Choosing Articles
=====================

* Menu:

* Choosing Commands::           Commands for choosing articles.
* Choosing Variables::          Variables that influence these commands.


File: gnus,  Node: Choosing Commands,  Next: Choosing Variables,  Up: Choosing Articles

3.3.1 Choosing Commands
-----------------------

None of the following movement commands understand the numeric prefix,
and they all select and display an article.

   If you want to fetch new articles or redisplay the group, see *note
Exiting the Summary Buffer::.

`SPACE'
     Select the current article, or, if that one's read already, the
     next unread article (`gnus-summary-next-page').

     If you have an article window open already and you press `SPACE'
     again, the article will be scrolled.  This lets you conveniently
     `SPACE' through an entire newsgroup.  *Note Paging the Article::.

`G n'
`n'
     Go to next unread article (`gnus-summary-next-unread-article').

`G p'
`p'
     Go to previous unread article (`gnus-summary-prev-unread-article').

`G N'
`N'
     Go to the next article (`gnus-summary-next-article').

`G P'
`P'
     Go to the previous article (`gnus-summary-prev-article').

`G C-n'
     Go to the next article with the same subject
     (`gnus-summary-next-same-subject').

`G C-p'
     Go to the previous article with the same subject
     (`gnus-summary-prev-same-subject').

`G f'
`.'
     Go to the first unread article
     (`gnus-summary-first-unread-article').

`G b'
`,'
     Go to the unread article with the highest score
     (`gnus-summary-best-unread-article').  If given a prefix argument,
     go to the first unread article that has a score over the default
     score.

`G l'
`l'
     Go to the previous article read (`gnus-summary-goto-last-article').

`G o'
     Pop an article off the summary history and go to this article
     (`gnus-summary-pop-article').  This command differs from the
     command above in that you can pop as many previous articles off the
     history as you like, while `l' toggles the two last read articles.
     For a somewhat related issue (if you use these commands a lot),
     *note Article Backlog::.

`G j'
`j'
     Ask for an article number or `Message-ID', and then go to that
     article (`gnus-summary-goto-article').



File: gnus,  Node: Choosing Variables,  Prev: Choosing Commands,  Up: Choosing Articles

3.3.2 Choosing Variables
------------------------

Some variables relevant for moving and selecting articles:

`gnus-auto-extend-newsgroup'
     All the movement commands will try to go to the previous (or next)
     article, even if that article isn't displayed in the Summary
     buffer if this variable is non-`nil'.  Gnus will then fetch the
     article from the server and display it in the article buffer.

`gnus-select-article-hook'
     This hook is called whenever an article is selected.  The default
     is `nil'.  If you would like each article to be saved in the Agent
     as you read it, putting `gnus-agent-fetch-selected-article' on this
     hook will do so.

`gnus-mark-article-hook'
     This hook is called whenever an article is selected.  It is
     intended to be used for marking articles as read.  The default
     value is `gnus-summary-mark-read-and-unread-as-read', and will
     change the mark of almost any article you read to
     `gnus-read-mark'.  The only articles not affected by this function
     are ticked, dormant, and expirable articles.  If you'd instead
     like to just have unread articles marked as read, you can use
     `gnus-summary-mark-unread-as-read' instead.  It will leave marks
     like `gnus-low-score-mark', `gnus-del-mark' (and so on) alone.



File: gnus,  Node: Paging the Article,  Next: Reply Followup and Post,  Prev: Choosing Articles,  Up: Summary Buffer

3.4 Scrolling the Article
=========================

`SPACE'
     Pressing `SPACE' will scroll the current article forward one page,
     or, if you have come to the end of the current article, will
     choose the next article (`gnus-summary-next-page').

     If `gnus-article-skip-boring' is non-`nil' and the rest of the
     article consists only of citations and signature, then it will be
     skipped; the next article will be shown instead.  You can customize
     what is considered uninteresting with `gnus-article-boring-faces'.
     You can manually view the article's pages, no matter how boring,
     using `C-M-v'.

`DEL'
     Scroll the current article back one page
     (`gnus-summary-prev-page').

`RET'
     Scroll the current article one line forward
     (`gnus-summary-scroll-up').

`M-RET'
     Scroll the current article one line backward
     (`gnus-summary-scroll-down').

`A g'
`g'
     (Re)fetch the current article (`gnus-summary-show-article').  If
     given a prefix, show a completely "raw" article, just the way it
     came from the server.  If given a prefix twice (i.e., `C-u C-u
     g''), fetch the current article, but don't run any of the article
     treatment functions.

     If given a numerical prefix, you can do semi-manual charset stuff.
     `C-u 0 g cn-gb-2312 RET' will decode the message as if it were
     encoded in the `cn-gb-2312' charset.  If you have

          (setq gnus-summary-show-article-charset-alist
                '((1 . cn-gb-2312)
                  (2 . big5)))

     then you can say `C-u 1 g' to get the same effect.

`A <'
`<'
     Scroll to the beginning of the article
     (`gnus-summary-beginning-of-article').

`A >'
`>'
     Scroll to the end of the article (`gnus-summary-end-of-article').

`A s'
`s'
     Perform an isearch in the article buffer
     (`gnus-summary-isearch-article').

`h'
     Select the article buffer (`gnus-summary-select-article-buffer').



File: gnus,  Node: Reply Followup and Post,  Next: Delayed Articles,  Prev: Paging the Article,  Up: Summary Buffer

3.5 Reply, Followup and Post
============================

* Menu:

* Summary Mail Commands::       Sending mail.
* Summary Post Commands::       Sending news.
* Summary Message Commands::    Other Message-related commands.
* Canceling and Superseding::


File: gnus,  Node: Summary Mail Commands,  Next: Summary Post Commands,  Up: Reply Followup and Post

3.5.1 Summary Mail Commands
---------------------------

Commands for composing a mail message:

`S r'
`r'
     Mail a reply to the author of the current article
     (`gnus-summary-reply').

`S R'
`R'
     Mail a reply to the author of the current article and include the
     original message (`gnus-summary-reply-with-original').  This
     command uses the process/prefix convention.

`S w'
     Mail a wide reply to the author of the current article
     (`gnus-summary-wide-reply').  A "wide reply" is a reply that goes
     out to all people listed in the `To', `From' (or `Reply-to') and
     `Cc' headers.  If `Mail-Followup-To' is present, that's used
     instead.

`S W'
     Mail a wide reply to the current article and include the original
     message (`gnus-summary-wide-reply-with-original').  This command
     uses the process/prefix convention, but only uses the headers from
     the first article to determine the recipients.

`S L'
     When replying to a message from a mailing list, send a reply to
     that message to the mailing list, and include the original message
     (`gnus-summary-reply-to-list-with-original').

`S v'
     Mail a very wide reply to the author of the current article
     (`gnus-summary-wide-reply').  A "very wide reply" is a reply that
     goes out to all people listed in the `To', `From' (or `Reply-to')
     and `Cc' headers in all the process/prefixed articles.  This
     command uses the process/prefix convention.

`S V'
     Mail a very wide reply to the author of the current article and
     include the original message
     (`gnus-summary-very-wide-reply-with-original').  This command uses
     the process/prefix convention.

`S B r'
     Mail a reply to the author of the current article but ignore the
     `Reply-To' field (`gnus-summary-reply-broken-reply-to').  If you
     need this because a mailing list incorrectly sets a `Reply-To'
     header pointing to the list, you probably want to set the
     `broken-reply-to' group parameter instead, so things will work
     correctly.  *Note Group Parameters::.

`S B R'
     Mail a reply to the author of the current article and include the
     original message but ignore the `Reply-To' field
     (`gnus-summary-reply-broken-reply-to-with-original').

`S o m'
`C-c C-f'
     Forward the current article to some other person
     (`gnus-summary-mail-forward').  If no prefix is given, the message
     is forwarded according to the value of (`message-forward-as-mime')
     and (`message-forward-show-mml'); if the prefix is 1, decode the
     message and forward directly inline; if the prefix is 2, forward
     message as an rfc822 MIME section; if the prefix is 3, decode
     message and forward as an rfc822 MIME section; if the prefix is 4,
     forward message directly inline; otherwise, the message is
     forwarded as no prefix given but use the flipped value of
     (`message-forward-as-mime').  By default, the message is decoded
     and forwarded as an rfc822 MIME section.

`S m'
`m'
     Prepare a mail (`gnus-summary-mail-other-window').  By default, use
     the posting style of the current group.  If given a prefix,
     disable that.  If the prefix is 1, prompt for a group name to find
     the posting style.

`S i'
     Prepare a news (`gnus-summary-news-other-window').  By default,
     post to the current group.  If given a prefix, disable that.  If
     the prefix is 1, prompt for a group to post to.

     This function actually prepares a news even when using mail groups.
     This is useful for "posting" messages to mail groups without
     actually sending them over the network: they're just saved
     directly to the group in question.  The corresponding back end
     must have a request-post method for this to work though.

`S D b'
     If you have sent a mail, but the mail was bounced back to you for
     some reason (wrong address, transient failure), you can use this
     command to resend that bounced mail
     (`gnus-summary-resend-bounced-mail').  You will be popped into a
     mail buffer where you can edit the headers before sending the mail
     off again.  If you give a prefix to this command, and the bounced
     mail is a reply to some other mail, Gnus will try to fetch that
     mail and display it for easy perusal of its headers.  This might
     very well fail, though.

`S D r'
     Not to be confused with the previous command,
     `gnus-summary-resend-message' will prompt you for an address to
     send the current message off to, and then send it to that place.
     The headers of the message won't be altered--but lots of headers
     that say `Resent-To', `Resent-From' and so on will be added.  This
     means that you actually send a mail to someone that has a `To'
     header that (probably) points to yourself.  This will confuse
     people.  So, natcherly you'll only do that if you're really eVIl.

     This command is mainly used if you have several accounts and want
     to ship a mail to a different account of yours.  (If you're both
     `root' and `postmaster' and get a mail for `postmaster' to the
     `root' account, you may want to resend it to `postmaster'.
     Ordnung muss sein!

     This command understands the process/prefix convention (*note
     Process/Prefix::).

`S D e'
     Like the previous command, but will allow you to edit the message
     as if it were a new message before resending.

`S O m'
     Digest the current series (*note Decoding Articles::) and forward
     the result using mail (`gnus-uu-digest-mail-forward').  This
     command uses the process/prefix convention (*note
     Process/Prefix::).

`S M-c'
     Send a complaint about excessive crossposting to the author of the
     current article (`gnus-summary-mail-crosspost-complaint').

     This command is provided as a way to fight back against the current
     crossposting pandemic that's sweeping Usenet.  It will compose a
     reply using the `gnus-crosspost-complaint' variable as a preamble.
     This command understands the process/prefix convention (*note
     Process/Prefix::) and will prompt you before sending each mail.


   Also *Note Header Commands: (message)Header Commands, for more
information.


File: gnus,  Node: Summary Post Commands,  Next: Summary Message Commands,  Prev: Summary Mail Commands,  Up: Reply Followup and Post

3.5.2 Summary Post Commands
---------------------------

Commands for posting a news article:

`S p'
`a'
     Prepare for posting an article (`gnus-summary-post-news').  By
     default, post to the current group.  If given a prefix, disable
     that.  If the prefix is 1, prompt for another group instead.

`S f'
`f'
     Post a followup to the current article (`gnus-summary-followup').

`S F'
`F'
     Post a followup to the current article and include the original
     message (`gnus-summary-followup-with-original').  This command
     uses the process/prefix convention.

`S n'
     Post a followup to the current article via news, even if you got
     the message through mail (`gnus-summary-followup-to-mail').

`S N'
     Post a followup to the current article via news, even if you got
     the message through mail and include the original message
     (`gnus-summary-followup-to-mail-with-original').  This command uses
     the process/prefix convention.

`S o p'
     Forward the current article to a newsgroup
     (`gnus-summary-post-forward').   If no prefix is given, the
     message is forwarded according to the value of
     (`message-forward-as-mime') and (`message-forward-show-mml'); if
     the prefix is 1, decode the message and forward directly inline;
     if the prefix is 2, forward message as an rfc822 MIME section; if
     the prefix is 3, decode message and forward as an rfc822 MIME
     section; if the prefix is 4, forward message directly inline;
     otherwise, the message is forwarded as no prefix given but use the
     flipped value of (`message-forward-as-mime').  By default, the
     message is decoded and forwarded as an rfc822 MIME section.

`S O p'
     Digest the current series and forward the result to a newsgroup
     (`gnus-uu-digest-post-forward').  This command uses the
     process/prefix convention.

`S u'
     Uuencode a file, split it into parts, and post it as a series
     (`gnus-uu-post-news').  (*note Uuencoding and Posting::).

   Also *Note Header Commands: (message)Header Commands, for more
information.


File: gnus,  Node: Summary Message Commands,  Next: Canceling and Superseding,  Prev: Summary Post Commands,  Up: Reply Followup and Post

3.5.3 Summary Message Commands
------------------------------

`S y'
     Yank the current article into an already existing Message
     composition buffer (`gnus-summary-yank-message').  This command
     prompts for what message buffer you want to yank into, and
     understands the process/prefix convention (*note Process/Prefix::).



File: gnus,  Node: Canceling and Superseding,  Prev: Summary Message Commands,  Up: Reply Followup and Post

3.5.4 Canceling Articles
------------------------

Have you ever written something, and then decided that you really,
really, really wish you hadn't posted that?

   Well, you can't cancel mail, but you can cancel posts.

   Find the article you wish to cancel (you can only cancel your own
articles, so don't try any funny stuff).  Then press `C' or `S c'
(`gnus-summary-cancel-article').  Your article will be
canceled--machines all over the world will be deleting your article.
This command uses the process/prefix convention (*note
Process/Prefix::).

   Be aware, however, that not all sites honor cancels, so your article
may live on here and there, while most sites will delete the article in
question.

   Gnus will use the "current" select method when canceling.  If you
want to use the standard posting method, use the `a' symbolic prefix
(*note Symbolic Prefixes::).

   Gnus ensures that only you can cancel your own messages using a
`Cancel-Lock' header (*note Canceling News: (message)Canceling News.).

   If you discover that you have made some mistakes and want to do some
corrections, you can post a "superseding" article that will replace
your original article.

   Go to the original article and press `S s'
(`gnus-summary-supersede-article').  You will be put in a buffer where
you can edit the article all you want before sending it off the usual
way.

   The same goes for superseding as for canceling, only more so: Some
sites do not honor superseding.  On those sites, it will appear that you
have posted almost the same article twice.

   If you have just posted the article, and change your mind right away,
there is a trick you can use to cancel/supersede the article without
waiting for the article to appear on your site first.  You simply return
to the post buffer (which is called `*sent ...*').  There you will find
the article you just posted, with all the headers intact.  Change the
`Message-ID' header to a `Cancel' or `Supersedes' header by
substituting one of those words for the word `Message-ID'.  Then just
press `C-c C-c' to send the article as you would do normally.  The
previous article will be canceled/superseded.

   Just remember, kids: There is no 'c' in 'supersede'.


File: gnus,  Node: Delayed Articles,  Next: Marking Articles,  Prev: Reply Followup and Post,  Up: Summary Buffer

3.6 Delayed Articles
====================

Sometimes, you might wish to delay the sending of a message.  For
example, you might wish to arrange for a message to turn up just in time
to remind your about the birthday of your Significant Other.  For this,
there is the `gnus-delay' package.  Setup is simple:

     (gnus-delay-initialize)

   Normally, to send a message you use the `C-c C-c' command from
Message mode.  To delay a message, use `C-c C-j' (`gnus-delay-article')
instead.  This will ask you for how long the message should be delayed.
Possible answers are:

   * A time span.  Consists of an integer and a letter.  For example,
     `42d' means to delay for 42 days.  Available letters are `m'
     (minutes), `h' (hours), `d' (days), `w' (weeks), `M' (months) and
     `Y' (years).

   * A specific date.  Looks like `YYYY-MM-DD'.  The message will be
     delayed until that day, at a specific time (eight o'clock by
     default).  See also `gnus-delay-default-hour'.

   * A specific time of day.  Given in `hh:mm' format, 24h, no am/pm
     stuff.  The deadline will be at that time today, except if that
     time has already passed, then it's at the given time tomorrow.  So
     if it's ten o'clock in the morning and you specify `11:15', then
     the deadline is one hour and fifteen minutes hence.  But if you
     specify `9:20', that means a time tomorrow.

   The action of the `gnus-delay-article' command is influenced by a
couple of variables:

`gnus-delay-default-hour'
     When you specify a specific date, the message will be due on that
     hour on the given date.  Possible values are integers 0 through 23.

`gnus-delay-default-delay'
     This is a string and gives the default delay.  It can be of any of
     the formats described above.

`gnus-delay-group'
     Delayed articles will be kept in this group on the drafts server
     until they are due.  You probably don't need to change this.  The
     default value is `"delayed"'.

`gnus-delay-header'
     The deadline for each article will be stored in a header.  This
     variable is a string and gives the header name.  You probably
     don't need to change this.  The default value is
     `"X-Gnus-Delayed"'.

   The way delaying works is like this: when you use the
`gnus-delay-article' command, you give a certain delay.  Gnus
calculates the deadline of the message and stores it in the
`X-Gnus-Delayed' header and puts the message in the `nndraft:delayed'
group.

   And whenever you get new news, Gnus looks through the group for
articles which are due and sends them.  It uses the
`gnus-delay-send-queue' function for this.  By default, this function
is added to the hook `gnus-get-new-news-hook'.  But of course, you can
change this.  Maybe you want to use the demon to send drafts?  Just
tell the demon to execute the `gnus-delay-send-queue' function.

`gnus-delay-initialize'
     By default, this function installs `gnus-delay-send-queue' in
     `gnus-get-new-news-hook'.  But it accepts the optional second
     argument `no-check'.  If it is non-`nil', `gnus-get-new-news-hook'
     is not changed.  The optional first argument is ignored.

     For example, `(gnus-delay-initialize nil t)' means to do nothing.
     Presumably, you want to use the demon for sending due delayed
     articles.  Just don't forget to set that up :-)

   When delaying an article with `C-c C-j', Message mode will
automatically add a `"Date"' header with the current time.  In many
cases you probably want the `"Date"' header to reflect the time the
message is sent instead.  To do this, you have to delete `Date' from
`message-draft-headers'.


File: gnus,  Node: Marking Articles,  Next: Limiting,  Prev: Delayed Articles,  Up: Summary Buffer

3.7 Marking Articles
====================

There are several marks you can set on an article.

   You have marks that decide the "readedness" (whoo, neato-keano
neologism ohoy!) of the article.  Alphabetic marks generally mean
"read", while non-alphabetic characters generally mean "unread".

   In addition, you also have marks that do not affect readedness.

   There's a plethora of commands for manipulating these marks.

* Menu:

* Unread Articles::             Marks for unread articles.
* Read Articles::               Marks for read articles.
* Other Marks::                 Marks that do not affect readedness.
* Setting Marks::               How to set and remove marks.
* Generic Marking Commands::    How to customize the marking.
* Setting Process Marks::       How to mark articles for later processing.


File: gnus,  Node: Unread Articles,  Next: Read Articles,  Up: Marking Articles

3.7.1 Unread Articles
---------------------

The following marks mark articles as (kinda) unread, in one form or
other.

`!'
     Marked as ticked (`gnus-ticked-mark').

     "Ticked articles" are articles that will remain visible always.  If
     you see an article that you find interesting, or you want to put
     off reading it, or replying to it, until sometime later, you'd
     typically tick it.  However, articles can be expired (from news
     servers by the news server software, Gnus itself never expires
     ticked messages), so if you want to keep an article forever,
     you'll have to make it persistent (*note Persistent Articles::).

`?'
     Marked as dormant (`gnus-dormant-mark').

     "Dormant articles" will only appear in the summary buffer if there
     are followups to it.  If you want to see them even if they don't
     have followups, you can use the `/ D' command (*note Limiting::).
     Otherwise (except for the visibility issue), they are just like
     ticked messages.

`SPACE'
     Marked as unread (`gnus-unread-mark').

     "Unread articles" are articles that haven't been read at all yet.


File: gnus,  Node: Read Articles,  Next: Other Marks,  Prev: Unread Articles,  Up: Marking Articles

3.7.2 Read Articles
-------------------

All the following marks mark articles as read.

`r'
     These are articles that the user has marked as read with the `d'
     command manually, more or less (`gnus-del-mark').

`R'
     Articles that have actually been read (`gnus-read-mark').

`O'
     Articles that were marked as read in previous sessions and are now
     "old" (`gnus-ancient-mark').

`K'
     Marked as killed (`gnus-killed-mark').

`X'
     Marked as killed by kill files (`gnus-kill-file-mark').

`Y'
     Marked as read by having too low a score (`gnus-low-score-mark').

`C'
     Marked as read by a catchup (`gnus-catchup-mark').

`G'
     Canceled article (`gnus-canceled-mark')

`Q'
     Sparsely reffed article (`gnus-sparse-mark').  *Note Customizing
     Threading::.

`M'
     Article marked as read by duplicate suppression
     (`gnus-duplicate-mark').  *Note Duplicate Suppression::.


   All these marks just mean that the article is marked as read, really.
They are interpreted differently when doing adaptive scoring, though.

   One more special mark, though:

`E'
     Marked as expirable (`gnus-expirable-mark').

     Marking articles as "expirable" (or have them marked as such
     automatically) doesn't make much sense in normal groups--a user
     doesn't control expiring of news articles, but in mail groups, for
     instance, articles marked as "expirable" can be deleted by Gnus at
     any time.


File: gnus,  Node: Other Marks,  Next: Setting Marks,  Prev: Read Articles,  Up: Marking Articles

3.7.3 Other Marks
-----------------

There are some marks that have nothing to do with whether the article is
read or not.

   * You can set a bookmark in the current article.  Say you are
     reading a long thesis on cats' urinary tracts, and have to go home
     for dinner before you've finished reading the thesis.  You can
     then set a bookmark in the article, and Gnus will jump to this
     bookmark the next time it encounters the article.  *Note Setting
     Marks::.

   * All articles that you have replied to or made a followup to (i.e.,
     have answered) will be marked with an `A' in the second column
     (`gnus-replied-mark').

   * All articles that you have forwarded will be marked with an `F' in
     the second column (`gnus-forwarded-mark').

   * Articles stored in the article cache will be marked with an `*' in
     the second column (`gnus-cached-mark').  *Note Article Caching::.

   * Articles "saved" (in some manner or other; not necessarily
     religiously) are marked with an `S' in the second column
     (`gnus-saved-mark').

   * Articles that haven't been seen before in Gnus by the user are
     marked with a `.' in the second column (`gnus-unseen-mark').

   * When using the Gnus agent (*note Agent Basics::), articles may be
     downloaded for unplugged (offline) viewing.  If you are using the
     `%O' spec, these articles get the `+' mark in that spec.  (The
     variable `gnus-downloaded-mark' controls which character to use.)

   * When using the Gnus agent (*note Agent Basics::), some articles
     might not have been downloaded.  Such articles cannot be viewed
     while you are unplugged (offline).  If you are using the `%O'
     spec, these articles get the `-' mark in that spec.  (The variable
     `gnus-undownloaded-mark' controls which character to use.)

   * The Gnus agent (*note Agent Basics::) downloads some articles
     automatically, but it is also possible to explicitly mark articles
     for download, even if they would not be downloaded automatically.
     Such explicitly-marked articles get the `%' mark in the first
     column.  (The variable `gnus-downloadable-mark' controls which
     character to use.)

   * If the `%e' spec is used, the presence of threads or not will be
     marked with `gnus-not-empty-thread-mark' and
     `gnus-empty-thread-mark' in the third column, respectively.

   * Finally we have the "process mark" (`gnus-process-mark').  A
     variety of commands react to the presence of the process mark.  For
     instance, `X u' (`gnus-uu-decode-uu') will uudecode and view all
     articles that have been marked with the process mark.  Articles
     marked with the process mark have a `#' in the second column.


   You might have noticed that most of these "non-readedness" marks
appear in the second column by default.  So if you have a cached, saved,
replied article that you have process-marked, what will that look like?

   Nothing much.  The precedence rules go as follows: process -> cache
-> replied -> saved.  So if the article is in the cache and is replied,
you'll only see the cache mark and not the replied mark.


File: gnus,  Node: Setting Marks,  Next: Generic Marking Commands,  Prev: Other Marks,  Up: Marking Articles

3.7.4 Setting Marks
-------------------

All the marking commands understand the numeric prefix.

`M c'
`M-u'
     Clear all readedness-marks from the current article
     (`gnus-summary-clear-mark-forward').  In other words, mark the
     article as unread.

`M t'
`!'
     Tick the current article (`gnus-summary-tick-article-forward').
     *Note Article Caching::.

`M ?'
`?'
     Mark the current article as dormant
     (`gnus-summary-mark-as-dormant').  *Note Article Caching::.

`M d'
`d'
     Mark the current article as read
     (`gnus-summary-mark-as-read-forward').

`D'
     Mark the current article as read and move point to the previous
     line (`gnus-summary-mark-as-read-backward').

`M k'
`k'
     Mark all articles that have the same subject as the current one as
     read, and then select the next unread article
     (`gnus-summary-kill-same-subject-and-select').

`M K'
`C-k'
     Mark all articles that have the same subject as the current one as
     read (`gnus-summary-kill-same-subject').

`M C'
     Mark all unread articles as read (`gnus-summary-catchup').

`M C-c'
     Mark all articles in the group as read--even the ticked and dormant
     articles (`gnus-summary-catchup-all').

`M H'
     Catchup the current group to point (before the point)
     (`gnus-summary-catchup-to-here').

`M h'
     Catchup the current group from point (after the point)
     (`gnus-summary-catchup-from-here').

`C-w'
     Mark all articles between point and mark as read
     (`gnus-summary-mark-region-as-read').

`M V k'
     Kill all articles with scores below the default score (or below the
     numeric prefix) (`gnus-summary-kill-below').

`M e'
`E'
     Mark the current article as expirable
     (`gnus-summary-mark-as-expirable').

`M b'
     Set a bookmark in the current article
     (`gnus-summary-set-bookmark').

`M B'
     Remove the bookmark from the current article
     (`gnus-summary-remove-bookmark').

`M V c'
     Clear all marks from articles with scores over the default score
     (or over the numeric prefix) (`gnus-summary-clear-above').

`M V u'
     Tick all articles with scores over the default score (or over the
     numeric prefix) (`gnus-summary-tick-above').

`M V m'
     Prompt for a mark, and mark all articles with scores over the
     default score (or over the numeric prefix) with this mark
     (`gnus-summary-clear-above').

   The `gnus-summary-goto-unread' variable controls what action should
be taken after setting a mark.  If non-`nil', point will move to the
next/previous unread article.  If `nil', point will just move one line
up or down.  As a special case, if this variable is `never', all the
marking commands as well as other commands (like `SPACE') will move to
the next article, whether it is unread or not.  The default is `t'.


File: gnus,  Node: Generic Marking Commands,  Next: Setting Process Marks,  Prev: Setting Marks,  Up: Marking Articles

3.7.5 Generic Marking Commands
------------------------------

Some people would like the command that ticks an article (`!') go to
the next article.  Others would like it to go to the next unread
article.  Yet others would like it to stay on the current article.  And
even though I haven't heard of anybody wanting it to go to the previous
(unread) article, I'm sure there are people that want that as well.

   Multiply these five behaviors with five different marking commands,
and you get a potentially complex set of variable to control what each
command should do.

   To sidestep that mess, Gnus provides commands that do all these
different things.  They can be found on the `M M' map in the summary
buffer.  Type `M M C-h' to see them all--there are too many of them to
list in this manual.

   While you can use these commands directly, most users would prefer
altering the summary mode keymap.  For instance, if you would like the
`!' command to go to the next article instead of the next unread
article, you could say something like:

     (add-hook 'gnus-summary-mode-hook 'my-alter-summary-map)
     (defun my-alter-summary-map ()
       (local-set-key "!" 'gnus-summary-put-mark-as-ticked-next))

or

     (defun my-alter-summary-map ()
       (local-set-key "!" "MM!n"))


File: gnus,  Node: Setting Process Marks,  Prev: Generic Marking Commands,  Up: Marking Articles

3.7.6 Setting Process Marks
---------------------------

Process marks are displayed as `#' in the summary buffer, and are used
for marking articles in such a way that other commands will process
these articles.  For instance, if you process mark four articles and
then use the `*' command, Gnus will enter these four articles into the
cache.  For more information, *note Process/Prefix::.

`M P p'
`#'
     Mark the current article with the process mark
     (`gnus-summary-mark-as-processable').  

`M P u'
`M-#'
     Remove the process mark, if any, from the current article
     (`gnus-summary-unmark-as-processable').

`M P U'
     Remove the process mark from all articles
     (`gnus-summary-unmark-all-processable').

`M P i'
     Invert the list of process marked articles
     (`gnus-uu-invert-processable').

`M P R'
     Mark articles that have a `Subject' header that matches a regular
     expression (`gnus-uu-mark-by-regexp').

`M P G'
     Unmark articles that have a `Subject' header that matches a regular
     expression (`gnus-uu-unmark-by-regexp').

`M P r'
     Mark articles in region (`gnus-uu-mark-region').

`M P g'
     Unmark articles in region (`gnus-uu-unmark-region').

`M P t'
     Mark all articles in the current (sub)thread
     (`gnus-uu-mark-thread').

`M P T'
     Unmark all articles in the current (sub)thread
     (`gnus-uu-unmark-thread').

`M P v'
     Mark all articles that have a score above the prefix argument
     (`gnus-uu-mark-over').

`M P s'
     Mark all articles in the current series (`gnus-uu-mark-series').

`M P S'
     Mark all series that have already had some articles marked
     (`gnus-uu-mark-sparse').

`M P a'
     Mark all articles in series order (`gnus-uu-mark-all').

`M P b'
     Mark all articles in the buffer in the order they appear
     (`gnus-uu-mark-buffer').

`M P k'
     Push the current process mark set onto the stack and unmark all
     articles (`gnus-summary-kill-process-mark').

`M P y'
     Pop the previous process mark set from the stack and restore it
     (`gnus-summary-yank-process-mark').

`M P w'
     Push the current process mark set onto the stack
     (`gnus-summary-save-process-mark').


   Also see the `&' command in *note Searching for Articles::, for how
to set process marks based on article body contents.


File: gnus,  Node: Limiting,  Next: Threading,  Prev: Marking Articles,  Up: Summary Buffer

3.8 Limiting
============

It can be convenient to limit the summary buffer to just show some
subset of the articles currently in the group.  The effect most limit
commands have is to remove a few (or many) articles from the summary
buffer.

   Limiting commands work on subsets of the articles already fetched
from the servers.  These commands don't query the server for additional
articles.

`/ /'
`/ s'
     Limit the summary buffer to articles that match some subject
     (`gnus-summary-limit-to-subject').  If given a prefix, exclude
     matching articles.

`/ a'
     Limit the summary buffer to articles that match some author
     (`gnus-summary-limit-to-author').  If given a prefix, exclude
     matching articles.

`/ R'
     Limit the summary buffer to articles that match some recipient
     (`gnus-summary-limit-to-recipient').  If given a prefix, exclude
     matching articles.

`/ A'
     Limit the summary buffer to articles in which contents of From, To
     or Cc header match a given address
     (`gnus-summary-limit-to-address').  If given a prefix, exclude
     matching articles.

`/ S'
     Limit the summary buffer to articles that aren't part of any
     displayed threads (`gnus-summary-limit-to-singletons').  If given
     a prefix, limit to articles that are part of displayed threads.

`/ x'
     Limit the summary buffer to articles that match one of the "extra"
     headers (*note To From Newsgroups::)
     (`gnus-summary-limit-to-extra').  If given a prefix, exclude
     matching articles.

`/ u'
`x'
     Limit the summary buffer to articles not marked as read
     (`gnus-summary-limit-to-unread').  If given a prefix, limit the
     buffer to articles strictly unread.  This means that ticked and
     dormant articles will also be excluded.

`/ m'
     Ask for a mark and then limit to all articles that have been marked
     with that mark (`gnus-summary-limit-to-marks').

`/ t'
     Ask for a number and then limit the summary buffer to articles
     older than (or equal to) that number of days
     (`gnus-summary-limit-to-age').  If given a prefix, limit to
     articles younger than that number of days.

`/ n'
     With prefix `n', limit the summary buffer to the next `n'
     articles.  If not given a prefix, use the process marked articles
     instead.  (`gnus-summary-limit-to-articles').

`/ w'
     Pop the previous limit off the stack and restore it
     (`gnus-summary-pop-limit').  If given a prefix, pop all limits off
     the stack.

`/ .'
     Limit the summary buffer to the unseen articles
     (`gnus-summary-limit-to-unseen').

`/ v'
     Limit the summary buffer to articles that have a score at or above
     some score (`gnus-summary-limit-to-score').

`/ p'
     Limit the summary buffer to articles that satisfy the `display'
     group parameter predicate
     (`gnus-summary-limit-to-display-predicate').  *Note Group
     Parameters::, for more on this predicate.

`/ r'
     Limit the summary buffer to replied articles
     (`gnus-summary-limit-to-replied').  If given a prefix, exclude
     replied articles.

`/ E'
`M S'
     Include all expunged articles in the limit
     (`gnus-summary-limit-include-expunged').

`/ D'
     Include all dormant articles in the limit
     (`gnus-summary-limit-include-dormant').

`/ *'
     Include all cached articles in the limit
     (`gnus-summary-limit-include-cached').

`/ d'
     Exclude all dormant articles from the limit
     (`gnus-summary-limit-exclude-dormant').

`/ M'
     Exclude all marked articles (`gnus-summary-limit-exclude-marks').

`/ T'
     Include all the articles in the current thread in the limit.

`/ c'
     Exclude all dormant articles that have no children from the limit
     (`gnus-summary-limit-exclude-childless-dormant').

`/ C'
     Mark all excluded unread articles as read
     (`gnus-summary-limit-mark-excluded-as-read').  If given a prefix,
     also mark excluded ticked and dormant articles as read.

`/ b'
     Limit the summary buffer to articles that have bodies that match a
     certain regexp (`gnus-summary-limit-to-bodies').  If given a
     prefix, reverse the limit.  This command is quite slow since it
     requires selecting each article to find the matches.

`/ h'
     Like the previous command, only limit to headers instead
     (`gnus-summary-limit-to-headers').


   The following commands aren't limiting commands, but use the `/'
prefix as well.

`/ N'
     Insert all new articles in the summary buffer.  It scans for new
     emails if BACK-END`-get-new-mail' is non-`nil'.

`/ o'
     Insert all old articles in the summary buffer.  If given a numbered
     prefix, fetch this number of articles.



File: gnus,  Node: Threading,  Next: Sorting the Summary Buffer,  Prev: Limiting,  Up: Summary Buffer

3.9 Threading
=============

Gnus threads articles by default.  "To thread" is to put responses to
articles directly after the articles they respond to--in a hierarchical
fashion.

   Threading is done by looking at the `References' headers of the
articles.  In a perfect world, this would be enough to build pretty
trees, but unfortunately, the `References' header is often broken or
simply missing.  Weird news propagation exacerbates the problem, so one
has to employ other heuristics to get pleasing results.  A plethora of
approaches exists, as detailed in horrible detail in *note Customizing
Threading::.

   First, a quick overview of the concepts:

"root"
     The top-most article in a thread; the first article in the thread.

"thread"
     A tree-like article structure.

"sub-thread"
     A small(er) section of this tree-like structure.

"loose threads"
     Threads often lose their roots due to article expiry, or due to
     the root already having been read in a previous session, and not
     displayed in the summary buffer.  We then typically have many
     sub-threads that really belong to one thread, but are without
     connecting roots.  These are called loose threads.

"thread gathering"
     An attempt to gather loose threads into bigger threads.

"sparse threads"
     A thread where the missing articles have been "guessed" at, and are
     displayed as empty lines in the summary buffer.


* Menu:

* Customizing Threading::       Variables you can change to affect the threading.
* Thread Commands::             Thread based commands in the summary buffer.


File: gnus,  Node: Customizing Threading,  Next: Thread Commands,  Up: Threading

3.9.1 Customizing Threading
---------------------------

* Menu:

* Loose Threads::               How Gnus gathers loose threads into bigger threads.
* Filling In Threads::          Making the threads displayed look fuller.
* More Threading::              Even more variables for fiddling with threads.
* Low-Level Threading::         You thought it was over... but you were wrong!


File: gnus,  Node: Loose Threads,  Next: Filling In Threads,  Up: Customizing Threading

3.9.1.1 Loose Threads
.....................

`gnus-summary-make-false-root'
     If non-`nil', Gnus will gather all loose subtrees into one big tree
     and create a dummy root at the top.  (Wait a minute.  Root at the
     top?  Yup.)  Loose subtrees occur when the real root has expired,
     or you've read or killed the root in a previous session.

     When there is no real root of a thread, Gnus will have to fudge
     something.  This variable says what fudging method Gnus should use.
     There are four possible values:

    `adopt'
          Gnus will make the first of the orphaned articles the parent.
          This parent will adopt all the other articles.  The adopted
          articles will be marked as such by pointy brackets (`<>')
          instead of the standard square brackets (`[]').  This is the
          default method.

    `dummy'
          Gnus will create a dummy summary line that will pretend to be
          the parent.  This dummy line does not correspond to any real
          article, so selecting it will just select the first real
          article after the dummy article.
          `gnus-summary-dummy-line-format' is used to specify the
          format of the dummy roots.  It accepts only one format spec:
          `S', which is the subject of the article.  *Note Formatting
          Variables::.  If you want all threads to have a dummy root,
          even the non-gathered ones, set
          `gnus-summary-make-false-root-always' to `t'.

    `empty'
          Gnus won't actually make any article the parent, but simply
          leave the subject field of all orphans except the first
          empty.  (Actually, it will use `gnus-summary-same-subject' as
          the subject (*note Summary Buffer Format::).)

    `none'
          Don't make any article parent at all.  Just gather the
          threads and display them after one another.

    `nil'
          Don't gather loose threads.

`gnus-summary-gather-subject-limit'
     Loose threads are gathered by comparing subjects of articles.  If
     this variable is `nil', Gnus requires an exact match between the
     subjects of the loose threads before gathering them into one big
     super-thread.  This might be too strict a requirement, what with
     the presence of stupid newsreaders that chop off long subject
     lines.  If you think so, set this variable to, say, 20 to require
     that only the first 20 characters of the subjects have to match.
     If you set this variable to a really low number, you'll find that
     Gnus will gather everything in sight into one thread, which isn't
     very helpful.

     If you set this variable to the special value `fuzzy', Gnus will
     use a fuzzy string comparison algorithm on the subjects (*note
     Fuzzy Matching::).

`gnus-simplify-subject-fuzzy-regexp'
     This can either be a regular expression or list of regular
     expressions that match strings that will be removed from subjects
     if fuzzy subject simplification is used.

`gnus-simplify-ignored-prefixes'
     If you set `gnus-summary-gather-subject-limit' to something as low
     as 10, you might consider setting this variable to something
     sensible:

          (setq gnus-simplify-ignored-prefixes
                (concat
                 "\\`\\[?\\("
                 (mapconcat
                  'identity
                  '("looking"
                    "wanted" "followup" "summary\\( of\\)?"
                    "help" "query" "problem" "question"
                    "answer" "reference" "announce"
                    "How can I" "How to" "Comparison of"
                    ;; ...
                    )
                  "\\|")
                 "\\)\\s *\\("
                 (mapconcat 'identity
                            '("for" "for reference" "with" "about")
                            "\\|")
                 "\\)?\\]?:?[ \t]*"))

     All words that match this regexp will be removed before comparing
     two subjects.

`gnus-simplify-subject-functions'
     If non-`nil', this variable overrides
     `gnus-summary-gather-subject-limit'.  This variable should be a
     list of functions to apply to the `Subject' string iteratively to
     arrive at the simplified version of the string.

     Useful functions to put in this list include:

    `gnus-simplify-subject-re'
          Strip the leading `Re:'.

    `gnus-simplify-subject-fuzzy'
          Simplify fuzzily.

    `gnus-simplify-whitespace'
          Remove excessive whitespace.

    `gnus-simplify-all-whitespace'
          Remove all whitespace.

     You may also write your own functions, of course.

`gnus-summary-gather-exclude-subject'
     Since loose thread gathering is done on subjects only, that might
     lead to many false hits, especially with certain common subjects
     like `' and `(none)'.  To make the situation slightly better, you
     can use the regexp `gnus-summary-gather-exclude-subject' to say
     what subjects should be excluded from the gathering process.
     The default is `^ *$\\|^(none)$'.

`gnus-summary-thread-gathering-function'
     Gnus gathers threads by looking at `Subject' headers.  This means
     that totally unrelated articles may end up in the same "thread",
     which is confusing.  An alternate approach is to look at all the
     `Message-ID's in all the `References' headers to find matches.
     This will ensure that no gathered threads ever include unrelated
     articles, but it also means that people who have posted with broken
     newsreaders won't be gathered properly.  The choice is
     yours--plague or cholera:

    `gnus-gather-threads-by-subject'
          This function is the default gathering function and looks at
          `Subject's exclusively.

    `gnus-gather-threads-by-references'
          This function looks at `References' headers exclusively.

     If you want to test gathering by `References', you could say
     something like:

          (setq gnus-summary-thread-gathering-function
                'gnus-gather-threads-by-references)



File: gnus,  Node: Filling In Threads,  Next: More Threading,  Prev: Loose Threads,  Up: Customizing Threading

3.9.1.2 Filling In Threads
..........................

`gnus-fetch-old-headers'
     If non-`nil', Gnus will attempt to build old threads by fetching
     more old headers--headers to articles marked as read.  If you would
     like to display as few summary lines as possible, but still
     connect as many loose threads as possible, you should set this
     variable to `some' or a number.  If you set it to a number, no
     more than that number of extra old headers will be fetched.  In
     either case, fetching old headers only works if the back end you
     are using carries overview files--this would normally be `nntp',
     `nnspool', `nnml', and `nnmaildir'.  Also remember that if the
     root of the thread has been expired by the server, there's not
     much Gnus can do about that.

     This variable can also be set to `invisible'.  This won't have any
     visible effects, but is useful if you use the `A T' command a lot
     (*note Finding the Parent::).

     The server has to support NOV for any of this to work.

     This feature can seriously impact performance it ignores all
     locally cached header entries.  Setting it to `t' for groups for a
     server that doesn't expire articles (such as news.gmane.org),
     leads to very slow summary generation.

`gnus-fetch-old-ephemeral-headers'
     Same as `gnus-fetch-old-headers', but only used for ephemeral
     newsgroups.

`gnus-build-sparse-threads'
     Fetching old headers can be slow.  A low-rent similar effect can be
     gotten by setting this variable to `some'.  Gnus will then look at
     the complete `References' headers of all articles and try to string
     together articles that belong in the same thread.  This will leave
     "gaps" in the threading display where Gnus guesses that an article
     is missing from the thread.  (These gaps appear like normal summary
     lines.  If you select a gap, Gnus will try to fetch the article in
     question.)  If this variable is `t', Gnus will display all these
     "gaps" without regard for whether they are useful for completing
     the thread or not.  Finally, if this variable is `more', Gnus
     won't cut off sparse leaf nodes that don't lead anywhere.  This
     variable is `nil' by default.

`gnus-read-all-available-headers'
     This is a rather obscure variable that few will find useful.  It's
     intended for those non-news newsgroups where the back end has to
     fetch quite a lot to present the summary buffer, and where it's
     impossible to go back to parents of articles.  This is mostly the
     case in the web-based groups.

     If you don't use those, then it's safe to leave this as the default
     `nil'.  If you want to use this variable, it should be a regexp
     that matches the group name, or `t' for all groups.



File: gnus,  Node: More Threading,  Next: Low-Level Threading,  Prev: Filling In Threads,  Up: Customizing Threading

3.9.1.3 More Threading
......................

`gnus-show-threads'
     If this variable is `nil', no threading will be done, and all of
     the rest of the variables here will have no effect.  Turning
     threading off will speed group selection up a bit, but it is sure
     to make reading slower and more awkward.

`gnus-thread-hide-subtree'
     If non-`nil', all threads will be hidden when the summary buffer is
     generated.

     This can also be a predicate specifier (*note Predicate
     Specifiers::).  Available predicates are `gnus-article-unread-p'
     and `gnus-article-unseen-p'.

     Here's an example:

          (setq gnus-thread-hide-subtree
                '(or gnus-article-unread-p
                     gnus-article-unseen-p))

     (It's a pretty nonsensical example, since all unseen articles are
     also unread, but you get my drift.)

`gnus-thread-expunge-below'
     All threads that have a total score (as defined by
     `gnus-thread-score-function') less than this number will be
     expunged.  This variable is `nil' by default, which means that no
     threads are expunged.

`gnus-thread-hide-killed'
     if you kill a thread and this variable is non-`nil', the subtree
     will be hidden.

`gnus-thread-ignore-subject'
     Sometimes somebody changes the subject in the middle of a thread.
     If this variable is non-`nil', which is the default, the subject
     change is ignored.  If it is `nil', a change in the subject will
     result in a new thread.

`gnus-thread-indent-level'
     This is a number that says how much each sub-thread should be
     indented.  The default is 4.

`gnus-sort-gathered-threads-function'
     Sometimes, particularly with mailing lists, the order in which
     mails arrive locally is not necessarily the same as the order in
     which they arrived on the mailing list.  Consequently, when
     sorting sub-threads using the default
     `gnus-thread-sort-by-number', responses can end up appearing
     before the article to which they are responding to.  Setting this
     variable to an alternate value (e.g. `gnus-thread-sort-by-date'),
     in a group's parameters or in an appropriate hook (e.g.
     `gnus-summary-generate-hook') can produce a more logical
     sub-thread ordering in such instances.



File: gnus,  Node: Low-Level Threading,  Prev: More Threading,  Up: Customizing Threading

3.9.1.4 Low-Level Threading
...........................

`gnus-parse-headers-hook'
     Hook run before parsing any headers.

`gnus-alter-header-function'
     If non-`nil', this function will be called to allow alteration of
     article header structures.  The function is called with one
     parameter, the article header vector, which it may alter in any
     way.  For instance, if you have a mail-to-news gateway which
     alters the `Message-ID's in systematic ways (by adding prefixes
     and such), you can use this variable to un-scramble the
     `Message-ID's so that they are more meaningful.  Here's one
     example:

          (setq gnus-alter-header-function 'my-alter-message-id)

          (defun my-alter-message-id (header)
            (let ((id (mail-header-id header)))
              (when (string-match
                     "\\(<[^<>@]*\\)\\.?cygnus\\..*@\\([^<>@]*>\\)" id)
                (mail-header-set-id
                 (concat (match-string 1 id) "@" (match-string 2 id))
                 header))))



File: gnus,  Node: Thread Commands,  Prev: Customizing Threading,  Up: Threading

3.9.2 Thread Commands
---------------------

`T k'
`C-M-k'
     Mark all articles in the current (sub-)thread as read
     (`gnus-summary-kill-thread').  If the prefix argument is positive,
     remove all marks instead.  If the prefix argument is negative, tick
     articles instead.

`T l'
`C-M-l'
     Lower the score of the current (sub-)thread
     (`gnus-summary-lower-thread').

`T i'
     Increase the score of the current (sub-)thread
     (`gnus-summary-raise-thread').

`T #'
     Set the process mark on the current (sub-)thread
     (`gnus-uu-mark-thread').

`T M-#'
     Remove the process mark from the current (sub-)thread
     (`gnus-uu-unmark-thread').

`T T'
     Toggle threading (`gnus-summary-toggle-threads').

`T s'
     Expose the (sub-)thread hidden under the current article, if any
     (`gnus-summary-show-thread').

`T h'
     Hide the current (sub-)thread (`gnus-summary-hide-thread').

`T S'
     Expose all hidden threads (`gnus-summary-show-all-threads').

`T H'
     Hide all threads (`gnus-summary-hide-all-threads').

`T t'
     Re-thread the current article's thread
     (`gnus-summary-rethread-current').  This works even when the
     summary buffer is otherwise unthreaded.

`T ^'
     Make the current article the child of the marked (or previous)
     article (`gnus-summary-reparent-thread').

`T M-^'
     Make the current article the parent of the marked articles
     (`gnus-summary-reparent-children').


   The following commands are thread movement commands.  They all
understand the numeric prefix.

`T n'
`C-M-f'
`M-down'
     Go to the next thread (`gnus-summary-next-thread').

`T p'
`C-M-b'
`M-up'
     Go to the previous thread (`gnus-summary-prev-thread').

`T d'
     Descend the thread (`gnus-summary-down-thread').

`T u'
     Ascend the thread (`gnus-summary-up-thread').

`T o'
     Go to the top of the thread (`gnus-summary-top-thread').

   If you ignore subject while threading, you'll naturally end up with
threads that have several different subjects in them.  If you then issue
a command like `T k' (`gnus-summary-kill-thread') you might not wish to
kill the entire thread, but just those parts of the thread that have
the same subject as the current article.  If you like this idea, you
can fiddle with `gnus-thread-operation-ignore-subject'.  If it is
non-`nil' (which it is by default), subjects will be ignored when doing
thread commands.  If this variable is `nil', articles in the same
thread with different subjects will not be included in the operation in
question.  If this variable is `fuzzy', only articles that have
subjects fuzzily equal will be included (*note Fuzzy Matching::).


File: gnus,  Node: Sorting the Summary Buffer,  Next: Asynchronous Fetching,  Prev: Threading,  Up: Summary Buffer

3.10 Sorting the Summary Buffer
===============================

If you are using a threaded summary display, you can sort the threads by
setting `gnus-thread-sort-functions', which can be either a single
function, a list of functions, or a list containing functions and `(not
some-function)' elements.

   By default, sorting is done on article numbers.  Ready-made sorting
predicate functions include `gnus-thread-sort-by-number',
`gnus-thread-sort-by-author', `gnus-thread-sort-by-recipient',
`gnus-thread-sort-by-subject', `gnus-thread-sort-by-date',
`gnus-thread-sort-by-score', `gnus-thread-sort-by-most-recent-number',
`gnus-thread-sort-by-most-recent-date', `gnus-thread-sort-by-random' and
`gnus-thread-sort-by-total-score'.

   Each function takes two threads and returns non-`nil' if the first
thread should be sorted before the other.  Note that sorting really is
normally done by looking only at the roots of each thread.  Exceptions
to this rule are `gnus-thread-sort-by-most-recent-number' and
`gnus-thread-sort-by-most-recent-date'.

   If you use more than one function, the primary sort key should be the
last function in the list.  You should probably always include
`gnus-thread-sort-by-number' in the list of sorting
functions--preferably first.  This will ensure that threads that are
equal with respect to the other sort criteria will be displayed in
ascending article order.

   If you would like to sort by reverse score, then by subject, and
finally by number, you could do something like:

     (setq gnus-thread-sort-functions
           '(gnus-thread-sort-by-number
             gnus-thread-sort-by-subject
             (not gnus-thread-sort-by-total-score)))

   The threads that have highest score will be displayed first in the
summary buffer.  When threads have the same score, they will be sorted
alphabetically.  The threads that have the same score and the same
subject will be sorted by number, which is (normally) the sequence in
which the articles arrived.

   If you want to sort by score and then reverse arrival order, you
could say something like:

     (setq gnus-thread-sort-functions
           '((not gnus-thread-sort-by-number)
             gnus-thread-sort-by-score))

   The function in the `gnus-thread-score-function' variable (default
`+') is used for calculating the total score of a thread.  Useful
functions might be `max', `min', or squared means, or whatever tickles
your fancy.

   If you are using an unthreaded display for some strange reason or
other, you have to fiddle with the `gnus-article-sort-functions'
variable.  It is very similar to the `gnus-thread-sort-functions',
except that it uses slightly different functions for article
comparison.  Available sorting predicate functions are
`gnus-article-sort-by-number', `gnus-article-sort-by-author',
`gnus-article-sort-by-subject', `gnus-article-sort-by-date',
`gnus-article-sort-by-random', and `gnus-article-sort-by-score'.

   If you want to sort an unthreaded summary display by subject, you
could say something like:

     (setq gnus-article-sort-functions
           '(gnus-article-sort-by-number
             gnus-article-sort-by-subject))

   You can define group specific sorting via `gnus-parameters', *Note
Group Parameters::.


File: gnus,  Node: Asynchronous Fetching,  Next: Article Caching,  Prev: Sorting the Summary Buffer,  Up: Summary Buffer

3.11 Asynchronous Article Fetching
==================================

If you read your news from an NNTP server that's far away, the network
latencies may make reading articles a chore.  You have to wait for a
while after pressing `n' to go to the next article before the article
appears.  Why can't Gnus just go ahead and fetch the article while you
are reading the previous one?  Why not, indeed.

   First, some caveats.  There are some pitfalls to using asynchronous
article fetching, especially the way Gnus does it.

   Let's say you are reading article 1, which is short, and article 2 is
quite long, and you are not interested in reading that.  Gnus does not
know this, so it goes ahead and fetches article 2.  You decide to read
article 3, but since Gnus is in the process of fetching article 2, the
connection is blocked.

   To avoid these situations, Gnus will open two (count 'em two)
connections to the server.  Some people may think this isn't a very nice
thing to do, but I don't see any real alternatives.  Setting up that
extra connection takes some time, so Gnus startup will be slower.

   Gnus will fetch more articles than you will read.  This will mean
that the link between your machine and the NNTP server will become more
loaded than if you didn't use article pre-fetch.  The server itself will
also become more loaded--both with the extra article requests, and the
extra connection.

   Ok, so now you know that you shouldn't really use this thing...
unless you really want to.

   Here's how:  Set `gnus-asynchronous' to `t'.  The rest should happen
automatically.

   You can control how many articles are to be pre-fetched by setting
`gnus-use-article-prefetch'.  This is 30 by default, which means that
when you read an article in the group, the back end will pre-fetch the
next 30 articles.  If this variable is `t', the back end will pre-fetch
all the articles it can without bound.  If it is `nil', no pre-fetching
will be done.

   There are probably some articles that you don't want to
pre-fetch--read articles, for instance.  The
`gnus-async-prefetch-article-p' variable controls whether an article is
to be pre-fetched.  This function should return non-`nil' when the
article in question is to be pre-fetched.  The default is
`gnus-async-unread-p', which returns `nil' on read articles.  The
function is called with an article data structure as the only parameter.

   If, for instance, you wish to pre-fetch only unread articles shorter
than 100 lines, you could say something like:

     (defun my-async-short-unread-p (data)
       "Return non-nil for short, unread articles."
       (and (gnus-data-unread-p data)
            (< (mail-header-lines (gnus-data-header data))
               100)))

     (setq gnus-async-prefetch-article-p 'my-async-short-unread-p)

   These functions will be called many, many times, so they should
preferably be short and sweet to avoid slowing down Gnus too much.
It's probably a good idea to byte-compile things like this.

   After an article has been prefetched, this
`gnus-async-post-fetch-function' will be called.  The buffer will be
narrowed to the region of the article that was fetched.  A useful value
would be `gnus-html-prefetch-images', which will prefetch and store
images referenced in the article, so that you don't have to wait for
them to be fetched when you read the article.  This is useful for HTML
messages that have external images.

   Articles have to be removed from the asynch buffer sooner or later.
The `gnus-prefetched-article-deletion-strategy' says when to remove
articles.  This is a list that may contain the following elements:

`read'
     Remove articles when they are read.

`exit'
     Remove articles when exiting the group.

   The default value is `(read exit)'.


File: gnus,  Node: Article Caching,  Next: Persistent Articles,  Prev: Asynchronous Fetching,  Up: Summary Buffer

3.12 Article Caching
====================

If you have an _extremely_ slow NNTP connection, you may consider
turning article caching on.  Each article will then be stored locally
under your home directory.  As you may surmise, this could potentially
use _huge_ amounts of disk space, as well as eat up all your inodes so
fast it will make your head swim.  In vodka.

   Used carefully, though, it could be just an easier way to save
articles.

   To turn caching on, set `gnus-use-cache' to `t'.  By default, all
articles ticked or marked as dormant will then be copied over to your
local cache (`gnus-cache-directory').  Whether this cache is flat or
hierarchical is controlled by the `gnus-use-long-file-name' variable,
as usual.

   When re-selecting a ticked or dormant article, it will be fetched
from the cache instead of from the server.  As articles in your cache
will never expire, this might serve as a method of saving articles
while still keeping them where they belong.  Just mark all articles you
want to save as dormant, and don't worry.

   When an article is marked as read, is it removed from the cache.

   The entering/removal of articles from the cache is controlled by the
`gnus-cache-enter-articles' and `gnus-cache-remove-articles' variables.
Both are lists of symbols.  The first is `(ticked dormant)' by default,
meaning that ticked and dormant articles will be put in the cache.  The
latter is `(read)' by default, meaning that articles marked as read are
removed from the cache.  Possibly symbols in these two lists are
`ticked', `dormant', `unread' and `read'.

   So where does the massive article-fetching and storing come into the
picture?  The `gnus-jog-cache' command will go through all subscribed
newsgroups, request all unread articles, score them, and store them in
the cache.  You should only ever, ever ever ever, use this command if
1) your connection to the NNTP server is really, really, really slow
and 2) you have a really, really, really huge disk.  Seriously.  One
way to cut down on the number of articles downloaded is to score
unwanted articles down and have them marked as read.  They will not
then be downloaded by this command.

   It is likely that you do not want caching on all groups.  For
instance, if your `nnml' mail is located under your home directory, it
makes no sense to cache it somewhere else under your home directory.
Unless you feel that it's neat to use twice as much space.

   To limit the caching, you could set `gnus-cacheable-groups' to a
regexp of groups to cache, `^nntp' for instance, or set the
`gnus-uncacheable-groups' regexp to `^nnml', for instance.  Both
variables are `nil' by default.  If a group matches both variables, the
group is not cached.

   The cache stores information on what articles it contains in its
active file (`gnus-cache-active-file').  If this file (or any other
parts of the cache) becomes all messed up for some reason or other, Gnus
offers two functions that will try to set things right.  `M-x
gnus-cache-generate-nov-databases' will (re)build all the NOV files,
and `gnus-cache-generate-active' will (re)generate the active file.

   `gnus-cache-move-cache' will move your whole `gnus-cache-directory'
to some other location.  You get asked to where, isn't that cool?


File: gnus,  Node: Persistent Articles,  Next: Sticky Articles,  Prev: Article Caching,  Up: Summary Buffer

3.13 Persistent Articles
========================

Closely related to article caching, we have "persistent articles".  In
fact, it's just a different way of looking at caching, and much more
useful in my opinion.

   Say you're reading a newsgroup, and you happen on to some valuable
gem that you want to keep and treasure forever.  You'd normally just
save it (using one of the many saving commands) in some file.  The
problem with that is that it's just, well, yucky.  Ideally you'd prefer
just having the article remain in the group where you found it forever;
untouched by the expiry going on at the news server.

   This is what a "persistent article" is--an article that just won't
be deleted.  It's implemented using the normal cache functions, but you
use two explicit commands for managing persistent articles:

`*'
     Make the current article persistent (`gnus-cache-enter-article').

`M-*'
     Remove the current article from the persistent articles
     (`gnus-cache-remove-article').  This will normally delete the
     article.

   Both these commands understand the process/prefix convention.

   To avoid having all ticked articles (and stuff) entered into the
cache, you should set `gnus-use-cache' to `passive' if you're just
interested in persistent articles:

     (setq gnus-use-cache 'passive)


File: gnus,  Node: Sticky Articles,  Next: Article Backlog,  Prev: Persistent Articles,  Up: Summary Buffer

3.14 Sticky Articles
====================

When you select an article the current article buffer will be reused
according to the value of the variable `gnus-single-article-buffer'.
If its value is non-`nil' (the default) all articles reuse the same
article buffer.  Else each group has its own article buffer.

   This implies that it's not possible to have more than one article
buffer in a group at a time.  But sometimes you might want to display
all the latest emails from your mother, your father, your aunt, your
uncle and your 17 cousins to coordinate the next Christmas party.

   That's where sticky articles come in handy.  A sticky article buffer
basically is a normal article buffer, but it won't be reused when you
select another article.  You can make an article sticky with:

`A S'
     Make the current article sticky.  If a prefix arg is given, ask
     for a name for this sticky article buffer.

   To close a sticky article buffer you can use these commands:

`q'
     Puts this sticky article buffer at the end of the list of all
     buffers.

`k'
     Kills this sticky article buffer.

   To kill all sticky article buffers you can use:

 -- Function: gnus-kill-sticky-article-buffers ARG
     Kill all sticky article buffers.  If a prefix ARG is given, ask
     for confirmation.


File: gnus,  Node: Article Backlog,  Next: Saving Articles,  Prev: Sticky Articles,  Up: Summary Buffer

3.15 Article Backlog
====================

If you have a slow connection, but the idea of using caching seems
unappealing to you (and it is, really), you can help the situation some
by switching on the "backlog".  This is where Gnus will buffer already
read articles so that it doesn't have to re-fetch articles you've
already read.  This only helps if you are in the habit of re-selecting
articles you've recently read, of course.  If you never do that,
turning the backlog on will slow Gnus down a little bit, and increase
memory usage some.

   If you set `gnus-keep-backlog' to a number N, Gnus will store at
most N old articles in a buffer for later re-fetching.  If this
variable is non-`nil' and is not a number, Gnus will store _all_ read
articles, which means that your Emacs will grow without bound before
exploding and taking your machine down with you.  I put that in there
just to keep y'all on your toes.

   The default value is 20.


File: gnus,  Node: Saving Articles,  Next: Decoding Articles,  Prev: Article Backlog,  Up: Summary Buffer

3.16 Saving Articles
====================

Gnus can save articles in a number of ways.  Below is the documentation
for saving articles in a fairly straight-forward fashion (i.e., little
processing of the article is done before it is saved).  For a different
approach (uudecoding, unsharing) you should use `gnus-uu' (*note
Decoding Articles::).

   For the commands listed here, the target is a file.  If you want to
save to a group, see the `B c' (`gnus-summary-copy-article') command
(*note Mail Group Commands::).

   If `gnus-save-all-headers' is non-`nil', Gnus will not delete
unwanted headers before saving the article.

   If the preceding variable is `nil', all headers that match the
`gnus-saved-headers' regexp will be kept, while the rest will be
deleted before saving.

`O o'
`o'
     Save the current article using the default article saver
     (`gnus-summary-save-article').

`O m'
     Save the current article in a Unix mail box (mbox) file
     (`gnus-summary-save-article-mail').

`O r'
     Save the current article in Rmail format
     (`gnus-summary-save-article-rmail').  This is mbox since Emacs 23,
     Babyl in older versions.

`O f'
     Save the current article in plain file format
     (`gnus-summary-save-article-file').

`O F'
     Write the current article in plain file format, overwriting any
     previous file contents (`gnus-summary-write-article-file').

`O b'
     Save the current article body in plain file format
     (`gnus-summary-save-article-body-file').

`O h'
     Save the current article in mh folder format
     (`gnus-summary-save-article-folder').

`O v'
     Save the current article in a VM folder
     (`gnus-summary-save-article-vm').

`O p'
`|'
     Save the current article in a pipe.  Uhm, like, what I mean
     is--Pipe the current article to a process
     (`gnus-summary-pipe-output').  If given a symbolic prefix (*note
     Symbolic Prefixes::), include the complete headers in the piped
     output.  The symbolic prefix `r' is special; it lets this command
     pipe a raw article including all headers.  The
     `gnus-summary-pipe-output-default-command' variable can be set to
     a string containing the default command and options (default
     `nil').

`O P'
     Save the current article into muttprint.  That is, print it using
     the external program Muttprint
     (http://muttprint.sourceforge.net/).  The program name and options
     to use is controlled by the variable
     `gnus-summary-muttprint-program'.  (`gnus-summary-muttprint').


   All these commands use the process/prefix convention (*note
Process/Prefix::).  If you save bunches of articles using these
functions, you might get tired of being prompted for files to save each
and every article in.  The prompting action is controlled by the
`gnus-prompt-before-saving' variable, which is `always' by default,
giving you that excessive prompting action you know and loathe.  If you
set this variable to `t' instead, you'll be prompted just once for each
series of articles you save.  If you like to really have Gnus do all
your thinking for you, you can even set this variable to `nil', which
means that you will never be prompted for files to save articles in.
Gnus will simply save all the articles in the default files.

   You can customize the `gnus-default-article-saver' variable to make
Gnus do what you want it to.  You can use any of the eight ready-made
functions below, or you can create your own.

`gnus-summary-save-in-rmail'
     This is the default format, that used by the Rmail package.  Since
     Emacs 23, Rmail uses standard mbox format.  Before this, it used
     the "Babyl" format.  Accordingly, this command writes mbox format
     since Emacs 23, unless appending to an existing Babyl file.  In
     older versions of Emacs, it always uses Babyl format.  Uses the
     function in the `gnus-rmail-save-name' variable to get a file name
     to save the article in.  The default is `gnus-plain-save-name'.

`gnus-summary-save-in-mail'
     Save in a Unix mail (mbox) file.  Uses the function in the
     `gnus-mail-save-name' variable to get a file name to save the
     article in.  The default is `gnus-plain-save-name'.

`gnus-summary-save-in-file'
     Append the article straight to an ordinary file.  Uses the
     function in the `gnus-file-save-name' variable to get a file name
     to save the article in.  The default is `gnus-numeric-save-name'.

`gnus-summary-write-to-file'
     Write the article straight to an ordinary file.  The file is
     overwritten if it exists.  Uses the function in the
     `gnus-file-save-name' variable to get a file name to save the
     article in.  The default is `gnus-numeric-save-name'.

`gnus-summary-save-body-in-file'
     Append the article body to an ordinary file.  Uses the function in
     the `gnus-file-save-name' variable to get a file name to save the
     article in.  The default is `gnus-numeric-save-name'.

`gnus-summary-write-body-to-file'
     Write the article body straight to an ordinary file.  The file is
     overwritten if it exists.  Uses the function in the
     `gnus-file-save-name' variable to get a file name to save the
     article in.  The default is `gnus-numeric-save-name'.

`gnus-summary-save-in-folder'
     Save the article to an MH folder using `rcvstore' from the MH
     library.  Uses the function in the `gnus-folder-save-name' variable
     to get a file name to save the article in.  The default is
     `gnus-folder-save-name', but you can also use
     `gnus-Folder-save-name', which creates capitalized names.

`gnus-summary-save-in-vm'
     Save the article in a VM folder.  You have to have the VM mail
     reader to use this setting.

`gnus-summary-save-in-pipe'
     Pipe the article to a shell command.  This function takes optional
     two arguments COMMAND and RAW.  Valid values for COMMAND include:

        * a string
          The executable command name and possibly arguments.

        * `nil'
          You will be prompted for the command in the minibuffer.

        * the symbol `default'
          It will be replaced with the command which the variable
          `gnus-summary-pipe-output-default-command' holds or the
          command last used for saving.

     Non-`nil' value for RAW overrides `:decode' and `:headers'
     properties (see below) and the raw article including all headers
     will be piped.

   The symbol of each function may have the following properties:

`:decode'
     The value non-`nil' means save decoded articles.  This is
     meaningful only with `gnus-summary-save-in-file',
     `gnus-summary-save-body-in-file', `gnus-summary-write-to-file',
     `gnus-summary-write-body-to-file', and `gnus-summary-save-in-pipe'.

`:function'
     The value specifies an alternative function which appends, not
     overwrites, articles to a file.  This implies that when saving many
     articles at a time, `gnus-prompt-before-saving' is bound to `t'
     and all articles are saved in a single file.  This is meaningful
     only with `gnus-summary-write-to-file' and
     `gnus-summary-write-body-to-file'.

`:headers'
     The value specifies the symbol of a variable of which the value
     specifies headers to be saved.  If it is omitted,
     `gnus-save-all-headers' and `gnus-saved-headers' control what
     headers should be saved.

   All of these functions, except for the last one, will save the
article in the `gnus-article-save-directory', which is initialized from
the `SAVEDIR' environment variable.  This is `~/News/' by default.

   As you can see above, the functions use different functions to find a
suitable name of a file to save the article in.  Below is a list of
available functions that generate names:

`gnus-Numeric-save-name'
     File names like `~/News/Alt.andrea-dworkin/45'.

`gnus-numeric-save-name'
     File names like `~/News/alt.andrea-dworkin/45'.

`gnus-Plain-save-name'
     File names like `~/News/Alt.andrea-dworkin'.

`gnus-plain-save-name'
     File names like `~/News/alt.andrea-dworkin'.

`gnus-sender-save-name'
     File names like `~/News/larsi'.

   You can have Gnus suggest where to save articles by plonking a
regexp into the `gnus-split-methods' alist.  For instance, if you would
like to save articles related to Gnus in the file `gnus-stuff', and
articles related to VM in `vm-stuff', you could set this variable to
something like:

     (("^Subject:.*gnus\\|^Newsgroups:.*gnus" "gnus-stuff")
      ("^Subject:.*vm\\|^Xref:.*vm" "vm-stuff")
      (my-choosing-function "../other-dir/my-stuff")
      ((equal gnus-newsgroup-name "mail.misc") "mail-stuff"))

   We see that this is a list where each element is a list that has two
elements--the "match" and the "file".  The match can either be a string
(in which case it is used as a regexp to match on the article head); it
can be a symbol (which will be called as a function with the group name
as a parameter); or it can be a list (which will be `eval'ed).  If any
of these actions have a non-`nil' result, the "file" will be used as a
default prompt.  In addition, the result of the operation itself will
be used if the function or form called returns a string or a list of
strings.

   You basically end up with a list of file names that might be used
when saving the current article.  (All "matches" will be used.)  You
will then be prompted for what you really want to use as a name, with
file name completion over the results from applying this variable.

   This variable is `((gnus-article-archive-name))' by default, which
means that Gnus will look at the articles it saves for an
`Archive-name' line and use that as a suggestion for the file name.

   Here's an example function to clean up file names somewhat.  If you
have lots of mail groups called things like `nnml:mail.whatever', you
may want to chop off the beginning of these group names before creating
the file name to save to.  The following will do just that:

     (defun my-save-name (group)
       (when (string-match "^nnml:mail." group)
         (substring group (match-end 0))))

     (setq gnus-split-methods
           '((gnus-article-archive-name)
             (my-save-name)))

   Finally, you have the `gnus-use-long-file-name' variable.  If it is
`nil', all the preceding functions will replace all periods (`.') in
the group names with slashes (`/')--which means that the functions will
generate hierarchies of directories instead of having all the files in
the top level directory (`~/News/alt/andrea-dworkin' instead of
`~/News/alt.andrea-dworkin'.)  This variable is `t' by default on most
systems.  However, for historical reasons, this is `nil' on Xenix and
usg-unix-v machines by default.

   This function also affects kill and score file names.  If this
variable is a list, and the list contains the element `not-score', long
file names will not be used for score files, if it contains the element
`not-save', long file names will not be used for saving, and if it
contains the element `not-kill', long file names will not be used for
kill files.

   If you'd like to save articles in a hierarchy that looks something
like a spool, you could

     (setq gnus-use-long-file-name '(not-save)) ; to get a hierarchy
     (setq gnus-default-article-saver
           'gnus-summary-save-in-file)          ; no encoding

   Then just save with `o'.  You'd then read this hierarchy with
ephemeral `nneething' groups--`G D' in the group buffer, and the top
level directory as the argument (`~/News/').  Then just walk around to
the groups/directories with `nneething'.


File: gnus,  Node: Decoding Articles,  Next: Article Treatment,  Prev: Saving Articles,  Up: Summary Buffer

3.17 Decoding Articles
======================

Sometime users post articles (or series of articles) that have been
encoded in some way or other.  Gnus can decode them for you.

* Menu:

* Uuencoded Articles::          Uudecode articles.
* Shell Archives::              Unshar articles.
* PostScript Files::            Split PostScript.
* Other Files::                 Plain save and binhex.
* Decoding Variables::          Variables for a happy decoding.
* Viewing Files::               You want to look at the result of the decoding?

   All these functions use the process/prefix convention (*note
Process/Prefix::) for finding out what articles to work on, with the
extension that a "single article" means "a single series".  Gnus can
find out by itself what articles belong to a series, decode all the
articles and unpack/view/save the resulting file(s).

   Gnus guesses what articles are in the series according to the
following simplish rule: The subjects must be (nearly) identical,
except for the last two numbers of the line.  (Spaces are largely
ignored, however.)

   For example: If you choose a subject called `cat.gif (2/3)', Gnus
will find all the articles that match the regexp `^cat.gif
([0-9]+/[0-9]+).*$'.

   Subjects that are non-standard, like `cat.gif (2/3) Part 6 of a
series', will not be properly recognized by any of the automatic viewing
commands, and you have to mark the articles manually with `#'.


File: gnus,  Node: Uuencoded Articles,  Next: Shell Archives,  Up: Decoding Articles

3.17.1 Uuencoded Articles
-------------------------

`X u'
     Uudecodes the current series (`gnus-uu-decode-uu').

`X U'
     Uudecodes and saves the current series
     (`gnus-uu-decode-uu-and-save').

`X v u'
     Uudecodes and views the current series (`gnus-uu-decode-uu-view').

`X v U'
     Uudecodes, views and saves the current series
     (`gnus-uu-decode-uu-and-save-view').


   Remember that these all react to the presence of articles marked with
the process mark.  If, for instance, you'd like to decode and save an
entire newsgroup, you'd typically do `M P a' (`gnus-uu-mark-all') and
then `X U' (`gnus-uu-decode-uu-and-save').

   All this is very much different from how `gnus-uu' worked with GNUS
4.1, where you had explicit keystrokes for everything under the sun.
This version of `gnus-uu' generally assumes that you mark articles in
some way (*note Setting Process Marks::) and then press `X u'.

   Note: When trying to decode articles that have names matching
`gnus-uu-notify-files', which is hard-coded to
`[Cc][Ii][Nn][Dd][Yy][0-9]+.\\(gif\\|jpg\\)', `gnus-uu' will
automatically post an article on `comp.unix.wizards' saying that you
have just viewed the file in question.  This feature can't be turned
off.


File: gnus,  Node: Shell Archives,  Next: PostScript Files,  Prev: Uuencoded Articles,  Up: Decoding Articles

3.17.2 Shell Archives
---------------------

Shell archives ("shar files") used to be a popular way to distribute
sources, but it isn't used all that much today.  In any case, we have
some commands to deal with these:

`X s'
     Unshars the current series (`gnus-uu-decode-unshar').

`X S'
     Unshars and saves the current series
     (`gnus-uu-decode-unshar-and-save').

`X v s'
     Unshars and views the current series
     (`gnus-uu-decode-unshar-view').

`X v S'
     Unshars, views and saves the current series
     (`gnus-uu-decode-unshar-and-save-view').


File: gnus,  Node: PostScript Files,  Next: Other Files,  Prev: Shell Archives,  Up: Decoding Articles

3.17.3 PostScript Files
-----------------------

`X p'
     Unpack the current PostScript series (`gnus-uu-decode-postscript').

`X P'
     Unpack and save the current PostScript series
     (`gnus-uu-decode-postscript-and-save').

`X v p'
     View the current PostScript series
     (`gnus-uu-decode-postscript-view').

`X v P'
     View and save the current PostScript series
     (`gnus-uu-decode-postscript-and-save-view').


File: gnus,  Node: Other Files,  Next: Decoding Variables,  Prev: PostScript Files,  Up: Decoding Articles

3.17.4 Other Files
------------------

`X o'
     Save the current series (`gnus-uu-decode-save').

`X b'
     Unbinhex the current series (`gnus-uu-decode-binhex').  This
     doesn't really work yet.

`X Y'
     yEnc-decode the current series and save it (`gnus-uu-decode-yenc').


File: gnus,  Node: Decoding Variables,  Next: Viewing Files,  Prev: Other Files,  Up: Decoding Articles

3.17.5 Decoding Variables
-------------------------

Adjective, not verb.

* Menu:

* Rule Variables::              Variables that say how a file is to be viewed.
* Other Decode Variables::      Other decode variables.
* Uuencoding and Posting::      Variables for customizing uuencoding.


File: gnus,  Node: Rule Variables,  Next: Other Decode Variables,  Up: Decoding Variables

3.17.5.1 Rule Variables
.......................

Gnus uses "rule variables" to decide how to view a file.  All these
variables are of the form

           (list '(regexp1 command2)
                 '(regexp2 command2)
                 ...)

`gnus-uu-user-view-rules'
     This variable is consulted first when viewing files.  If you wish
     to use, for instance, `sox' to convert an `.au' sound file, you
     could say something like:
          (setq gnus-uu-user-view-rules
                (list '("\\\\.au$" "sox %s -t .aiff > /dev/audio")))

`gnus-uu-user-view-rules-end'
     This variable is consulted if Gnus couldn't make any matches from
     the user and default view rules.

`gnus-uu-user-archive-rules'
     This variable can be used to say what commands should be used to
     unpack archives.


File: gnus,  Node: Other Decode Variables,  Next: Uuencoding and Posting,  Prev: Rule Variables,  Up: Decoding Variables

3.17.5.2 Other Decode Variables
...............................

`gnus-uu-grabbed-file-functions'
     All functions in this list will be called right after each file
     has been successfully decoded--so that you can move or view files
     right away, and don't have to wait for all files to be decoded
     before you can do anything.  Ready-made functions you can put in
     this list are:

    `gnus-uu-grab-view'
          View the file.

    `gnus-uu-grab-move'
          Move the file (if you're using a saving function.)

`gnus-uu-be-dangerous'
     Specifies what to do if unusual situations arise during decoding.
     If `nil', be as conservative as possible.  If `t', ignore things
     that didn't work, and overwrite existing files.  Otherwise, ask
     each time.

`gnus-uu-ignore-files-by-name'
     Files with name matching this regular expression won't be viewed.

`gnus-uu-ignore-files-by-type'
     Files with a MIME type matching this variable won't be viewed.
     Note that Gnus tries to guess what type the file is based on the
     name.  `gnus-uu' is not a MIME package (yet), so this is slightly
     kludgy.

`gnus-uu-tmp-dir'
     Where `gnus-uu' does its work.

`gnus-uu-do-not-unpack-archives'
     Non-`nil' means that `gnus-uu' won't peek inside archives looking
     for files to display.

`gnus-uu-view-and-save'
     Non-`nil' means that the user will always be asked to save a file
     after viewing it.

`gnus-uu-ignore-default-view-rules'
     Non-`nil' means that `gnus-uu' will ignore the default viewing
     rules.

`gnus-uu-ignore-default-archive-rules'
     Non-`nil' means that `gnus-uu' will ignore the default archive
     unpacking commands.

`gnus-uu-kill-carriage-return'
     Non-`nil' means that `gnus-uu' will strip all carriage returns
     from articles.

`gnus-uu-unmark-articles-not-decoded'
     Non-`nil' means that `gnus-uu' will mark unsuccessfully decoded
     articles as unread.

`gnus-uu-correct-stripped-uucode'
     Non-`nil' means that `gnus-uu' will _try_ to fix uuencoded files
     that have had trailing spaces deleted.

`gnus-uu-pre-uudecode-hook'
     Hook run before sending a message to `uudecode'.

`gnus-uu-view-with-metamail'
     Non-`nil' means that `gnus-uu' will ignore the viewing commands
     defined by the rule variables and just fudge a MIME content type
     based on the file name.  The result will be fed to `metamail' for
     viewing.

`gnus-uu-save-in-digest'
     Non-`nil' means that `gnus-uu', when asked to save without
     decoding, will save in digests.  If this variable is `nil',
     `gnus-uu' will just save everything in a file without any
     embellishments.  The digesting almost conforms to RFC 1153--no
     easy way to specify any meaningful volume and issue numbers were
     found, so I simply dropped them.



File: gnus,  Node: Uuencoding and Posting,  Prev: Other Decode Variables,  Up: Decoding Variables

3.17.5.3 Uuencoding and Posting
...............................

`gnus-uu-post-include-before-composing'
     Non-`nil' means that `gnus-uu' will ask for a file to encode
     before you compose the article.  If this variable is `t', you can
     either include an encoded file with `C-c C-i' or have one included
     for you when you post the article.

`gnus-uu-post-length'
     Maximum length of an article.  The encoded file will be split into
     how many articles it takes to post the entire file.

`gnus-uu-post-threaded'
     Non-`nil' means that `gnus-uu' will post the encoded file in a
     thread.  This may not be smart, as no other decoder I have seen is
     able to follow threads when collecting uuencoded articles.  (Well,
     I have seen one package that does that--`gnus-uu', but somehow, I
     don't think that counts...) Default is `nil'.

`gnus-uu-post-separate-description'
     Non-`nil' means that the description will be posted in a separate
     article.  The first article will typically be numbered (0/x).  If
     this variable is `nil', the description the user enters will be
     included at the beginning of the first article, which will be
     numbered (1/x).  Default is `t'.



File: gnus,  Node: Viewing Files,  Prev: Decoding Variables,  Up: Decoding Articles

3.17.6 Viewing Files
--------------------

After decoding, if the file is some sort of archive, Gnus will attempt
to unpack the archive and see if any of the files in the archive can be
viewed.  For instance, if you have a gzipped tar file `pics.tar.gz'
containing the files `pic1.jpg' and `pic2.gif', Gnus will uncompress
and de-tar the main file, and then view the two pictures.  This
unpacking process is recursive, so if the archive contains archives of
archives, it'll all be unpacked.

   Finally, Gnus will normally insert a "pseudo-article" for each
extracted file into the summary buffer.  If you go to these "articles",
you will be prompted for a command to run (usually Gnus will make a
suggestion), and then the command will be run.

   If `gnus-view-pseudo-asynchronously' is `nil', Emacs will wait until
the viewing is done before proceeding.

   If `gnus-view-pseudos' is `automatic', Gnus will not insert the
pseudo-articles into the summary buffer, but view them immediately.  If
this variable is `not-confirm', the user won't even be asked for a
confirmation before viewing is done.

   If `gnus-view-pseudos-separately' is non-`nil', one pseudo-article
will be created for each file to be viewed.  If `nil', all files that
use the same viewing command will be given as a list of parameters to
that command.

   If `gnus-insert-pseudo-articles' is non-`nil', insert
pseudo-articles when decoding.  It is `t' by default.

   So; there you are, reading your _pseudo-articles_ in your _virtual
newsgroup_ from the _virtual server_; and you think: Why isn't anything
real anymore? How did we get here?


File: gnus,  Node: Article Treatment,  Next: MIME Commands,  Prev: Decoding Articles,  Up: Summary Buffer

3.18 Article Treatment
======================

Reading through this huge manual, you may have quite forgotten that the
object of newsreaders is to actually, like, read what people have
written.  Reading articles.  Unfortunately, people are quite bad at
writing, so there are tons of functions and variables to make reading
these articles easier.

* Menu:

* Article Highlighting::        You want to make the article look like fruit salad.
* Article Fontisizing::         Making emphasized text look nice.
* Article Hiding::              You also want to make certain info go away.
* Article Washing::             Lots of way-neat functions to make life better.
* Article Header::              Doing various header transformations.
* Article Buttons::             Click on URLs, Message-IDs, addresses and the like.
* Article Button Levels::       Controlling appearance of buttons.
* Article Date::                Grumble, UT!
* Article Display::             Display various stuff:
                                X-Face, Picons, Gravatars, Smileys.
* Article Signature::           What is a signature?
* Article Miscellanea::         Various other stuff.


File: gnus,  Node: Article Highlighting,  Next: Article Fontisizing,  Up: Article Treatment

3.18.1 Article Highlighting
---------------------------

Not only do you want your article buffer to look like fruit salad, but
you want it to look like technicolor fruit salad.

`W H a'
     Do much highlighting of the current article
     (`gnus-article-highlight').  This function highlights header, cited
     text, the signature, and adds buttons to the body and the head.

`W H h'
     Highlight the headers (`gnus-article-highlight-headers').  The
     highlighting will be done according to the `gnus-header-face-alist'
     variable, which is a list where each element has the form `(REGEXP
     NAME CONTENT)'.  REGEXP is a regular expression for matching the
     header, NAME is the face used for highlighting the header name
     (*note Faces and Fonts::) and CONTENT is the face for highlighting
     the header value.  The first match made will be used.  Note that
     REGEXP shouldn't have `^' prepended--Gnus will add one.

`W H c'
     Highlight cited text (`gnus-article-highlight-citation').

     Some variables to customize the citation highlights:

    `gnus-cite-parse-max-size'
          If the article size in bytes is bigger than this variable
          (which is 25000 by default), no citation highlighting will be
          performed.

    `gnus-cite-max-prefix'
          Maximum possible length for a citation prefix (default 20).

    `gnus-cite-face-list'
          List of faces used for highlighting citations (*note Faces
          and Fonts::).  When there are citations from multiple
          articles in the same message, Gnus will try to give each
          citation from each article its own face.  This should make it
          easier to see who wrote what.

    `gnus-supercite-regexp'
          Regexp matching normal Supercite attribution lines.

    `gnus-supercite-secondary-regexp'
          Regexp matching mangled Supercite attribution lines.

    `gnus-cite-minimum-match-count'
          Minimum number of identical prefixes we have to see before we
          believe that it's a citation.

    `gnus-cite-attribution-prefix'
          Regexp matching the beginning of an attribution line.

    `gnus-cite-attribution-suffix'
          Regexp matching the end of an attribution line.

    `gnus-cite-attribution-face'
          Face used for attribution lines.  It is merged with the face
          for the cited text belonging to the attribution.

    `gnus-cite-ignore-quoted-from'
          If non-`nil', no citation highlighting will be performed on
          lines beginning with `>From '.  Those lines may have been
          quoted by MTAs in order not to mix up with the envelope From
          line.  The default value is `t'.


`W H s'
     Highlight the signature (`gnus-article-highlight-signature').
     Everything after `gnus-signature-separator' (*note Article
     Signature::) in an article will be considered a signature and will
     be highlighted with `gnus-signature-face', which is `italic' by
     default.


   *Note Customizing Articles::, for how to highlight articles
automatically.


File: gnus,  Node: Article Fontisizing,  Next: Article Hiding,  Prev: Article Highlighting,  Up: Article Treatment

3.18.2 Article Fontisizing
--------------------------

People commonly add emphasis to words in news articles by writing things
like `_this_' or `*this*' or `/this/'.  Gnus can make this look nicer
by running the article through the `W e' (`gnus-article-emphasize')
command.

   How the emphasis is computed is controlled by the
`gnus-emphasis-alist' variable.  This is an alist where the first
element is a regular expression to be matched.  The second is a number
that says what regular expression grouping is used to find the entire
emphasized word.  The third is a number that says what regexp grouping
should be displayed and highlighted.  (The text between these two
groupings will be hidden.)  The fourth is the face used for
highlighting.

     (setq gnus-emphasis-alist
           '(("_\\(\\w+\\)_" 0 1 gnus-emphasis-underline)
             ("\\*\\(\\w+\\)\\*" 0 1 gnus-emphasis-bold)))

   By default, there are seven rules, and they use the following faces:
`gnus-emphasis-bold', `gnus-emphasis-italic',
`gnus-emphasis-underline', `gnus-emphasis-bold-italic',
`gnus-emphasis-underline-italic', `gnus-emphasis-underline-bold', and
`gnus-emphasis-underline-bold-italic'.

   If you want to change these faces, you can either use `M-x
customize', or you can use `copy-face'.  For instance, if you want to
make `gnus-emphasis-italic' use a red face instead, you could say
something like:

     (copy-face 'red 'gnus-emphasis-italic)

   If you want to highlight arbitrary words, you can use the
`gnus-group-highlight-words-alist' variable, which uses the same syntax
as `gnus-emphasis-alist'.  The `highlight-words' group parameter (*note
Group Parameters::) can also be used.

   *Note Customizing Articles::, for how to fontize articles
automatically.


File: gnus,  Node: Article Hiding,  Next: Article Washing,  Prev: Article Fontisizing,  Up: Article Treatment

3.18.3 Article Hiding
---------------------

Or rather, hiding certain things in each article.  There usually is much
too much cruft in most articles.

`W W a'
     Do quite a lot of hiding on the article buffer
     (`gnus-article-hide').  In particular, this function will hide
     headers, PGP, cited text and the signature.

`W W h'
     Hide headers (`gnus-article-hide-headers').  *Note Hiding
     Headers::.

`W W b'
     Hide headers that aren't particularly interesting
     (`gnus-article-hide-boring-headers').  *Note Hiding Headers::.

`W W s'
     Hide signature (`gnus-article-hide-signature').  *Note Article
     Signature::.

`W W l'
     Strip list identifiers specified in `gnus-list-identifiers'.  These
     are strings some mailing list servers add to the beginning of all
     `Subject' headers--for example, `[zebra 4711]'.  Any leading `Re:
     ' is skipped before stripping.  `gnus-list-identifiers' may not
     contain `\\(..\\)'.

    `gnus-list-identifiers'
          A regular expression that matches list identifiers to be
          removed from subject.  This can also be a list of regular
          expressions.


`W W P'
     Hide PEM (privacy enhanced messages) cruft
     (`gnus-article-hide-pem').

`W W B'
     Strip the banner specified by the `banner' group parameter
     (`gnus-article-strip-banner').  This is mainly used to hide those
     annoying banners and/or signatures that some mailing lists and
     moderated groups adds to all the messages.  The way to use this
     function is to add the `banner' group parameter (*note Group
     Parameters::) to the group you want banners stripped from.  The
     parameter either be a string, which will be interpreted as a
     regular expression matching text to be removed, or the symbol
     `signature', meaning that the (last) signature should be removed,
     or other symbol, meaning that the corresponding regular expression
     in `gnus-article-banner-alist' is used.

     For instance:

          (setq gnus-article-banner-alist
                ((googleGroups .
                 "^\n*--~--~---------\\(.+\n\\)+")))

     Regardless of a group, you can hide things like advertisements
     only when the sender of an article has a certain mail address
     specified in `gnus-article-address-banner-alist'.

    `gnus-article-address-banner-alist'
          Alist of mail addresses and banners.  Each element has the
          form `(ADDRESS . BANNER)', where ADDRESS is a regexp matching
          a mail address in the From header, BANNER is one of a symbol
          `signature', an item in `gnus-article-banner-alist', a regexp
          and `nil'.  If ADDRESS matches author's mail address, it will
          remove things like advertisements.  For example, if a sender
          has the mail address `hail@yoo-hoo.co.jp' and there is a
          banner something like `Do You Yoo-hoo!?' in all articles he
          sends, you can use the following element to remove them:

               ("@yoo-hoo\\.co\\.jp\\'" .
                "\n_+\nDo You Yoo-hoo!\\?\n.*\n.*\n")


`W W c'
     Hide citation (`gnus-article-hide-citation').  Some variables for
     customizing the hiding:

    `gnus-cited-opened-text-button-line-format'
    `gnus-cited-closed-text-button-line-format'
          Gnus adds buttons to show where the cited text has been
          hidden, and to allow toggle hiding the text.  The format of
          the variable is specified by these format-like variable
          (*note Formatting Variables::).  These specs are valid:

         `b'
               Starting point of the hidden text.

         `e'
               Ending point of the hidden text.

         `l'
               Number of characters in the hidden region.

         `n'
               Number of lines of hidden text.

    `gnus-cited-lines-visible'
          The number of lines at the beginning of the cited text to
          leave shown.  This can also be a cons cell with the number of
          lines at the top and bottom of the text, respectively, to
          remain visible.


`W W C-c'
     Hide citation (`gnus-article-hide-citation-maybe') depending on the
     following two variables:

    `gnus-cite-hide-percentage'
          If the cited text is of a bigger percentage than this
          variable (default 50), hide the cited text.

    `gnus-cite-hide-absolute'
          The cited text must have at least this length (default 10)
          before it is hidden.

`W W C'
     Hide cited text in articles that aren't roots
     (`gnus-article-hide-citation-in-followups').  This isn't very
     useful as an interactive command, but might be a handy function to
     stick have happen automatically (*note Customizing Articles::).


   All these "hiding" commands are toggles, but if you give a negative
prefix to these commands, they will show what they have previously
hidden.  If you give a positive prefix, they will always hide.

   Also *note Article Highlighting:: for further variables for citation
customization.

   *Note Customizing Articles::, for how to hide article elements
automatically.


File: gnus,  Node: Article Washing,  Next: Article Header,  Prev: Article Hiding,  Up: Article Treatment

3.18.4 Article Washing
----------------------

We call this "article washing" for a really good reason.  Namely, the
`A' key was taken, so we had to use the `W' key instead.

   "Washing" is defined by us as "changing something from something to
something else", but normally results in something looking better.
Cleaner, perhaps.

   *Note Customizing Articles::, if you want to change how Gnus displays
articles by default.

`C-u g'
     This is not really washing, it's sort of the opposite of washing.
     If you type this, you see the article exactly as it exists on disk
     or on the server.

`g'
     Force redisplaying of the current article
     (`gnus-summary-show-article').  This is also not really washing.
     If you type this, you see the article without any previously
     applied interactive Washing functions but with all default
     treatments (*note Customizing Articles::).

`W l'
     Remove page breaks from the current article
     (`gnus-summary-stop-page-breaking').  *Note Misc Article::, for
     page delimiters.

`W r'
     Do a Caesar rotate (rot13) on the article buffer
     (`gnus-summary-caesar-message').  Unreadable articles that tell
     you to read them with Caesar rotate or rot13.  (Typically
     offensive jokes and such.)

     It's commonly called "rot13" because each letter is rotated 13
     positions in the alphabet, e. g. `B' (letter #2) -> `O' (letter
     #15).  It is sometimes referred to as "Caesar rotate" because
     Caesar is rumored to have employed this form of, uh, somewhat weak
     encryption.

`W m'
     Morse decode the article buffer (`gnus-summary-morse-message').

`W i'
     Decode IDNA encoded domain names in the current articles.  IDNA
     encoded domain names looks like `xn--bar'.  If a string remain
     unencoded after running invoking this, it is likely an invalid IDNA
     string (`xn--bar' is invalid).  You must have GNU Libidn
     (`http://www.gnu.org/software/libidn/') installed for this command
     to work.

`W t'

`t'
     Toggle whether to display all headers in the article buffer
     (`gnus-summary-toggle-header').

`W v'
     Toggle whether to display all headers in the article buffer
     permanently (`gnus-summary-verbose-headers').

`W o'
     Treat overstrike (`gnus-article-treat-overstrike').

`W d'
     Treat M****s*** sm*rtq**t*s according to
     `gnus-article-dumbquotes-map' (`gnus-article-treat-dumbquotes').
     Note that this function guesses whether a character is a
     sm*rtq**t* or not, so it should only be used interactively.

     Sm*rtq**t*s are M****s***'s unilateral extension to the character
     map in an attempt to provide more quoting characters.  If you see
     something like `\222' or `\264' where you're expecting some kind of
     apostrophe or quotation mark, then try this wash.

`W U'
     Translate many non-ASCII characters into their ASCII equivalents
     (`gnus-article-treat-non-ascii').  This is mostly useful if you're
     on a terminal that has a limited font and doesn't show accented
     characters, "advanced" punctuation, and the like.  For instance,
     `' is translated into `>>', and so on.

`W Y f'
     Full deuglify of broken Outlook (Express) articles: Treat
     dumbquotes, unwrap lines, repair attribution and rearrange
     citation.  (`gnus-article-outlook-deuglify-article').

`W Y u'
     Unwrap lines that appear to be wrapped citation lines.  You can
     control what lines will be unwrapped by frobbing
     `gnus-outlook-deuglify-unwrap-min' and
     `gnus-outlook-deuglify-unwrap-max', indicating the minimum and
     maximum length of an unwrapped citation line.
     (`gnus-article-outlook-unwrap-lines').

`W Y a'
     Repair a broken attribution line.
     (`gnus-article-outlook-repair-attribution').

`W Y c'
     Repair broken citations by rearranging the text.
     (`gnus-article-outlook-rearrange-citation').

`W w'
     Do word wrap (`gnus-article-fill-cited-article').

     You can give the command a numerical prefix to specify the width
     to use when filling.

`W Q'
     Fill long lines (`gnus-article-fill-long-lines').

`W C'
     Capitalize the first word in each sentence
     (`gnus-article-capitalize-sentences').

`W c'
     Translate CRLF pairs (i. e., `^M's on the end of the lines) into LF
     (this takes care of DOS line endings), and then translate any
     remaining CRs into LF (this takes care of Mac line endings)
     (`gnus-article-remove-cr').

`W q'
     Treat quoted-printable (`gnus-article-de-quoted-unreadable').
     Quoted-Printable is one common MIME encoding employed when sending
     non-ASCII (i.e., 8-bit) articles.  It typically makes strings like
     `dj vu' look like `d=E9j=E0 vu', which doesn't look very
     readable to me.  Note that this is usually done automatically by
     Gnus if the message in question has a `Content-Transfer-Encoding'
     header that says that this encoding has been done.  If a prefix is
     given, a charset will be asked for.

`W 6'
     Treat base64 (`gnus-article-de-base64-unreadable').  Base64 is one
     common MIME encoding employed when sending non-ASCII (i.e., 8-bit)
     articles.  Note that this is usually done automatically by Gnus if
     the message in question has a `Content-Transfer-Encoding' header
     that says that this encoding has been done.  If a prefix is given,
     a charset will be asked for.

`W Z'
     Treat HZ or HZP (`gnus-article-decode-HZ').  HZ (or HZP) is one
     common encoding employed when sending Chinese articles.  It
     typically makes strings look like `~{<:Ky2;S{#,NpJ)l6HK!#~}'.

`W A'
     Translate ANSI SGR control sequences into overlays or extents
     (`gnus-article-treat-ansi-sequences').  ANSI sequences are used in
     some Chinese hierarchies for highlighting.

`W u'
     Remove newlines from within URLs.  Some mailers insert newlines
     into outgoing email messages to keep lines short.  This
     reformatting can split long URLs onto multiple lines.  Repair
     those URLs by removing the newlines (`gnus-article-unsplit-urls').

`W h'
     Treat HTML (`gnus-article-wash-html').  Note that this is usually
     done automatically by Gnus if the message in question has a
     `Content-Type' header that says that the message is HTML.

     If a prefix is given, a charset will be asked for.  If it is a
     number, the charset defined in
     `gnus-summary-show-article-charset-alist' (*note Paging the
     Article::) will be used.

     The default is to use the function specified by
     `mm-text-html-renderer' (*note Display Customization:
     (emacs-mime)Display Customization.) to convert the HTML.
     Pre-defined functions you can use include:

    `shr'
          Use Gnus simple html renderer.

    `gnus-w3m'
          Use Gnus rendered based on w3m.

    `w3'
          Use Emacs/W3.

    `w3m'
          Use emacs-w3m (http://emacs-w3m.namazu.org/).

    `w3m-standalone'
          Use w3m (http://w3m.sourceforge.net/).

    `links'
          Use Links (http://links.sf.net/).

    `lynx'
          Use Lynx (http://lynx.isc.org/).

    `html2text'
          Use html2text--a simple HTML converter included with Gnus.


`W b'
     Add clickable buttons to the article (`gnus-article-add-buttons').
     *Note Article Buttons::.

`W B'
     Add clickable buttons to the article headers
     (`gnus-article-add-buttons-to-head').

`W p'
     Verify a signed control message (`gnus-article-verify-x-pgp-sig').
     Control messages such as `newgroup' and `checkgroups' are usually
     signed by the hierarchy maintainer.  You need to add the PGP
     public key of the maintainer to your keyring to verify the
     message.(1)

`W s'
     Verify a signed (PGP, PGP/MIME or S/MIME) message
     (`gnus-summary-force-verify-and-decrypt'). *Note Security::.

`W a'
     Strip headers like the `X-No-Archive' header from the beginning of
     article bodies (`gnus-article-strip-headers-in-body').

`W E l'
     Remove all blank lines from the beginning of the article
     (`gnus-article-strip-leading-blank-lines').

`W E m'
     Replace all blank lines with empty lines and then all multiple
     empty lines with a single empty line.
     (`gnus-article-strip-multiple-blank-lines').

`W E t'
     Remove all blank lines at the end of the article
     (`gnus-article-remove-trailing-blank-lines').

`W E a'
     Do all the three commands above (`gnus-article-strip-blank-lines').

`W E A'
     Remove all blank lines (`gnus-article-strip-all-blank-lines').

`W E s'
     Remove all white space from the beginning of all lines of the
     article body (`gnus-article-strip-leading-space').

`W E e'
     Remove all white space from the end of all lines of the article
     body (`gnus-article-strip-trailing-space').


   *Note Customizing Articles::, for how to wash articles automatically.

   ---------- Footnotes ----------

   (1) PGP keys for many hierarchies are available at
`ftp://ftp.isc.org/pub/pgpcontrol/README.html'


File: gnus,  Node: Article Header,  Next: Article Buttons,  Prev: Article Washing,  Up: Article Treatment

3.18.5 Article Header
---------------------

These commands perform various transformations of article header.

`W G u'
     Unfold folded header lines (`gnus-article-treat-unfold-headers').

`W G n'
     Fold the `Newsgroups' and `Followup-To' headers
     (`gnus-article-treat-fold-newsgroups').

`W G f'
     Fold all the message headers (`gnus-article-treat-fold-headers').

`W E w'
     Remove excessive whitespace from all headers
     (`gnus-article-remove-leading-whitespace').



File: gnus,  Node: Article Buttons,  Next: Article Button Levels,  Prev: Article Header,  Up: Article Treatment

3.18.6 Article Buttons
----------------------

People often include references to other stuff in articles, and it would
be nice if Gnus could just fetch whatever it is that people talk about
with the minimum of fuzz when you hit `RET' or use the middle mouse
button on these references.

   Gnus adds "buttons" to certain standard references by default:
Well-formed URLs, mail addresses, Message-IDs, Info links, man pages and
Emacs or Gnus related references.  This is controlled by two variables,
one that handles article bodies and one that handles article heads:

`gnus-button-alist'
     This is an alist where each entry has this form:

          (REGEXP BUTTON-PAR USE-P FUNCTION DATA-PAR)

    REGEXP
          All text that match this regular expression (case
          insensitive) will be considered an external reference.
          Here's a typical regexp that matches embedded URLs:
          `<URL:\\([^\n\r>]*\\)>'.  This can also be a variable
          containing a regexp, useful variables to use include
          `gnus-button-url-regexp' and `gnus-button-mid-or-mail-regexp'.

    BUTTON-PAR
          Gnus has to know which parts of the matches is to be
          highlighted.  This is a number that says what sub-expression
          of the regexp is to be highlighted.  If you want it all
          highlighted, you use 0 here.

    USE-P
          This form will be `eval'ed, and if the result is non-`nil',
          this is considered a match.  This is useful if you want extra
          sifting to avoid false matches.  Often variables named
          `gnus-button-*-level' are used here, *Note Article Button
          Levels::, but any other form may be used too.

    FUNCTION
          This function will be called when you click on this button.

    DATA-PAR
          As with BUTTON-PAR, this is a sub-expression number, but this
          one says which part of the match is to be sent as data to
          FUNCTION.


     So the full entry for buttonizing URLs is then

          ("<URL:\\([^\n\r>]*\\)>" 0 t gnus-button-url 1)

`gnus-header-button-alist'
     This is just like the other alist, except that it is applied to the
     article head only, and that each entry has an additional element
     that is used to say what headers to apply the buttonize coding to:

          (HEADER REGEXP BUTTON-PAR USE-P FUNCTION DATA-PAR)

     HEADER is a regular expression.

3.18.6.1 Related variables and functions
........................................

`gnus-button-*-level'
     *Note Article Button Levels::.

`gnus-button-url-regexp'
     A regular expression that matches embedded URLs.  It is used in the
     default values of the variables above.

`gnus-button-man-handler'
     The function to use for displaying man pages.  It must take at
     least one argument with a string naming the man page.

`gnus-button-mid-or-mail-regexp'
     Regular expression that matches a message ID or a mail address.

`gnus-button-prefer-mid-or-mail'
     This variable determines what to do when the button on a string as
     `foo123@bar.invalid' is pushed.  Strings like this can be either a
     message ID or a mail address.  If it is one of the symbols `mid' or
     `mail', Gnus will always assume that the string is a message ID or
     a mail address, respectively.  If this variable is set to the
     symbol `ask', always query the user what to do.  If it is a
     function, this function will be called with the string as its only
     argument.  The function must return `mid', `mail', `invalid' or
     `ask'.  The default value is the function
     `gnus-button-mid-or-mail-heuristic'.

`gnus-button-mid-or-mail-heuristic'
     Function that guesses whether its argument is a message ID or a
     mail address.  Returns `mid' if it's a message IDs, `mail' if it's
     a mail address, `ask' if unsure and `invalid' if the string is
     invalid.

`gnus-button-mid-or-mail-heuristic-alist'
     An alist of `(RATE . REGEXP)' pairs used by the function
     `gnus-button-mid-or-mail-heuristic'.

`gnus-article-button-face'
     Face used on buttons.

`gnus-article-mouse-face'
     Face used when the mouse cursor is over a button.


   *Note Customizing Articles::, for how to buttonize articles
automatically.


File: gnus,  Node: Article Button Levels,  Next: Article Date,  Prev: Article Buttons,  Up: Article Treatment

3.18.7 Article button levels
----------------------------

The higher the value of the variables `gnus-button-*-level', the more
buttons will appear.  If the level is zero, no corresponding buttons
are displayed.  With the default value (which is 5) you should already
see quite a lot of buttons.  With higher levels, you will see more
buttons, but you may also get more false positives.  To avoid them, you
can set the variables `gnus-button-*-level' local to specific groups
(*note Group Parameters::).  Here's an example for the variable
`gnus-parameters':

     ;; increase `gnus-button-*-level' in some groups:
     (setq gnus-parameters
           '(("\\<\\(emacs\\|gnus\\)\\>" (gnus-button-emacs-level 10))
             ("\\<unix\\>"               (gnus-button-man-level 10))
             ("\\<tex\\>"                (gnus-button-tex-level 10))))

`gnus-button-browse-level'
     Controls the display of references to message IDs, mail addresses
     and news URLs.  Related variables and functions include
     `gnus-button-url-regexp', `browse-url', and
     `browse-url-browser-function'.

`gnus-button-emacs-level'
     Controls the display of Emacs or Gnus references.  Related
     functions are `gnus-button-handle-custom',
     `gnus-button-handle-describe-function',
     `gnus-button-handle-describe-variable',
     `gnus-button-handle-symbol', `gnus-button-handle-describe-key',
     `gnus-button-handle-apropos', `gnus-button-handle-apropos-command',
     `gnus-button-handle-apropos-variable',
     `gnus-button-handle-apropos-documentation', and
     `gnus-button-handle-library'.

`gnus-button-man-level'
     Controls the display of references to (Unix) man pages.  See
     `gnus-button-man-handler'.

`gnus-button-message-level'
     Controls the display of message IDs, mail addresses and news URLs.
     Related variables and functions include
     `gnus-button-mid-or-mail-regexp', `gnus-button-prefer-mid-or-mail',
     `gnus-button-mid-or-mail-heuristic', and
     `gnus-button-mid-or-mail-heuristic-alist'.



File: gnus,  Node: Article Date,  Next: Article Display,  Prev: Article Button Levels,  Up: Article Treatment

3.18.8 Article Date
-------------------

The date is most likely generated in some obscure timezone you've never
heard of, so it's quite nice to be able to find out what the time was
when the article was sent.

`W T u'
     Display the date in UT (aka. GMT, aka ZULU)
     (`gnus-article-date-ut').

`W T i'
     Display the date in international format, aka. ISO 8601
     (`gnus-article-date-iso8601').

`W T l'
     Display the date in the local timezone (`gnus-article-date-local').

`W T p'
     Display the date in a format that's easily pronounceable in English
     (`gnus-article-date-english').

`W T s'
     Display the date using a user-defined format
     (`gnus-article-date-user').  The format is specified by the
     `gnus-article-time-format' variable, and is a string that's passed
     to `format-time-string'.  See the documentation of that variable
     for a list of possible format specs.

`W T e'
     Say how much time has elapsed between the article was posted and
     now (`gnus-article-date-lapsed').  It looks something like:

          Date: 6 weeks, 4 days, 1 hour, 3 minutes, 8 seconds ago

     This line is updated continually by default.  The frequency (in
     seconds) is controlled by the `gnus-article-update-date-headers'
     variable.

     If you wish to switch updating off, say:

          (setq gnus-article-update-date-headers nil)

     in your `~/.gnus.el' file.

`W T o'
     Display the original date (`gnus-article-date-original').  This can
     be useful if you normally use some other conversion function and
     are worried that it might be doing something totally wrong.  Say,
     claiming that the article was posted in 1854.  Although something
     like that is _totally_ impossible.  Don't you trust me? *titter*


   *Note Customizing Articles::, for how to display the date in your
preferred format automatically.


File: gnus,  Node: Article Display,  Next: Article Signature,  Prev: Article Date,  Up: Article Treatment

3.18.9 Article Display
----------------------

These commands add various frivolous display gimmicks to the article
buffer in Emacs versions that support them.

   `X-Face' headers are small black-and-white images supplied by the
message headers (*note X-Face::).

   `Face' headers are small colored images supplied by the message
headers (*note Face::).

   Smileys are those little `:-)' symbols that people like to litter
their messages with (*note Smileys::).

   Picons, on the other hand, reside on your own system, and Gnus will
try to match the headers to what you have (*note Picons::).

   Gravatars reside on-line and are fetched from
`http://www.gravatar.com/' (*note Gravatars::).

   All these functions are toggles--if the elements already exist,
they'll be removed.

`W D x'
     Display an `X-Face' in the `From' header.
     (`gnus-article-display-x-face').

`W D d'
     Display a `Face' in the `From' header.
     (`gnus-article-display-face').

`W D s'
     Display smileys (`gnus-treat-smiley').

`W D f'
     Piconify the `From' header (`gnus-treat-from-picon').

`W D m'
     Piconify all mail headers (i. e., `Cc', `To')
     (`gnus-treat-mail-picon').

`W D n'
     Piconify all news headers (i. e., `Newsgroups' and `Followup-To')
     (`gnus-treat-newsgroups-picon').

`W D g'
     Gravatarify the `From' header (`gnus-treat-from-gravatar').

`W D h'
     Gravatarify all mail headers (i. e., `Cc', `To')
     (`gnus-treat-from-gravatar').

`W D D'
     Remove all images from the article buffer
     (`gnus-article-remove-images').

`W D W'
     If you're reading an HTML article rendered with
     `gnus-article-html', then you can insert any blocked images in the
     buffer with this command.  (`gnus-html-show-images').



File: gnus,  Node: Article Signature,  Next: Article Miscellanea,  Prev: Article Display,  Up: Article Treatment

3.18.10 Article Signature
-------------------------

Each article is divided into two parts--the head and the body.  The
body can be divided into a signature part and a text part.  The variable
that says what is to be considered a signature is
`gnus-signature-separator'.  This is normally the standard `^-- $' as
mandated by son-of-RFC 1036.  However, many people use non-standard
signature separators, so this variable can also be a list of regular
expressions to be tested, one by one.  (Searches are done from the end
of the body towards the beginning.)  One likely value is:

     (setq gnus-signature-separator
           '("^-- $"         ; The standard
             "^-- *$"        ; A common mangling
             "^-------*$"    ; Many people just use a looong
                             ; line of dashes.  Shame!
             "^ *--------*$" ; Double-shame!
             "^________*$"   ; Underscores are also popular
             "^========*$")) ; Pervert!

   The more permissive you are, the more likely it is that you'll get
false positives.

   `gnus-signature-limit' provides a limit to what is considered a
signature when displaying articles.

  1. If it is an integer, no signature may be longer (in characters)
     than that integer.

  2. If it is a floating point number, no signature may be longer (in
     lines) than that number.

  3. If it is a function, the function will be called without any
     parameters, and if it returns `nil', there is no signature in the
     buffer.

  4. If it is a string, it will be used as a regexp.  If it matches,
     the text in question is not a signature.

   This variable can also be a list where the elements may be of the
types listed above.  Here's an example:

     (setq gnus-signature-limit
           '(200.0 "^---*Forwarded article"))

   This means that if there are more than 200 lines after the signature
separator, or the text after the signature separator is matched by the
regular expression `^---*Forwarded article', then it isn't a signature
after all.


File: gnus,  Node: Article Miscellanea,  Prev: Article Signature,  Up: Article Treatment

3.18.11 Article Miscellanea
---------------------------

`A t'
     Translate the article from one language to another
     (`gnus-article-babel').



File: gnus,  Node: MIME Commands,  Next: Charsets,  Prev: Article Treatment,  Up: Summary Buffer

3.19 MIME Commands
==================

The following commands all understand the numerical prefix.  For
instance, `3 K v' means "view the third MIME part".

`b'
`K v'
     View the MIME part.

`K o'
     Save the MIME part.

`K O'
     Prompt for a file name, then save the MIME part and strip it from
     the article.  The stripped MIME object will be referred via the
     message/external-body MIME type.

`K r'
     Replace the MIME part with an external body.

`K d'
     Delete the MIME part and add some information about the removed
     part.

`K c'
     Copy the MIME part.

`K e'
     View the MIME part externally.

`K i'
     View the MIME part internally.

`K |'
     Pipe the MIME part to an external command.

   The rest of these MIME commands do not use the numerical prefix in
the same manner:

`K H'
     View `text/html' parts of the current article with a WWW browser.
     Inline images embedded in a message using the `cid' scheme, as they
     are generally considered to be safe, will be processed properly.
     The message header is added to the beginning of every HTML part
     unless the prefix argument is given.

     Warning: Spammers use links to images (using the `http' scheme) in
     HTML articles to verify whether you have read the message.  As
     this command passes the HTML content to the browser without
     eliminating these "web bugs" you should only use it for mails from
     trusted senders.

     If you always want to display HTML parts in the browser, set
     `mm-text-html-renderer' to `nil'.

     This command creates temporary files to pass HTML contents
     including images if any to the browser, and deletes them when
     exiting the group (if you want).

`K b'
     Make all the MIME parts have buttons in front of them.  This is
     mostly useful if you wish to save (or perform other actions) on
     inlined parts.

`K m'
     Some multipart messages are transmitted with missing or faulty
     headers.  This command will attempt to "repair" these messages so
     that they can be viewed in a more pleasant manner
     (`gnus-summary-repair-multipart').

`X m'
     Save all parts matching a MIME type to a directory
     (`gnus-summary-save-parts').  Understands the process/prefix
     convention (*note Process/Prefix::).

`M-t'
     Toggle the buttonized display of the article buffer
     (`gnus-summary-toggle-display-buttonized').

`W M w'
     Decode RFC 2047-encoded words in the article headers
     (`gnus-article-decode-mime-words').

`W M c'
     Decode encoded article bodies as well as charsets
     (`gnus-article-decode-charset').

     This command looks in the `Content-Type' header to determine the
     charset.  If there is no such header in the article, you can give
     it a prefix, which will prompt for the charset to decode as.  In
     regional groups where people post using some common encoding (but
     do not include MIME headers), you can set the `charset' group/topic
     parameter to the required charset (*note Group Parameters::).

`W M v'
     View all the MIME parts in the current article
     (`gnus-mime-view-all-parts').


   Relevant variables:

`gnus-ignored-mime-types'
     This is a list of regexps.  MIME types that match a regexp from
     this list will be completely ignored by Gnus.  The default value is
     `nil'.

     To have all Vcards be ignored, you'd say something like this:

          (setq gnus-ignored-mime-types
                '("text/x-vcard"))

`gnus-article-loose-mime'
     If non-`nil', Gnus won't require the `MIME-Version' header before
     interpreting the message as a MIME message.  This helps when
     reading messages from certain broken mail user agents.  The
     default is `t'.

`gnus-article-emulate-mime'
     There are other, non-MIME encoding methods used.  The most common
     is `uuencode', but yEncode is also getting to be popular.  If this
     variable is non-`nil', Gnus will look in message bodies to see if
     it finds these encodings, and if so, it'll run them through the
     Gnus MIME machinery.  The default is `t'.  Only single-part yEnc
     encoded attachments can be decoded.  There's no support for
     encoding in Gnus.

`gnus-unbuttonized-mime-types'
     This is a list of regexps.  MIME types that match a regexp from
     this list won't have MIME buttons inserted unless they aren't
     displayed or this variable is overridden by
     `gnus-buttonized-mime-types'.  The default value is `(".*/.*")'.
     This variable is only used when `gnus-inhibit-mime-unbuttonizing'
     is `nil'.

`gnus-buttonized-mime-types'
     This is a list of regexps.  MIME types that match a regexp from
     this list will have MIME buttons inserted unless they aren't
     displayed.  This variable overrides
     `gnus-unbuttonized-mime-types'.  The default value is `nil'.  This
     variable is only used when `gnus-inhibit-mime-unbuttonizing' is
     `nil'.

     To see e.g. security buttons but no other buttons, you could set
     this variable to `("multipart/signed")' and leave
     `gnus-unbuttonized-mime-types' at the default value.

     You could also add `"multipart/alternative"' to this list to
     display radio buttons that allow you to choose one of two media
     types those mails include.  See also `mm-discouraged-alternatives'
     (*note Display Customization: (emacs-mime)Display Customization.).

`gnus-inhibit-mime-unbuttonizing'
     If this is non-`nil', then all MIME parts get buttons.  The
     default value is `nil'.

`gnus-article-mime-part-function'
     For each MIME part, this function will be called with the MIME
     handle as the parameter.  The function is meant to be used to allow
     users to gather information from the article (e. g., add Vcard
     info to the bbdb database) or to do actions based on parts (e. g.,
     automatically save all jpegs into some directory).

     Here's an example function the does the latter:

          (defun my-save-all-jpeg-parts (handle)
            (when (equal (car (mm-handle-type handle)) "image/jpeg")
              (with-temp-buffer
                (insert (mm-get-part handle))
                (write-region (point-min) (point-max)
                              (read-file-name "Save jpeg to: ")))))
          (setq gnus-article-mime-part-function
                'my-save-all-jpeg-parts)

`gnus-mime-multipart-functions'
     Alist of MIME multipart types and functions to handle them.

`gnus-mime-display-multipart-alternative-as-mixed'
     Display "multipart/alternative" parts as "multipart/mixed".

`gnus-mime-display-multipart-related-as-mixed'
     Display "multipart/related" parts as "multipart/mixed".

     If displaying `text/html' is discouraged, see
     `mm-discouraged-alternatives', images or other material inside a
     "multipart/related" part might be overlooked when this variable is
     `nil'.  *note Display Customization: (emacs-mime)Display
     Customization.

`gnus-mime-display-multipart-as-mixed'
     Display "multipart" parts as "multipart/mixed".  If `t', it
     overrides `nil' values of
     `gnus-mime-display-multipart-alternative-as-mixed' and
     `gnus-mime-display-multipart-related-as-mixed'.

`mm-file-name-rewrite-functions'
     List of functions used for rewriting file names of MIME parts.
     Each function takes a file name as input and returns a file name.

     Ready-made functions include
     `mm-file-name-delete-whitespace', `mm-file-name-trim-whitespace',
     `mm-file-name-collapse-whitespace', and
     `mm-file-name-replace-whitespace'.  The later uses the value of
     the variable `mm-file-name-replace-whitespace' to replace each
     whitespace character in a file name with that string; default value
     is `"_"' (a single underscore).  

     The standard functions `capitalize', `downcase', `upcase', and
     `upcase-initials' may be useful, too.

     Everybody knows that whitespace characters in file names are evil,
     except those who don't know.  If you receive lots of attachments
     from such unenlightened users, you can make live easier by adding

          (setq mm-file-name-rewrite-functions
                '(mm-file-name-trim-whitespace
                  mm-file-name-collapse-whitespace
                  mm-file-name-replace-whitespace))

     to your `~/.gnus.el' file.




Local Variables:
coding: iso-8859-1
End:
